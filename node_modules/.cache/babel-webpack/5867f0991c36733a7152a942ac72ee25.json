{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { DataQueries, QueryProfile } from \"src/models/new/data.state\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngxs/store\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../profile-image/profile-image.component\";\nimport * as i4 from \"../stars/stars.component\";\nimport * as i5 from \"../../pipes/cast.pipe\";\n\nfunction UISOSCard_div_0_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const job_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", job_r3.name, \", \");\n  }\n}\n\nfunction UISOSCard_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵelementStart(1, \"div\", 2);\n    i0.ɵɵelement(2, \"profile-image\", 3);\n    i0.ɵɵelement(3, \"stars\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 5);\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 6);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"span\", 7);\n    i0.ɵɵtemplate(10, UISOSCard_div_0_ng_container_10_Template, 2, 1, \"ng-container\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const profile_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"profile\", profile_r1);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(profile_r1.company.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(profile_r1.company.address);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.jobs);\n  }\n}\n\nexport class UISOSCard {\n  constructor(store) {\n    this.store = store;\n    this.jobs = [];\n    this.availability = 'unavailable';\n  }\n\n  ngOnInit() {\n    this.profile$.subscribe(profile => {\n      if (!profile) return;\n      const jobsForCompany = this.store.selectSnapshot(DataQueries.getMany('JobForCompany', profile.company.jobs));\n      this.jobs = this.store.selectSnapshot(DataQueries.getMany('Job', jobsForCompany.map(({\n        job\n      }) => job)));\n    });\n  } //add a way to display a selected job\n\n\n  get borderColor() {\n    if (this.availability == 'available') return \"#B9EDAF\";else if (this.availability == 'availablelimits') return \"#ffc425\";else if (this.availability == 'unavailable') return \"red\";\n    return \"#ccc\";\n  }\n\n}\n\nUISOSCard.ɵfac = function UISOSCard_Factory(t) {\n  return new (t || UISOSCard)(i0.ɵɵdirectiveInject(i1.Store));\n};\n\nUISOSCard.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UISOSCard,\n  selectors: [[\"sos-card\"]],\n  hostVars: 2,\n  hostBindings: function UISOSCard_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      i0.ɵɵstyleProp(\"border-left-color\", ctx.borderColor);\n    }\n  },\n  inputs: {\n    profile$: [\"profile\", \"profile$\"],\n    availability: \"availability\"\n  },\n  decls: 3,\n  vars: 5,\n  consts: [[\"class\", \"container flex row center-cross space-around\", 4, \"ngIf\"], [1, \"container\", \"flex\", \"row\", \"center-cross\", \"space-around\"], [1, \"presentation\"], [3, \"profile\"], [\"value\", \"4\", \"disabled\", \"\"], [1, \"description\", \"grow\", \"flex\", \"column\", \"space-between\"], [2, \"font-weight\", \"200\"], [1, \"text-light-emphasis\", \"job\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function UISOSCard_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, UISOSCard_div_0_Template, 11, 4, \"div\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵpipe(2, \"cast\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, i0.ɵɵpipeBind1(2, 3, ctx.profile$)));\n    }\n  },\n  directives: [i2.NgIf, i3.UIProfileImageComponent, i4.UIStarsComponent, i2.NgForOf],\n  pipes: [i2.AsyncPipe, i5.CastPipe],\n  styles: [\"[_ngcontent-%COMP%]:root{--notification-size: $notification-size}.page-content-with-tabs[_ngcontent-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden;touch-action:pan-y!important}.page-content-with-tabs[_ngcontent-%COMP%]{margin-top:150px;margin-top:calc(constant(safe-area-inset-top) + 150px);margin-top:calc(env(safe-area-inset-top) + 150px);margin-bottom:0;margin-bottom:calc(constant(safe-area-inset-bottom) + 0);margin-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(100vh - 220px - env(safe-area-inset-bottom))}.invert[_ngcontent-%COMP%]{filter:invert(1)}[_nghost-%COMP%]{display:flex;justify-content:center;background:white;border-left:5px solid transparent;height:180px;padding:10px;border-radius:12px;box-shadow:0 5px 3px #959da533;position:relative}@media (min-width: 769px){[_nghost-%COMP%]{border-left-width:12px}}.container[_ngcontent-%COMP%]{width:400px}.presentation[_ngcontent-%COMP%]{flex-grow:0;transform:scale(.9)}.presentation[_ngcontent-%COMP%]   profile-image[_ngcontent-%COMP%]{transform:scale(.9) rotate(45deg)}.description[_ngcontent-%COMP%]{color:#aaa;height:80%}.description[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1em}.job[_ngcontent-%COMP%]{color:#000;overflow:hidden;display:-webkit-box;text-overflow:ellipsis;-webkit-box-orient:vertical;-webkit-line-clamp:2}\"],\n  changeDetection: 0\n});\n\n__decorate([QueryProfile()], UISOSCard.prototype, \"profile$\", void 0);\n\n;","map":null,"metadata":{},"sourceType":"module"}