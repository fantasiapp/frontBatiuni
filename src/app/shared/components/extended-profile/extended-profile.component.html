<ng-container *ngIf="(profile$ | cast | async) as profile">
  <div class="hosted-page flex column center-cross space-children-margin font-Poppins">
    <profile-resume class="flex column center-cross space-children-margin"
      [canChangePicture]="false"
      [showMore]="true"
      [profile]="profile"
      [switch]="showSwitch"
      [showRecomandation]="showRecomandation"
      [showView]="showView"
      [star]="showStar"
    ></profile-resume>
  
    <section class="job-description full-width flex column space-children-margin">
      <h4 class="text-light-emphasis">Nom de l'entreprise : <span class="value">{{profile.company.name}}</span></h4>

      <h4 class="text-light-emphasis">Téléphone fixe : <span class="value">{{profile.company.companyPhone | space: 2:1 }}</span></h4>
      
      <h4 class="text-light-emphasis" *ngIf="profile.company.webSite">Site internet : <span class="value link"><a [href]="profile.company.webSite">{{profile.company.webSite}}</a></span></h4>

      <h4 class="text-light-emphasis">N SIRET : <span class="value">{{profile.company.siret}}</span></h4>

      <h4 class="text-light-emphasis" *ngIf = "profile.company.allQualifications">Métier : <span class="value">TCE<br/></span>
      <span *ngFor="let job of companyJobs; let i = index" class="value">{{ job.number }} {{ jobs[i].name }}, </span></h4>

      <h4 class="text-light-emphasis" *ngIf = "!profile.company.allQualifications">Métier : 
      <span *ngFor="let job of companyJobs; let i = index" class="value">{{ job.number }} {{ jobs[i].name }}, </span></h4>
    
      <h4 class="text-light-emphasis" *ngIf="profile.company.revenue">Chiffres d'affaires : <span class="value">{{profile.company.revenue | currency: 'EUR':'symbol':'1.0-0' }}</span></h4>
    
      <h4 class="text-light-emphasis" *ngIf="profile.company.capital">Capital : <span class="value">{{profile.company.capital | currency: 'EUR':'symbol':'1.0-0' }}</span></h4>
      
      <h4 class="text-light-emphasis">Taux Horaire moyen : <span class="value">{{ profile.company.amount ? profile.company.amount + ' €' : 'Non renseigné'}} </span></h4>
     
      <span class="text-light-emphasis" *ngIf="profile.company.saturdayDisponibility">Disponible pour des missions les samedis</span>
    </section>
    
    <hr class="dashed"/>
    <section class="full-width documents">
      <h3>Documents importants</h3>
      <div class="documents-grid">
        <file-svg *ngFor="let file of attachedFiles" [name]="file.name" [color]="getFileColor(file.name)" (click)="openFile(file)"></file-svg>
      </div>
    </section>

    <ng-container *ngIf="showContact">
      <hr class="dashed"/>
      <section class="full-width">
        <h3>Contact</h3>
        <ul class="contact list flex space-around">
          <li><a [href]="'tel:+33' + profile.company.companyPhone"><img src="assets/missions/call.svg"/></a></li>
          <li><a [href]="'sms:+33' + profile.company.companyPhone"><img src="assets/missions/envoyer-un-message.svg"/></a></li>
          <li><a [href]="'mailto:'" disabled><img src="assets/missions/envoyer-un-mail.svg"/></a></li>
        </ul>
      </section>
    </ng-container>

    <ng-container *ngIf="showDeblockButton">
      <footer
      class="flex row space-between sticky-footer full-width submit-container"
      style="background-color: white;"
      >
      <!-- <a [routerLink]="['','home']"> Test </a> -->
      <button
        [routerLink]="['../app/mobile/components/blocked_contacts']"
        class="button gradient font-Poppins full-width"
        (click)="deblockContact(profile.company.id)"
      >
        Débloquer le contact
      </button>
      </footer>
      </ng-container>

    <!-- <div style="height: 1rem; width: 100%;"></div> -->
  </div>
</ng-container>