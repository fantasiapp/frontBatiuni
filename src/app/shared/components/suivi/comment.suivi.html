<div class="comment-provider">
  <profile-image class="user-image" [profile]="supervision.companyId"></profile-image>

  <div class="comment-box">
    <div class="user-info">
      <span class="user-name">{{supervision.author}}</span>
      <!-- <span class="post-date">Le {{supervision.date}}</span> -->

      <img (click)="deleteComment()" src="assets/trash-outline.svg" alt="delete-comment">
    </div>
    <div class="suivi-comment">
      {{supervision.comment}}
    </div>
  </div>
</div>

<div class="comment-image position-relative" *ngIf="supervision.files.length > 0">
  <div class="cover-parent" [slide-template]="image" [contexts]="supervision.files"></div>
  
  <ng-container *ngIf="manyFiles">
    <img (click)="slides.slide('left')" class="position-absolute left" [class.hidden]="slides.first" src="assets/arrowleft.svg"/>
    <img (click)="slides.slide('right')" class="position-absolute right" [class.hidden]="slides.last" src="assets/arrowright.svg"/>  
  </ng-container>
</div>


<div class="parent-comment" *ngIf="parentComment">
  <ng-content select="comment-suivi"></ng-content>
</div>

<ng-template #image let-src="supervision">
  <img class="main" [src]="getImage(supervision.files) || 'assets/unavailable.jpg'"/>
</ng-template>