<span style="margin: 2rem 2rem; display: block;">Sélectionnez un service</span>

    <div class="caroussel ">
      <div class="margleft"*ngIf="abonnements[0].prices$ | async as prices"> 
        <abonnement-card (openEngagment)="onOpenEngagement($event)" [subscriptionType]="0" [abonnement]="abonnements[0]" [prices]="prices"></abonnement-card>
      </div>
      <div class="thiscenterclass"*ngIf="abonnements[1].prices$ | async as prices"> 
        <abonnement-card (openEngagment)="onOpenEngagement($event)" class="thischild" [subscriptionType]="1" [abonnement]="abonnements[1]" [prices]="prices"></abonnement-card>
      </div>
      <div *ngIf="abonnements[2].prices$ | async as prices">
        <abonnement-card (openEngagment)="onOpenEngagement($event)" [subscriptionType]="2" [abonnement]="abonnements[2]" [prices]="prices"></abonnement-card>
      </div>
  </div>
<div class="caroussel-button" >
  <button class="flex center"
  (click)="scrollRight()"
  ><img src="assets/arrowleft.svg" alt=""></button>
  <button class="flex center"
  (click)="scrollLeft()"
  ><img src="assets/arrowright.svg" alt=""></button>
</div>

<slidemenu [(open)]="openEngagment" #engagment>
    <h1 class="center-text full-width" header>Gérer mes abonnements</h1>  
    <div *ngIf="openEngagment" class="modify-page hosted-page flex column center-cross space-children-margin" content>
      <h4>Sélectionnez un plan : </h4>
      <div class="plans-container" *ngIf="abonnements[currentAbonnementId].prices$ | async as prices">
        <ng-container *ngFor="let price of prices">
          <div class="plans__plan flex row" (click)="selectEngagement(price)">
            <button class="radio" [ngClass]="{'radio-active': selectedPrice == price}"></button>
            <div class="plan__text">Engagement {{price.intervalCount}} mois pour <span class="highlight">{{price.amount/price.intervalCount}}€</span> / mois ({{+price.amount/price.intervalCount/ 2}}€ au premier engagement)</div>
          </div>
        </ng-container>
        <!-- <div class="plans__plan flex row"(click)="selectEngagement(6)">
          <button class="radio "[ngClass]="{'radio-active': selectedEngagmentLength == 6 }"></button>
          <div class="plan__text">Engagement 6 mois pour <span class="highlight">{{+abonnements[currentAbonnementId].monthlyPrice * .9 | number: '1.2-2'}}€</span> / mois ({{+abonnements[currentAbonnementId].monthlyPrice *.9/ 2 | number: '1.2-2'}}€ au premier engagement)</div>
        </div>
        <div class="plans__plan flex row"(click)="selectEngagement(12)">
          <button class="radio"[ngClass]="{'radio-active': selectedEngagmentLength == 12}"></button>
          <div class="plan__text">Engagement 12 mois pour <span class="highlight">{{+abonnements[currentAbonnementId].monthlyPrice * .8 | number: '1.2-2'}}€</span> / mois ({{+abonnements[currentAbonnementId].monthlyPrice *.8/ 2 | number: '1.2-2'}}€ au premier engagement)</div>
        </div> -->
      </div>
      <footer class="sticky-footer">
        <button class="button active full-width" (click)="selectedPrice && openEngagmentPage = true" [ngClass]="{'disabled': selectedPrice === undefined}">J'en profite</button>
      </footer>
    </div>
  </slidemenu>
  <slidemenu [(open)]="openEngagmentPage">
    <h1 class="center-text full-width" header>Gérer mes abonnements</h1>  
    <div class="modify-page hosted-page flex column center-cross space-children-margin" content>
      <engagement *ngIf="openEngagmentPage && selectedPrice !=undefined" [abonnement]="abonnements[currentAbonnementId]" [selectPrice]="selectedPrice"></engagement>
    </div>
  </slidemenu>

