(self.webpackChunkbatiuni=self.webpackChunkbatiuni||[]).push([[693],{4021:(ke,_e,D)=>{"use strict";D.d(_e,{oK:()=>b,GW:()=>u,dk:()=>g});var b=(()=>{return(r=b||(b={})).Prompt="PROMPT",r.Camera="CAMERA",r.Photos="PHOTOS",b;var r})(),u=(()=>{return(r=u||(u={})).Rear="REAR",r.Front="FRONT",u;var r})(),g=(()=>{return(r=g||(g={})).Uri="uri",r.Base64="base64",r.DataUrl="dataUrl",g;var r})()},7673:(ke,_e,D)=>{"use strict";D.d(_e,{dk:()=>u.dk,oK:()=>u.oK,V1:()=>g});var b=D(8384),u=D(4021);const g=(0,b.fo)("Camera",{web:()=>D.e(28).then(D.bind(D,4028)).then(r=>new r.CameraWeb)})},2958:function(ke){ke.exports=function(){"use strict";var _e,D,b;function u(r,T){if(_e)if(D){var k="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+_e+")(sharedChunk); ("+D+")(sharedChunk); self.onerror = null;",C={};_e(C),b=T(C),"undefined"!=typeof window&&(b.workerUrl=window.URL.createObjectURL(new Blob([k],{type:"text/javascript"})))}else D=T;else _e=T}return u(0,function(r){var T="2.6.1",k=C;function C(n,e,i,s){this.cx=3*n,this.bx=3*(i-n)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(s-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=n,this.p1y=s,this.p2x=i,this.p2y=s}C.prototype.sampleCurveX=function(n){return((this.ax*n+this.bx)*n+this.cx)*n},C.prototype.sampleCurveY=function(n){return((this.ay*n+this.by)*n+this.cy)*n},C.prototype.sampleCurveDerivativeX=function(n){return(3*this.ax*n+2*this.bx)*n+this.cx},C.prototype.solveCurveX=function(n,e){var i,s,o,d,h;for(void 0===e&&(e=1e-6),o=n,h=0;h<8;h++){if(d=this.sampleCurveX(o)-n,Math.abs(d)<e)return o;var f=this.sampleCurveDerivativeX(o);if(Math.abs(f)<1e-6)break;o-=d/f}if((o=n)<(i=0))return i;if(o>(s=1))return s;for(;i<s;){if(d=this.sampleCurveX(o),Math.abs(d-n)<e)return o;n>d?i=o:s=o,o=.5*(s-i)+i}return o},C.prototype.solve=function(n,e){return this.sampleCurveY(this.solveCurveX(n,e))};var I=U;function U(n,e){this.x=n,this.y=e}U.prototype={clone:function(){return new U(this.x,this.y)},add:function(n){return this.clone()._add(n)},sub:function(n){return this.clone()._sub(n)},multByPoint:function(n){return this.clone()._multByPoint(n)},divByPoint:function(n){return this.clone()._divByPoint(n)},mult:function(n){return this.clone()._mult(n)},div:function(n){return this.clone()._div(n)},rotate:function(n){return this.clone()._rotate(n)},rotateAround:function(n,e){return this.clone()._rotateAround(n,e)},matMult:function(n){return this.clone()._matMult(n)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(n){return this.x===n.x&&this.y===n.y},dist:function(n){return Math.sqrt(this.distSqr(n))},distSqr:function(n){var e=n.x-this.x,i=n.y-this.y;return e*e+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(n){return Math.atan2(this.y-n.y,this.x-n.x)},angleWith:function(n){return this.angleWithSep(n.x,n.y)},angleWithSep:function(n,e){return Math.atan2(this.x*e-this.y*n,this.x*n+this.y*e)},_matMult:function(n){var e=n[2]*this.x+n[3]*this.y;return this.x=n[0]*this.x+n[1]*this.y,this.y=e,this},_add:function(n){return this.x+=n.x,this.y+=n.y,this},_sub:function(n){return this.x-=n.x,this.y-=n.y,this},_mult:function(n){return this.x*=n,this.y*=n,this},_div:function(n){return this.x/=n,this.y/=n,this},_multByPoint:function(n){return this.x*=n.x,this.y*=n.y,this},_divByPoint:function(n){return this.x/=n.x,this.y/=n.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var n=this.y;return this.y=this.x,this.x=-n,this},_rotate:function(n){var e=Math.cos(n),i=Math.sin(n),s=i*this.x+e*this.y;return this.x=e*this.x-i*this.y,this.y=s,this},_rotateAround:function(n,e){var i=Math.cos(n),s=Math.sin(n),o=e.y+s*(this.x-e.x)+i*(this.y-e.y);return this.x=e.x+i*(this.x-e.x)-s*(this.y-e.y),this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},U.convert=function(n){return n instanceof U?n:Array.isArray(n)?new U(n[0],n[1]):n};var W="undefined"!=typeof self?self:{};const oe=Math.pow(2,53)-1,be=Math.PI/180,G=180/Math.PI;function he(n){return n*be}function ge(n){return n*G}const Ie=[[0,0],[1,0],[1,1],[0,1]];function $e(n){if(n<=0)return 0;if(n>=1)return 1;const e=n*n,i=e*n;return 4*(n<.5?i:3*(n-e)+i-.75)}function j(n,e,i,s){const o=new k(n,e,i,s);return function(d){return o.solve(d)}}const Je=j(.25,.1,.25,1);function Ee(n,e,i){return Math.min(i,Math.max(e,n))}function Pe(n,e,i){const s=i-e,o=((n-e)%s+s)%s+e;return o===e?i:o}function lt(n,e,i){if(!n.length)return i(null,[]);let s=n.length;const o=new Array(n.length);let d=null;n.forEach((h,f)=>{e(h,(y,x)=>{y&&(d=y),o[f]=x,0==--s&&i(d,o)})})}function We(n){const e=[];for(const i in n)e.push(n[i]);return e}function Ke(n,...e){for(const i of e)for(const s in i)n[s]=i[s];return n}let Xe=1;function Ye(){return Xe++}function tt(){return function n(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,n)}()}function et(n){return n<=1?1:Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function vt(n){return!!n&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(n)}function dt(n,e){n.forEach(i=>{e[i]&&(e[i]=e[i].bind(e))})}function Mt(n,e){return-1!==n.indexOf(e,n.length-e.length)}function Rt(n,e,i){const s={};for(const o in n)s[o]=e.call(i||this,n[o],o,n);return s}function tn(n,e,i){const s={};for(const o in n)e.call(i||this,n[o],o,n)&&(s[o]=n[o]);return s}function nn(n){return Array.isArray(n)?n.map(nn):"object"==typeof n&&n?Rt(n,nn):n}const ln={};function It(n){ln[n]||("undefined"!=typeof console&&console.warn(n),ln[n]=!0)}function mn(n,e,i){return(i.y-n.y)*(e.x-n.x)>(e.y-n.y)*(i.x-n.x)}function Nn(n){let e=0;for(let i,s,o=0,d=n.length,h=d-1;o<d;h=o++)i=n[o],s=n[h],e+=(s.x-i.x)*(i.y+s.y);return e}function yn(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function yt(n){const e={};if(n.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(i,s,o,d)=>{const h=o||d;return e[s]=!h||h.toLowerCase(),""}),e["max-age"]){const i=parseInt(e["max-age"],10);isNaN(i)?delete e["max-age"]:e["max-age"]=i}return e}let Lt,Ve,Ge,wt=null;function zt(n){if(null==wt){const e=n.navigator?n.navigator.userAgent:null;wt=!!n.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return wt}function Cn(n){try{const e=W[n];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(e){return!1}}const Dn={now:()=>void 0!==Ge?Ge:W.performance.now(),setNow(n){Ge=n},restoreNow(){Ge=void 0},frame(n){const e=W.requestAnimationFrame(n);return{cancel:()=>W.cancelAnimationFrame(e)}},getImageData(n,e=0){const i=W.document.createElement("canvas"),s=i.getContext("2d");if(!s)throw new Error("failed to create canvas 2d context");return i.width=n.width,i.height=n.height,s.drawImage(n,0,0,n.width,n.height),s.getImageData(-e,-e,n.width+2*e,n.height+2*e)},resolveURL:n=>(Lt||(Lt=W.document.createElement("a")),Lt.href=n,Lt.href),get devicePixelRatio(){return W.devicePixelRatio},get prefersReducedMotion(){return!!W.matchMedia&&(null==Ve&&(Ve=W.matchMedia("(prefers-reduced-motion: reduce)")),Ve.matches)}};let bi;const Ht={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==bi){const n=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{bi=null!=process.env.API_URL_REGEX?new RegExp(process.env.API_URL_REGEX):n}catch(e){bi=n}}return bi},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},En={supported:!1,testSupport:function(n){!bs&&pi&&(_r?Hi(n):Sn=n)}};let Sn,pi,bs=!1,_r=!1;function Hi(n){const e=n.createTexture();n.bindTexture(n.TEXTURE_2D,e);try{if(n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,pi),n.isContextLost())return;En.supported=!0}catch(i){}n.deleteTexture(e),bs=!0}W.document&&(pi=W.document.createElement("img"),pi.onload=function(){Sn&&Hi(Sn),Sn=null,_r=!0},pi.onerror=function(){bs=!0,Sn=null},pi.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const In="01",Jn="NO_ACCESS_TOKEN";function fi(n){return 0===n.indexOf("mapbox:")}function tr(n){return Ht.API_URL_REGEX.test(n)}const Un=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Si(n){const e=n.match(Un);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function Hn(n){const e=n.params.length?`?${n.params.join("&")}`:"";return`${n.protocol}://${n.authority}${n.path}${e}`}function ci(n){if(!n)return null;const e=n.split(".");if(!e||3!==e.length)return null;try{return JSON.parse(decodeURIComponent(W.atob(e[1]).split("").map(i=>"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch(i){return null}}class Bt{constructor(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(e){const i=ci(Ht.ACCESS_TOKEN);let s="";return s=i&&i.u?W.btoa(encodeURIComponent(i.u).replace(/%([0-9A-F]{2})/g,(o,d)=>String.fromCharCode(Number("0x"+d)))):Ht.ACCESS_TOKEN||"",e?`mapbox.eventData.${e}:${s}`:`mapbox.eventData:${s}`}fetchEventData(){const e=Cn("localStorage"),i=this.getStorageKey(),s=this.getStorageKey("uuid");if(e)try{const o=W.localStorage.getItem(i);o&&(this.eventData=JSON.parse(o));const d=W.localStorage.getItem(s);d&&(this.anonId=d)}catch(o){It("Unable to read from LocalStorage")}}saveEventData(){const e=Cn("localStorage"),i=this.getStorageKey(),s=this.getStorageKey("uuid");if(e)try{W.localStorage.setItem(s,this.anonId),Object.keys(this.eventData).length>=1&&W.localStorage.setItem(i,JSON.stringify(this.eventData))}catch(o){It("Unable to write to LocalStorage")}}processRequests(e){}postEvent(e,i,s,o){if(!Ht.EVENTS_URL)return;const d=Si(Ht.EVENTS_URL);d.params.push(`access_token=${o||Ht.ACCESS_TOKEN||""}`);const h={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:T,skuId:In,userId:this.anonId},f=i?Ke(h,i):h,y={url:Hn(d),headers:{"Content-Type":"text/plain"},body:JSON.stringify([f])};this.pendingRequest=te(y,x=>{this.pendingRequest=null,s(x),this.saveEventData(),this.processRequests(o)})}queueRequest(e,i){this.queue.push(e),this.processRequests(i)}}const Wi=new class extends Bt{constructor(n){super("appUserTurnstile"),this._customAccessToken=n}postTurnstileEvent(n,e){Ht.EVENTS_URL&&Ht.ACCESS_TOKEN&&Array.isArray(n)&&n.some(i=>fi(i)||tr(i))&&this.queueRequest(Date.now(),e)}processRequests(n){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const e=ci(Ht.ACCESS_TOKEN),i=e?e.u:Ht.ACCESS_TOKEN;let s=i!==this.eventData.tokenU;vt(this.anonId)||(this.anonId=tt(),s=!0);const o=this.queue.shift();if(this.eventData.lastSuccess){const d=new Date(this.eventData.lastSuccess),h=new Date(o),f=(o-this.eventData.lastSuccess)/864e5;s=s||f>=1||f<-1||d.getDate()!==h.getDate()}else s=!0;if(!s)return this.processRequests();this.postEvent(o,{"enabled.telemetry":!1},d=>{d||(this.eventData.lastSuccess=o,this.eventData.tokenU=i)},n)}},mr=Wi.postTurnstileEvent.bind(Wi),Or=new class extends Bt{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(n,e,i,s){this.skuToken=e,this.errorCb=s,Ht.EVENTS_URL&&(i||Ht.ACCESS_TOKEN?this.queueRequest({id:n,timestamp:Date.now()},i):this.errorCb(new Error(Jn)))}processRequests(n){if(this.pendingRequest||0===this.queue.length)return;const{id:e,timestamp:i}=this.queue.shift();e&&this.success[e]||(this.anonId||this.fetchEventData(),vt(this.anonId)||(this.anonId=tt()),this.postEvent(i,{skuToken:this.skuToken},s=>{s?this.errorCb(s):e&&(this.success[e]=!0)},n))}},Xa=Or.postMapLoadEvent.bind(Or),ra=new class extends Bt{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(n,e,i,s){if(!Ht.API_URL||!Ht.SESSION_PATH)return;const o=Si(Ht.API_URL+Ht.SESSION_PATH);o.params.push(`sku=${e||""}`),o.params.push(`access_token=${s||Ht.ACCESS_TOKEN||""}`);const d={url:Hn(o),headers:{"Content-Type":"text/plain"}};this.pendingRequest=se(d,h=>{this.pendingRequest=null,i(h),this.saveEventData(),this.processRequests(s)})}getSessionAPI(n,e,i,s){this.skuToken=e,this.errorCb=s,Ht.SESSION_PATH&&Ht.API_URL&&(i||Ht.ACCESS_TOKEN?this.queueRequest({id:n,timestamp:Date.now()},i):this.errorCb(new Error(Jn)))}processRequests(n){if(this.pendingRequest||0===this.queue.length)return;const{id:e,timestamp:i}=this.queue.shift();e&&this.success[e]||this.getSession(i,this.skuToken,s=>{s?this.errorCb(s):e&&(this.success[e]=!0)},n)}},ws=ra.getSessionAPI.bind(ra),On=new Set,Qr="mapbox-tiles";let gi,Vi,un=500,pr=50;function qi(){W.caches&&!gi&&(gi=W.caches.open(Qr))}function nr(n){const e=n.indexOf("?");return e<0?n:n.slice(0,e)}let zr=1/0;const Gi={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(Gi);class Ci extends Error{constructor(e,i,s){401===i&&tr(s)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),super(e),this.status=i,this.url=s}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const ee=yn()?()=>self.worker&&self.worker.referrer:()=>("blob:"===W.location.protocol?W.parent:W).location.href,F=function(n,e){if(!(/^file:/.test(i=n.url)||/^file:/.test(ee())&&!/^\w+:/.test(i))){if(W.fetch&&W.Request&&W.AbortController&&W.Request.prototype.hasOwnProperty("signal"))return function(s,o){const d=new W.AbortController,h=new W.Request(s.url,{method:s.method||"GET",body:s.body,credentials:s.credentials,headers:s.headers,referrer:ee(),signal:d.signal});let f=!1,y=!1;const x=(L=h.url).indexOf("sku=")>0&&tr(L);var L;"json"===s.type&&h.headers.set("Accept","application/json");const E=(B,Z,q)=>{if(y)return;if(B&&"SecurityError"!==B.message&&It(B),Z&&q)return P(Z);const ne=Date.now();W.fetch(h).then(ae=>{if(ae.ok){const de=x?ae.clone():null;return P(ae,de,ne)}return o(new Ci(ae.statusText,ae.status,s.url))}).catch(ae=>{20!==ae.code&&o(new Error(ae.message))})},P=(B,Z,q)=>{("arrayBuffer"===s.type?B.arrayBuffer():"json"===s.type?B.json():B.text()).then(ne=>{y||(Z&&q&&function(ae,de,ye){if(qi(),!gi)return;const we={status:de.status,statusText:de.statusText,headers:new W.Headers};de.headers.forEach((De,Ue)=>we.headers.set(Ue,De));const Me=yt(de.headers.get("Cache-Control")||"");Me["no-store"]||(Me["max-age"]&&we.headers.set("Expires",new Date(ye+1e3*Me["max-age"]).toUTCString()),new Date(we.headers.get("Expires")).getTime()-ye<42e4||function(De,Ue){if(void 0===Vi)try{new Response(new ReadableStream),Vi=!0}catch(ze){Vi=!1}Vi?Ue(De.body):De.blob().then(Ue)}(de,De=>{const Ue=new W.Response(De,we);qi(),gi&&gi.then(ze=>ze.put(nr(ae.url),Ue)).catch(ze=>It(ze.message))}))}(h,Z,q),f=!0,o(null,ne,B.headers.get("Cache-Control"),B.headers.get("Expires")))}).catch(ne=>{y||o(new Error(ne.message))})};return x?function(B,Z){if(qi(),!gi)return Z(null);const q=nr(B.url);gi.then(ne=>{ne.match(q).then(ae=>{const de=function(ye){if(!ye)return!1;const we=new Date(ye.headers.get("Expires")||0),Me=yt(ye.headers.get("Cache-Control")||"");return we>Date.now()&&!Me["no-cache"]}(ae);ne.delete(q),de&&ne.put(q,ae.clone()),Z(null,ae,de)}).catch(Z)}).catch(Z)}(h,E):E(null,null),{cancel:()=>{y=!0,f||d.abort()}}}(n,e);if(yn()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",n,e,void 0,!0)}var i;return function(s,o){const d=new W.XMLHttpRequest;d.open(s.method||"GET",s.url,!0),"arrayBuffer"===s.type&&(d.responseType="arraybuffer");for(const h in s.headers)d.setRequestHeader(h,s.headers[h]);return"json"===s.type&&(d.responseType="text",d.setRequestHeader("Accept","application/json")),d.withCredentials="include"===s.credentials,d.onerror=()=>{o(new Error(d.statusText))},d.onload=()=>{if((d.status>=200&&d.status<300||0===d.status)&&null!==d.response){let h=d.response;if("json"===s.type)try{h=JSON.parse(d.response)}catch(f){return o(f)}o(null,h,d.getResponseHeader("Cache-Control"),d.getResponseHeader("Expires"))}else o(new Ci(d.statusText,d.status,s.url))},d.send(s.body),{cancel:()=>d.abort()}}(n,e)},N=function(n,e){return F(Ke(n,{type:"arrayBuffer"}),e)},te=function(n,e){return F(Ke(n,{method:"POST"}),e)},se=function(n,e){return F(Ke(n,{method:"GET"}),e)};function me(n){const e=W.document.createElement("a");return e.href=n,e.protocol===W.document.location.protocol&&e.host===W.document.location.host}const ue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Le,fe;Le=[],fe=0;const Te=function(n,e){if(En.supported&&(n.headers||(n.headers={}),n.headers.accept="image/webp,*/*"),fe>=Ht.MAX_PARALLEL_IMAGE_REQUESTS){const d={requestParameters:n,callback:e,cancelled:!1,cancel(){this.cancelled=!0}};return Le.push(d),d}fe++;let i=!1;const s=()=>{if(!i)for(i=!0,fe--;Le.length&&fe<Ht.MAX_PARALLEL_IMAGE_REQUESTS;){const d=Le.shift(),{requestParameters:h,callback:f,cancelled:y}=d;y||(d.cancel=Te(h,f).cancel)}},o=N(n,(d,h,f,y)=>{s(),d?e(d):h&&(W.createImageBitmap?function(x,L){const E=new W.Blob([new Uint8Array(x)],{type:"image/png"});W.createImageBitmap(E).then(P=>{L(null,P)}).catch(P=>{L(new Error(`Could not load image because of ${P.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(h,(x,L)=>e(x,L,f,y)):function(x,L){const E=new W.Image,P=W.URL;E.onload=()=>{L(null,E),P.revokeObjectURL(E.src),E.onload=null,W.requestAnimationFrame(()=>{E.src=ue})},E.onerror=()=>L(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const B=new W.Blob([new Uint8Array(x)],{type:"image/png"});E.src=x.byteLength?P.createObjectURL(B):ue}(h,(x,L)=>e(x,L,f,y)))});return{cancel:()=>{o.cancel(),s()}}};function Ze(n,e,i){i[n]&&-1!==i[n].indexOf(e)||(i[n]=i[n]||[],i[n].push(e))}function Qe(n,e,i){if(i&&i[n]){const s=i[n].indexOf(e);-1!==s&&i[n].splice(s,1)}}class qe{constructor(e,i={}){Ke(this,i),this.type=e}}class xt extends qe{constructor(e,i={}){super("error",Ke({error:e},i))}}class it{on(e,i){return this._listeners=this._listeners||{},Ze(e,i,this._listeners),this}off(e,i){return Qe(e,i,this._listeners),Qe(e,i,this._oneTimeListeners),this}once(e,i){return i?(this._oneTimeListeners=this._oneTimeListeners||{},Ze(e,i,this._oneTimeListeners),this):new Promise(s=>this.once(e,s))}fire(e,i){"string"==typeof e&&(e=new qe(e,i||{}));const s=e.type;if(this.listens(s)){e.target=this;const o=this._listeners&&this._listeners[s]?this._listeners[s].slice():[];for(const f of o)f.call(this,e);const d=this._oneTimeListeners&&this._oneTimeListeners[s]?this._oneTimeListeners[s].slice():[];for(const f of d)Qe(s,f,this._oneTimeListeners),f.call(this,e);const h=this._eventedParent;h&&(Ke(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),h.fire(e))}else e instanceof xt&&console.error(e.error);return this}listens(e){return!!(this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e))}setEventedParent(e,i){return this._eventedParent=e,this._eventedParentData=i,this}}var xe=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":0.1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":true,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"cross-faded"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"cross-faded":{"type":"property-type"},"cross-faded-data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');class Oe{constructor(e,i,s,o){this.message=(e?`${e}: `:"")+s,o&&(this.identifier=o),null!=i&&i.__line__&&(this.line=i.__line__)}}function Tt(n){const e=n.value;return e?[new Oe(n.key,e,"constants have been deprecated as of v8")]:[]}function Ut(n,...e){for(const i of e)for(const s in i)n[s]=i[s];return n}function kt(n){return n instanceof Number||n instanceof String||n instanceof Boolean?n.valueOf():n}function jt(n){if(Array.isArray(n))return n.map(jt);if(n instanceof Object&&!(n instanceof Number||n instanceof String||n instanceof Boolean)){const e={};for(const i in n)e[i]=jt(n[i]);return e}return kt(n)}class Kt extends Error{constructor(e,i){super(i),this.message=i,this.key=e}}class Fr{constructor(e,i=[]){this.parent=e,this.bindings={};for(const[s,o]of i)this.bindings[s]=o}concat(e){return new Fr(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}const $i={kind:"null"},rt={kind:"number"},Ft={kind:"string"},Zt={kind:"boolean"},An={kind:"color"},fr={kind:"object"},Nt={kind:"value"},sa={kind:"collator"},es={kind:"formatted"},ts={kind:"resolvedImage"};function wi(n,e){return{kind:"array",itemType:n,N:e}}function Tn(n){if("array"===n.kind){const e=Tn(n.itemType);return"number"==typeof n.N?`array<${e}, ${n.N}>`:"value"===n.itemType.kind?"array":`array<${e}>`}return n.kind}const Qa=[$i,rt,Ft,Zt,An,es,fr,wi(Nt),ts];function ir(n,e){if("error"===e.kind)return null;if("array"===n.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!ir(n.itemType,e.itemType))&&("number"!=typeof n.N||n.N===e.N))return null}else{if(n.kind===e.kind)return null;if("value"===n.kind)for(const i of Qa)if(!ir(i,e))return null}return`Expected ${Tn(n)} but found ${Tn(e)} instead.`}function eo(n,e){return e.some(i=>i.kind===n.kind)}function zi(n,e){return e.some(i=>"null"===i?null===n:"array"===i?Array.isArray(n):"object"===i?n&&!Array.isArray(n)&&"object"==typeof n:i===typeof n)}function aa(n){var e={exports:{}};return n(e,e.exports),e.exports}var Pi=aa(function(n,e){var i={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function s(f){return(f=Math.round(f))<0?0:f>255?255:f}function o(f){return s("%"===f[f.length-1]?parseFloat(f)/100*255:parseInt(f))}function d(f){return(y="%"===f[f.length-1]?parseFloat(f)/100:parseFloat(f))<0?0:y>1?1:y;var y}function h(f,y,x){return x<0?x+=1:x>1&&(x-=1),6*x<1?f+(y-f)*x*6:2*x<1?y:3*x<2?f+(y-f)*(2/3-x)*6:f}try{e.parseCSSColor=function(f){var y,x=f.replace(/ /g,"").toLowerCase();if(x in i)return i[x].slice();if("#"===x[0])return 4===x.length?(y=parseInt(x.substr(1),16))>=0&&y<=4095?[(3840&y)>>4|(3840&y)>>8,240&y|(240&y)>>4,15&y|(15&y)<<4,1]:null:7===x.length&&(y=parseInt(x.substr(1),16))>=0&&y<=16777215?[(16711680&y)>>16,(65280&y)>>8,255&y,1]:null;var L=x.indexOf("("),E=x.indexOf(")");if(-1!==L&&E+1===x.length){var P=x.substr(0,L),B=x.substr(L+1,E-(L+1)).split(","),Z=1;switch(P){case"rgba":if(4!==B.length)return null;Z=d(B.pop());case"rgb":return 3!==B.length?null:[o(B[0]),o(B[1]),o(B[2]),Z];case"hsla":if(4!==B.length)return null;Z=d(B.pop());case"hsl":if(3!==B.length)return null;var q=(parseFloat(B[0])%360+360)%360/360,ne=d(B[1]),ae=d(B[2]),de=ae<=.5?ae*(ne+1):ae+ne-ae*ne,ye=2*ae-de;return[s(255*h(ye,de,q+1/3)),s(255*h(ye,de,q)),s(255*h(ye,de,q-1/3)),Z];default:return null}}return null}}catch(f){}});class Vt{constructor(e,i,s,o=1){this.r=e,this.g=i,this.b=s,this.a=o}static parse(e){if(!e)return;if(e instanceof Vt)return e;if("string"!=typeof e)return;const i=Pi.parseCSSColor(e);return i?new Vt(i[0]/255*i[3],i[1]/255*i[3],i[2]/255*i[3],i[3]):void 0}toString(){const[e,i,s,o]=this.toArray();return`rgba(${Math.round(e)},${Math.round(i)},${Math.round(s)},${o})`}toArray(){const{r:e,g:i,b:s,a:o}=this;return 0===o?[0,0,0,0]:[255*e/o,255*i/o,255*s/o,o]}}Vt.black=new Vt(0,0,0,1),Vt.white=new Vt(1,1,1,1),Vt.transparent=new Vt(0,0,0,0),Vt.red=new Vt(1,0,0,1),Vt.blue=new Vt(0,0,1,1);class Ts{constructor(e,i,s){this.sensitivity=e?i?"variant":"case":i?"accent":"base",this.locale=s,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,i){return this.collator.compare(e,i)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Rr{constructor(e,i,s,o,d){this.text=e,this.image=i,this.scale=s,this.fontStack=o,this.textColor=d}}class ni{constructor(e){this.sections=e}static fromString(e){return new ni([new Rr(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(e=>0!==e.text.length||e.image&&0!==e.image.name.length)}static factory(e){return e instanceof ni?e:ni.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map(e=>e.text).join("")}serialize(){const e=["format"];for(const i of this.sections){if(i.image){e.push(["image",i.image.name]);continue}e.push(i.text);const s={};i.fontStack&&(s["text-font"]=["literal",i.fontStack.split(",")]),i.scale&&(s["font-scale"]=i.scale),i.textColor&&(s["text-color"]=["rgba"].concat(i.textColor.toArray())),e.push(s)}return e}}class ii{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new ii({name:e,available:!1}):null}serialize(){return["image",this.name]}}function Ls(n,e,i,s){return"number"==typeof n&&n>=0&&n<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof i&&i>=0&&i<=255?void 0===s||"number"==typeof s&&s>=0&&s<=1?null:`Invalid rgba value [${[n,e,i,s].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof s?[n,e,i,s]:[n,e,i]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function ks(n){if(null===n||"string"==typeof n||"boolean"==typeof n||"number"==typeof n||n instanceof Vt||n instanceof Ts||n instanceof ni||n instanceof ii)return!0;if(Array.isArray(n)){for(const e of n)if(!ks(e))return!1;return!0}if("object"==typeof n){for(const e in n)if(!ks(n[e]))return!1;return!0}return!1}function Ln(n){if(null===n)return $i;if("string"==typeof n)return Ft;if("boolean"==typeof n)return Zt;if("number"==typeof n)return rt;if(n instanceof Vt)return An;if(n instanceof Ts)return sa;if(n instanceof ni)return es;if(n instanceof ii)return ts;if(Array.isArray(n)){const e=n.length;let i;for(const s of n){const o=Ln(s);if(i){if(i===o)continue;i=Nt;break}i=o}return wi(i||Nt,e)}return fr}function ui(n){const e=typeof n;return null===n?"":"string"===e||"number"===e||"boolean"===e?String(n):n instanceof Vt||n instanceof ni||n instanceof ii?n.toString():JSON.stringify(n)}class Br{constructor(e,i){this.type=e,this.value=i}static parse(e,i){if(2!==e.length)return i.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!ks(e[1]))return i.error("invalid value");const s=e[1];let o=Ln(s);const d=i.expectedType;return"array"!==o.kind||0!==o.N||!d||"array"!==d.kind||"number"==typeof d.N&&0!==d.N||(o=d),new Br(o,s)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Vt?["rgba"].concat(this.value.toArray()):this.value instanceof ni?this.value.serialize():this.value}}class zn{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}}const to={string:Ft,number:rt,boolean:Zt,object:fr};class Fi{constructor(e,i){this.type=e,this.args=i}static parse(e,i){if(e.length<2)return i.error("Expected at least one argument.");let s,o=1;const d=e[0];if("array"===d){let f,y;if(e.length>2){const x=e[1];if("string"!=typeof x||!(x in to)||"object"===x)return i.error('The item type argument of "array" must be one of string, number, boolean',1);f=to[x],o++}else f=Nt;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return i.error('The length argument to "array" must be a positive integer literal',2);y=e[2],o++}s=wi(f,y)}else s=to[d];const h=[];for(;o<e.length;o++){const f=i.parse(e[o],o,Nt);if(!f)return null;h.push(f)}return new Fi(s,h)}evaluate(e){for(let i=0;i<this.args.length;i++){const s=this.args[i].evaluate(e);if(!ir(this.type,Ln(s)))return s;if(i===this.args.length-1)throw new zn(`Expected value to be of type ${Tn(this.type)}, but found ${Tn(Ln(s))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=this.type,i=[e.kind];if("array"===e.kind){const s=e.itemType;if("string"===s.kind||"number"===s.kind||"boolean"===s.kind){i.push(s.kind);const o=e.N;("number"==typeof o||this.args.length>1)&&i.push(o)}}return i.concat(this.args.map(s=>s.serialize()))}}class Ds{constructor(e){this.type=es,this.sections=e}static parse(e,i){if(e.length<2)return i.error("Expected at least one argument.");const s=e[1];if(!Array.isArray(s)&&"object"==typeof s)return i.error("First argument must be an image or text section.");const o=[];let d=!1;for(let h=1;h<=e.length-1;++h){const f=e[h];if(d&&"object"==typeof f&&!Array.isArray(f)){d=!1;let y=null;if(f["font-scale"]&&(y=i.parse(f["font-scale"],1,rt),!y))return null;let x=null;if(f["text-font"]&&(x=i.parse(f["text-font"],1,wi(Ft)),!x))return null;let L=null;if(f["text-color"]&&(L=i.parse(f["text-color"],1,An),!L))return null;const E=o[o.length-1];E.scale=y,E.font=x,E.textColor=L}else{const y=i.parse(e[h],1,Nt);if(!y)return null;const x=y.type.kind;if("string"!==x&&"value"!==x&&"null"!==x&&"resolvedImage"!==x)return i.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");d=!0,o.push({content:y,scale:null,font:null,textColor:null})}}return new Ds(o)}evaluate(e){return new ni(this.sections.map(i=>{const s=i.content.evaluate(e);return Ln(s)===ts?new Rr("",s,null,null,null):new Rr(ui(s),null,i.scale?i.scale.evaluate(e):null,i.font?i.font.evaluate(e).join(","):null,i.textColor?i.textColor.evaluate(e):null)}))}eachChild(e){for(const i of this.sections)e(i.content),i.scale&&e(i.scale),i.font&&e(i.font),i.textColor&&e(i.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const i of this.sections){e.push(i.content.serialize());const s={};i.scale&&(s["font-scale"]=i.scale.serialize()),i.font&&(s["text-font"]=i.font.serialize()),i.textColor&&(s["text-color"]=i.textColor.serialize()),e.push(s)}return e}}class oa{constructor(e){this.type=ts,this.input=e}static parse(e,i){if(2!==e.length)return i.error("Expected two arguments.");const s=i.parse(e[1],1,Ft);return s?new oa(s):i.error("No image name provided.")}evaluate(e){const i=this.input.evaluate(e),s=ii.fromString(i);return s&&e.availableImages&&(s.available=e.availableImages.indexOf(i)>-1),s}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const zl={"to-boolean":Zt,"to-color":An,"to-number":rt,"to-string":Ft};class gr{constructor(e,i){this.type=e,this.args=i}static parse(e,i){if(e.length<2)return i.error("Expected at least one argument.");const s=e[0];if(("to-boolean"===s||"to-string"===s)&&2!==e.length)return i.error("Expected one argument.");const o=zl[s],d=[];for(let h=1;h<e.length;h++){const f=i.parse(e[h],h,Nt);if(!f)return null;d.push(f)}return new gr(o,d)}evaluate(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){let i,s;for(const o of this.args){if(i=o.evaluate(e),s=null,i instanceof Vt)return i;if("string"==typeof i){const d=e.parseColor(i);if(d)return d}else if(Array.isArray(i)&&(s=i.length<3||i.length>4?`Invalid rbga value ${JSON.stringify(i)}: expected an array containing either three or four numeric values.`:Ls(i[0],i[1],i[2],i[3]),!s))return new Vt(i[0]/255,i[1]/255,i[2]/255,i[3])}throw new zn(s||`Could not parse color from value '${"string"==typeof i?i:String(JSON.stringify(i))}'`)}if("number"===this.type.kind){let i=null;for(const s of this.args){if(i=s.evaluate(e),null===i)return 0;const o=Number(i);if(!isNaN(o))return o}throw new zn(`Could not convert ${JSON.stringify(i)} to number.`)}return"formatted"===this.type.kind?ni.fromString(ui(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?ii.fromString(ui(this.args[0].evaluate(e))):ui(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if("formatted"===this.type.kind)return new Ds([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new oa(this.args[0]).serialize();const e=[`to-${this.type.kind}`];return this.eachChild(i=>{e.push(i.serialize())}),e}}const no=["Unknown","Point","LineString","Polygon"];class io{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?no[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const e=this.featureDistanceData.center,i=this.featureDistanceData.scale,{x:s,y:o}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(s*i-e[0])+this.featureDistanceData.bearing[1]*(o*i-e[1])}return 0}parseColor(e){let i=this._parseColorCache[e];return i||(i=this._parseColorCache[e]=Vt.parse(e)),i}}class Kn{constructor(e,i,s,o){this.name=e,this.type=i,this._evaluate=s,this.args=o}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,i){const s=e[0],o=Kn.definitions[s];if(!o)return i.error(`Unknown expression "${s}". If you wanted a literal array, use ["literal", [...]].`,0);const d=Array.isArray(o)?o[0]:o.type,h=Array.isArray(o)?[[o[1],o[2]]]:o.overloads,f=h.filter(([x])=>!Array.isArray(x)||x.length===e.length-1);let y=null;for(const[x,L]of f){y=new _a(i.registry,i.path,null,i.scope);const E=[];let P=!1;for(let B=1;B<e.length;B++){const Z=e[B],q=Array.isArray(x)?x[B-1]:x.type,ne=y.parse(Z,1+E.length,q);if(!ne){P=!0;break}E.push(ne)}if(!P)if(Array.isArray(x)&&x.length!==E.length)y.error(`Expected ${x.length} arguments, but found ${E.length} instead.`);else{for(let B=0;B<E.length;B++){const Z=Array.isArray(x)?x[B]:x.type,q=E[B];y.concat(B+1).checkSubtype(Z,q.type)}if(0===y.errors.length)return new Kn(s,d,L,E)}}if(1===f.length)i.errors.push(...y.errors);else{const x=(f.length?f:h).map(([E])=>{return P=E,Array.isArray(P)?`(${P.map(Tn).join(", ")})`:`(${Tn(P.type)}...)`;var P}).join(" | "),L=[];for(let E=1;E<e.length;E++){const P=i.parse(e[E],1+L.length);if(!P)return null;L.push(Tn(P.type))}i.error(`Expected arguments of type ${x}, but found (${L.join(", ")}) instead.`)}return null}static register(e,i){Kn.definitions=i;for(const s in i)e[s]=Kn}}class la{constructor(e,i,s){this.type=sa,this.locale=s,this.caseSensitive=e,this.diacriticSensitive=i}static parse(e,i){if(2!==e.length)return i.error("Expected one argument.");const s=e[1];if("object"!=typeof s||Array.isArray(s))return i.error("Collator options argument must be an object.");const o=i.parse(void 0!==s["case-sensitive"]&&s["case-sensitive"],1,Zt);if(!o)return null;const d=i.parse(void 0!==s["diacritic-sensitive"]&&s["diacritic-sensitive"],1,Zt);if(!d)return null;let h=null;return s.locale&&(h=i.parse(s.locale,1,Ft),!h)?null:new la(o,d,h)}evaluate(e){return new Ts(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const yr=8192;function ro(n,e){n[0]=Math.min(n[0],e[0]),n[1]=Math.min(n[1],e[1]),n[2]=Math.max(n[2],e[0]),n[3]=Math.max(n[3],e[1])}function ca(n,e){return!(n[0]<=e[0]||n[2]>=e[2]||n[1]<=e[1]||n[3]>=e[3])}function Fl(n,e){const i=(180+n[0])/360,s=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n[1]*Math.PI/360)))/360,o=Math.pow(2,e.z);return[Math.round(i*o*yr),Math.round(s*o*yr)]}function Rl(n,e,i){const s=n[0]-e[0],o=n[1]-e[1],d=n[0]-i[0],h=n[1]-i[1];return s*h-d*o==0&&s*d<=0&&o*h<=0}function ua(n,e){let i=!1;for(let h=0,f=e.length;h<f;h++){const y=e[h];for(let x=0,L=y.length;x<L-1;x++){if(Rl(n,y[x],y[x+1]))return!1;(o=y[x])[1]>(s=n)[1]!=(d=y[x+1])[1]>s[1]&&s[0]<(d[0]-o[0])*(s[1]-o[1])/(d[1]-o[1])+o[0]&&(i=!i)}}var s,o,d;return i}function da(n,e){for(let i=0;i<e.length;i++)if(ua(n,e[i]))return!0;return!1}function Uo(n,e,i,s){const o=s[0]-i[0],d=s[1]-i[1],h=(n[0]-i[0])*d-o*(n[1]-i[1]),f=(e[0]-i[0])*d-o*(e[1]-i[1]);return h>0&&f<0||h<0&&f>0}function Bl(n,e,i){for(const x of i)for(let L=0;L<x.length-1;++L)if((f=[(h=x[L+1])[0]-(d=x[L])[0],h[1]-d[1]])[0]*(y=[(o=e)[0]-(s=n)[0],o[1]-s[1]])[1]-f[1]*y[0]!=0&&Uo(s,o,d,h)&&Uo(d,h,s,o))return!0;var s,o,d,h,f,y;return!1}function jo(n,e){for(let i=0;i<n.length;++i)if(!ua(n[i],e))return!1;for(let i=0;i<n.length-1;++i)if(Bl(n[i],n[i+1],e))return!1;return!0}function Ul(n,e){for(let i=0;i<e.length;i++)if(jo(n,e[i]))return!0;return!1}function Ai(n,e,i){const s=[];for(let o=0;o<n.length;o++){const d=[];for(let h=0;h<n[o].length;h++){const f=Fl(n[o][h],i);ro(e,f),d.push(f)}s.push(d)}return s}function so(n,e,i){const s=[];for(let o=0;o<n.length;o++){const d=Ai(n[o],e,i);s.push(d)}return s}function ao(n,e,i,s){if(n[0]<i[0]||n[0]>i[2]){const o=.5*s;let d=n[0]-i[0]>o?-s:i[0]-n[0]>o?s:0;0===d&&(d=n[0]-i[2]>o?-s:i[2]-n[0]>o?s:0),n[0]+=d}ro(e,n)}function Ur(n,e,i,s){const o=Math.pow(2,s.z)*yr,d=[s.x*yr,s.y*yr],h=[];for(const f of n)for(const y of f){const x=[y.x+d[0],y.y+d[1]];ao(x,e,i,o),h.push(x)}return h}function vr(n,e,i,s){const o=Math.pow(2,s.z)*yr,d=[s.x*yr,s.y*yr],h=[];for(const y of n){const x=[];for(const L of y){const E=[L.x+d[0],L.y+d[1]];ro(e,E),x.push(E)}h.push(x)}if(e[2]-e[0]<=o/2){(f=e)[0]=f[1]=1/0,f[2]=f[3]=-1/0;for(const y of h)for(const x of y)ao(x,e,i,o)}var f;return h}class xr{constructor(e,i){this.type=Zt,this.geojson=e,this.geometries=i}static parse(e,i){if(2!==e.length)return i.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(ks(e[1])){const s=e[1];if("FeatureCollection"===s.type)for(let o=0;o<s.features.length;++o){const d=s.features[o].geometry.type;if("Polygon"===d||"MultiPolygon"===d)return new xr(s,s.features[o].geometry)}else if("Feature"===s.type){const o=s.geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new xr(s,s.geometry)}else if("Polygon"===s.type||"MultiPolygon"===s.type)return new xr(s,s)}return i.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(i,s){const o=[1/0,1/0,-1/0,-1/0],d=[1/0,1/0,-1/0,-1/0],h=i.canonicalID();if("Polygon"===s.type){const f=Ai(s.coordinates,d,h),y=Ur(i.geometry(),o,d,h);if(!ca(o,d))return!1;for(const x of y)if(!ua(x,f))return!1}if("MultiPolygon"===s.type){const f=so(s.coordinates,d,h),y=Ur(i.geometry(),o,d,h);if(!ca(o,d))return!1;for(const x of y)if(!da(x,f))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(i,s){const o=[1/0,1/0,-1/0,-1/0],d=[1/0,1/0,-1/0,-1/0],h=i.canonicalID();if("Polygon"===s.type){const f=Ai(s.coordinates,d,h),y=vr(i.geometry(),o,d,h);if(!ca(o,d))return!1;for(const x of y)if(!jo(x,f))return!1}if("MultiPolygon"===s.type){const f=so(s.coordinates,d,h),y=vr(i.geometry(),o,d,h);if(!ca(o,d))return!1;for(const x of y)if(!Ul(x,f))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}function jr(n){if(n instanceof Kn&&("get"===n.name&&1===n.args.length||"feature-state"===n.name||"has"===n.name&&1===n.args.length||"properties"===n.name||"geometry-type"===n.name||"id"===n.name||/^filter-/.test(n.name))||n instanceof xr)return!1;let e=!0;return n.eachChild(i=>{e&&!jr(i)&&(e=!1)}),e}function Es(n){if(n instanceof Kn&&"feature-state"===n.name)return!1;let e=!0;return n.eachChild(i=>{e&&!Es(i)&&(e=!1)}),e}function $t(n,e){if(n instanceof Kn&&e.indexOf(n.name)>=0)return!1;let i=!0;return n.eachChild(s=>{i&&!$t(s,e)&&(i=!1)}),i}class ha{constructor(e,i){this.type=i.type,this.name=e,this.boundExpression=i}static parse(e,i){if(2!==e.length||"string"!=typeof e[1])return i.error("'var' expression requires exactly one string literal argument.");const s=e[1];return i.scope.has(s)?new ha(s,i.scope.get(s)):i.error(`Unknown variable "${s}". Make sure "${s}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class _a{constructor(e,i=[],s,o=new Fr,d=[]){this.registry=e,this.path=i,this.key=i.map(h=>`[${h}]`).join(""),this.scope=o,this.errors=d,this.expectedType=s}parse(e,i,s,o,d={}){return i?this.concat(i,s,o)._parse(e,d):this._parse(e,d)}_parse(e,i){function s(o,d,h){return"assert"===h?new Fi(d,[o]):"coerce"===h?new gr(d,[o]):o}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const o=e[0];if("string"!=typeof o)return this.error(`Expression name must be a string, but found ${typeof o} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const d=this.registry[o];if(d){let h=d.parse(e,this);if(!h)return null;if(this.expectedType){const f=this.expectedType,y=h.type;if("string"!==f.kind&&"number"!==f.kind&&"boolean"!==f.kind&&"object"!==f.kind&&"array"!==f.kind||"value"!==y.kind)if("color"!==f.kind&&"formatted"!==f.kind&&"resolvedImage"!==f.kind||"value"!==y.kind&&"string"!==y.kind){if(this.checkSubtype(f,y))return null}else h=s(h,f,i.typeAnnotation||"coerce");else h=s(h,f,i.typeAnnotation||"assert")}if(!(h instanceof Br)&&"resolvedImage"!==h.type.kind&&oo(h)){const f=new io;try{h=new Br(h.type,h.evaluate(f))}catch(y){return this.error(y.message),null}}return h}return this.error(`Unknown expression "${o}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,i,s){const o="number"==typeof e?this.path.concat(e):this.path,d=s?this.scope.concat(s):this.scope;return new _a(this.registry,o,i||null,d,this.errors)}error(e,...i){const s=`${this.key}${i.map(o=>`[${o}]`).join("")}`;this.errors.push(new Kt(s,e))}checkSubtype(e,i){const s=ir(e,i);return s&&this.error(s),s}}function oo(n){if(n instanceof ha)return oo(n.boundExpression);if(n instanceof Kn&&"error"===n.name||n instanceof la||n instanceof xr)return!1;const e=n instanceof gr||n instanceof Fi;let i=!0;return n.eachChild(s=>{i=e?i&&oo(s):i&&s instanceof Br}),!!i&&jr(n)&&$t(n,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function ns(n,e){const i=n.length-1;let s,o,d=0,h=i,f=0;for(;d<=h;)if(f=Math.floor((d+h)/2),s=n[f],o=n[f+1],s<=e){if(f===i||e<o)return f;d=f+1}else{if(!(s>e))throw new zn("Input is not a number.");h=f-1}return 0}class dn{constructor(e,i,s){this.type=e,this.input=i,this.labels=[],this.outputs=[];for(const[o,d]of s)this.labels.push(o),this.outputs.push(d)}static parse(e,i){if(e.length-1<4)return i.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return i.error("Expected an even number of arguments.");const s=i.parse(e[1],1,rt);if(!s)return null;const o=[];let d=null;i.expectedType&&"value"!==i.expectedType.kind&&(d=i.expectedType);for(let h=1;h<e.length;h+=2){const f=1===h?-1/0:e[h],y=e[h+1],x=h,L=h+1;if("number"!=typeof f)return i.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',x);if(o.length&&o[o.length-1][0]>=f)return i.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',x);const E=i.parse(y,L,d);if(!E)return null;d=d||E.type,o.push([f,E])}return new dn(d,s,o)}evaluate(e){const i=this.labels,s=this.outputs;if(1===i.length)return s[0].evaluate(e);const o=this.input.evaluate(e);if(o<=i[0])return s[0].evaluate(e);const d=i.length;return o>=i[d-1]?s[d-1].evaluate(e):s[ns(i,o)].evaluate(e)}eachChild(e){e(this.input);for(const i of this.outputs)e(i)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){const e=["step",this.input.serialize()];for(let i=0;i<this.labels.length;i++)i>0&&e.push(this.labels[i]),e.push(this.outputs[i].serialize());return e}}function Gt(n,e,i){return n*(1-i)+e*i}var rr=Object.freeze({__proto__:null,number:Gt,color:function(n,e,i){return new Vt(Gt(n.r,e.r,i),Gt(n.g,e.g,i),Gt(n.b,e.b,i),Gt(n.a,e.a,i))},array:function(n,e,i){return n.map((s,o)=>Gt(s,e[o],i))}});const Zo=4/29,Mr=6/29,Ji=3*Mr*Mr,lo=Math.PI/180,No=180/Math.PI;function Ri(n){return n>.008856451679035631?Math.pow(n,1/3):n/Ji+Zo}function fa(n){return n>Mr?n*n*n:Ji*(n-Zo)}function is(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function ga(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function co(n){const e=ga(n.r),i=ga(n.g),s=ga(n.b),o=Ri((.4124564*e+.3575761*i+.1804375*s)/.95047),d=Ri((.2126729*e+.7151522*i+.072175*s)/1);return{l:116*d-16,a:500*(o-d),b:200*(d-Ri((.0193339*e+.119192*i+.9503041*s)/1.08883)),alpha:n.a}}function Ho(n){let e=(n.l+16)/116,i=isNaN(n.a)?e:e+n.a/500,s=isNaN(n.b)?e:e-n.b/200;return e=1*fa(e),i=.95047*fa(i),s=1.08883*fa(s),new Vt(is(3.2404542*i-1.5371385*e-.4985314*s),is(-.969266*i+1.8760108*e+.041556*s),is(.0556434*i-.2040259*e+1.0572252*s),n.alpha)}function Ss(n,e,i){const s=e-n;return n+i*(s>180||s<-180?s-360*Math.round(s/360):s)}const br={forward:co,reverse:Ho,interpolate:function(n,e,i){return{l:Gt(n.l,e.l,i),a:Gt(n.a,e.a,i),b:Gt(n.b,e.b,i),alpha:Gt(n.alpha,e.alpha,i)}}},Cs={forward:function(n){const{l:e,a:i,b:s}=co(n),o=Math.atan2(s,i)*No;return{h:o<0?o+360:o,c:Math.sqrt(i*i+s*s),l:e,alpha:n.a}},reverse:function(n){const e=n.h*lo,i=n.c;return Ho({l:n.l,a:Math.cos(e)*i,b:Math.sin(e)*i,alpha:n.alpha})},interpolate:function(n,e,i){return{h:Ss(n.h,e.h,i),c:Gt(n.c,e.c,i),l:Gt(n.l,e.l,i),alpha:Gt(n.alpha,e.alpha,i)}}};var Wo=Object.freeze({__proto__:null,lab:br,hcl:Cs});class Ti{constructor(e,i,s,o,d){this.type=e,this.operator=i,this.interpolation=s,this.input=o,this.labels=[],this.outputs=[];for(const[h,f]of d)this.labels.push(h),this.outputs.push(f)}static interpolationFactor(e,i,s,o){let d=0;if("exponential"===e.name)d=ya(i,e.base,s,o);else if("linear"===e.name)d=ya(i,1,s,o);else if("cubic-bezier"===e.name){const h=e.controlPoints;d=new k(h[0],h[1],h[2],h[3]).solve(ya(i,1,s,o))}return d}static parse(e,i){let[s,o,d,...h]=e;if(!Array.isArray(o)||0===o.length)return i.error("Expected an interpolation type expression.",1);if("linear"===o[0])o={name:"linear"};else if("exponential"===o[0]){const x=o[1];if("number"!=typeof x)return i.error("Exponential interpolation requires a numeric base.",1,1);o={name:"exponential",base:x}}else{if("cubic-bezier"!==o[0])return i.error(`Unknown interpolation type ${String(o[0])}`,1,0);{const x=o.slice(1);if(4!==x.length||x.some(L=>"number"!=typeof L||L<0||L>1))return i.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);o={name:"cubic-bezier",controlPoints:x}}}if(e.length-1<4)return i.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return i.error("Expected an even number of arguments.");if(d=i.parse(d,2,rt),!d)return null;const f=[];let y=null;"interpolate-hcl"===s||"interpolate-lab"===s?y=An:i.expectedType&&"value"!==i.expectedType.kind&&(y=i.expectedType);for(let x=0;x<h.length;x+=2){const L=h[x],E=h[x+1],P=x+3,B=x+4;if("number"!=typeof L)return i.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',P);if(f.length&&f[f.length-1][0]>=L)return i.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',P);const Z=i.parse(E,B,y);if(!Z)return null;y=y||Z.type,f.push([L,Z])}return"number"===y.kind||"color"===y.kind||"array"===y.kind&&"number"===y.itemType.kind&&"number"==typeof y.N?new Ti(y,s,o,d,f):i.error(`Type ${Tn(y)} is not interpolatable.`)}evaluate(e){const i=this.labels,s=this.outputs;if(1===i.length)return s[0].evaluate(e);const o=this.input.evaluate(e);if(o<=i[0])return s[0].evaluate(e);const d=i.length;if(o>=i[d-1])return s[d-1].evaluate(e);const h=ns(i,o),f=Ti.interpolationFactor(this.interpolation,o,i[h],i[h+1]),y=s[h].evaluate(e),x=s[h+1].evaluate(e);return"interpolate"===this.operator?rr[this.type.kind.toLowerCase()](y,x,f):"interpolate-hcl"===this.operator?Cs.reverse(Cs.interpolate(Cs.forward(y),Cs.forward(x),f)):br.reverse(br.interpolate(br.forward(y),br.forward(x),f))}eachChild(e){e(this.input);for(const i of this.outputs)e(i)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const i=[this.operator,e,this.input.serialize()];for(let s=0;s<this.labels.length;s++)i.push(this.labels[s],this.outputs[s].serialize());return i}}function ya(n,e,i,s){const o=s-i,d=n-i;return 0===o?0:1===e?d/o:(Math.pow(e,d)-1)/(Math.pow(e,o)-1)}class va{constructor(e,i){this.type=e,this.args=i}static parse(e,i){if(e.length<2)return i.error("Expectected at least one argument.");let s=null;const o=i.expectedType;o&&"value"!==o.kind&&(s=o);const d=[];for(const f of e.slice(1)){const y=i.parse(f,1+d.length,s,void 0,{typeAnnotation:"omit"});if(!y)return null;s=s||y.type,d.push(y)}const h=o&&d.some(f=>ir(o,f.type));return new va(h?Nt:s,d)}evaluate(e){let i,s=null,o=0;for(const d of this.args)if(o++,s=d.evaluate(e),s&&s instanceof ii&&!s.available&&(i||(i=s.name),s=null,o===this.args.length&&(s=i)),null!==s)break;return s}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=["coalesce"];return this.eachChild(i=>{e.push(i.serialize())}),e}}class Ps{constructor(e,i){this.type=i.type,this.bindings=[].concat(e),this.result=i}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const i of this.bindings)e(i[1]);e(this.result)}static parse(e,i){if(e.length<4)return i.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const s=[];for(let d=1;d<e.length-1;d+=2){const h=e[d];if("string"!=typeof h)return i.error(`Expected string, but found ${typeof h} instead.`,d);if(/[^a-zA-Z0-9_]/.test(h))return i.error("Variable names must contain only alphanumeric characters or '_'.",d);const f=i.parse(e[d+1],d+1);if(!f)return null;s.push([h,f])}const o=i.parse(e[e.length-1],e.length-1,i.expectedType,s);return o?new Ps(s,o):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[i,s]of this.bindings)e.push(i,s.serialize());return e.push(this.result.serialize()),e}}class uo{constructor(e,i,s){this.type=e,this.index=i,this.input=s}static parse(e,i){if(3!==e.length)return i.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const s=i.parse(e[1],1,rt),o=i.parse(e[2],2,wi(i.expectedType||Nt));return s&&o?new uo(o.type.itemType,s,o):null}evaluate(e){const i=this.index.evaluate(e),s=this.input.evaluate(e);if(i<0)throw new zn(`Array index out of bounds: ${i} < 0.`);if(i>=s.length)throw new zn(`Array index out of bounds: ${i} > ${s.length-1}.`);if(i!==Math.floor(i))throw new zn(`Array index must be an integer, but found ${i} instead.`);return s[i]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class ho{constructor(e,i){this.type=Zt,this.needle=e,this.haystack=i}static parse(e,i){if(3!==e.length)return i.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const s=i.parse(e[1],1,Nt),o=i.parse(e[2],2,Nt);return s&&o?eo(s.type,[Zt,Ft,rt,$i,Nt])?new ho(s,o):i.error(`Expected first argument to be of type boolean, string, number or null, but found ${Tn(s.type)} instead`):null}evaluate(e){const i=this.needle.evaluate(e),s=this.haystack.evaluate(e);if(!s)return!1;if(!zi(i,["boolean","string","number","null"]))throw new zn(`Expected first argument to be of type boolean, string, number or null, but found ${Tn(Ln(i))} instead.`);if(!zi(s,["string","array"]))throw new zn(`Expected second argument to be of type array or string, but found ${Tn(Ln(s))} instead.`);return s.indexOf(i)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class xa{constructor(e,i,s){this.type=rt,this.needle=e,this.haystack=i,this.fromIndex=s}static parse(e,i){if(e.length<=2||e.length>=5)return i.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const s=i.parse(e[1],1,Nt),o=i.parse(e[2],2,Nt);if(!s||!o)return null;if(!eo(s.type,[Zt,Ft,rt,$i,Nt]))return i.error(`Expected first argument to be of type boolean, string, number or null, but found ${Tn(s.type)} instead`);if(4===e.length){const d=i.parse(e[3],3,rt);return d?new xa(s,o,d):null}return new xa(s,o)}evaluate(e){const i=this.needle.evaluate(e),s=this.haystack.evaluate(e);if(!zi(i,["boolean","string","number","null"]))throw new zn(`Expected first argument to be of type boolean, string, number or null, but found ${Tn(Ln(i))} instead.`);if(!zi(s,["string","array"]))throw new zn(`Expected second argument to be of type array or string, but found ${Tn(Ln(s))} instead.`);if(this.fromIndex){const o=this.fromIndex.evaluate(e);return s.indexOf(i,o)}return s.indexOf(i)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class As{constructor(e,i,s,o,d,h){this.inputType=e,this.type=i,this.input=s,this.cases=o,this.outputs=d,this.otherwise=h}static parse(e,i){if(e.length<5)return i.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return i.error("Expected an even number of arguments.");let s,o;i.expectedType&&"value"!==i.expectedType.kind&&(o=i.expectedType);const d={},h=[];for(let x=2;x<e.length-1;x+=2){let L=e[x];const E=e[x+1];Array.isArray(L)||(L=[L]);const P=i.concat(x);if(0===L.length)return P.error("Expected at least one branch label.");for(const Z of L){if("number"!=typeof Z&&"string"!=typeof Z)return P.error("Branch labels must be numbers or strings.");if("number"==typeof Z&&Math.abs(Z)>Number.MAX_SAFE_INTEGER)return P.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof Z&&Math.floor(Z)!==Z)return P.error("Numeric branch labels must be integer values.");if(s){if(P.checkSubtype(s,Ln(Z)))return null}else s=Ln(Z);if(void 0!==d[String(Z)])return P.error("Branch labels must be unique.");d[String(Z)]=h.length}const B=i.parse(E,x,o);if(!B)return null;o=o||B.type,h.push(B)}const f=i.parse(e[1],1,Nt);if(!f)return null;const y=i.parse(e[e.length-1],e.length-1,o);return y?"value"!==f.type.kind&&i.concat(1).checkSubtype(s,f.type)?null:new As(s,o,f,d,h,y):null}evaluate(e){const i=this.input.evaluate(e);return(Ln(i)===this.inputType&&this.outputs[this.cases[i]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],i=Object.keys(this.cases).sort(),s=[],o={};for(const h of i){const f=o[this.cases[h]];void 0===f?(o[this.cases[h]]=s.length,s.push([this.cases[h],[h]])):s[f][1].push(h)}const d=h=>"number"===this.inputType.kind?Number(h):h;for(const[h,f]of s)e.push(1===f.length?d(f[0]):f.map(d)),e.push(this.outputs[h].serialize());return e.push(this.otherwise.serialize()),e}}class Ma{constructor(e,i,s){this.type=e,this.branches=i,this.otherwise=s}static parse(e,i){if(e.length<4)return i.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return i.error("Expected an odd number of arguments.");let s;i.expectedType&&"value"!==i.expectedType.kind&&(s=i.expectedType);const o=[];for(let h=1;h<e.length-1;h+=2){const f=i.parse(e[h],h,Zt);if(!f)return null;const y=i.parse(e[h+1],h+1,s);if(!y)return null;o.push([f,y]),s=s||y.type}const d=i.parse(e[e.length-1],e.length-1,s);return d?new Ma(s,o,d):null}evaluate(e){for(const[i,s]of this.branches)if(i.evaluate(e))return s.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[i,s]of this.branches)e(i),e(s);e(this.otherwise)}outputDefined(){return this.branches.every(([e,i])=>i.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild(i=>{e.push(i.serialize())}),e}}class sr{constructor(e,i,s,o){this.type=e,this.input=i,this.beginIndex=s,this.endIndex=o}static parse(e,i){if(e.length<=2||e.length>=5)return i.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const s=i.parse(e[1],1,Nt),o=i.parse(e[2],2,rt);if(!s||!o)return null;if(!eo(s.type,[wi(Nt),Ft,Nt]))return i.error(`Expected first argument to be of type array or string, but found ${Tn(s.type)} instead`);if(4===e.length){const d=i.parse(e[3],3,rt);return d?new sr(s.type,s,o,d):null}return new sr(s.type,s,o)}evaluate(e){const i=this.input.evaluate(e),s=this.beginIndex.evaluate(e);if(!zi(i,["string","array"]))throw new zn(`Expected first argument to be of type array or string, but found ${Tn(Ln(i))} instead.`);if(this.endIndex){const o=this.endIndex.evaluate(e);return i.slice(s,o)}return i.slice(s)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function _o(n,e){return"=="===n||"!="===n?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function ba(n,e,i,s){return 0===s.compare(e,i)}function rs(n,e,i){const s="=="!==n&&"!="!==n;return class zh{constructor(d,h,f){this.type=Zt,this.lhs=d,this.rhs=h,this.collator=f,this.hasUntypedArgument="value"===d.type.kind||"value"===h.type.kind}static parse(d,h){if(3!==d.length&&4!==d.length)return h.error("Expected two or three arguments.");const f=d[0];let y=h.parse(d[1],1,Nt);if(!y)return null;if(!_o(f,y.type))return h.concat(1).error(`"${f}" comparisons are not supported for type '${Tn(y.type)}'.`);let x=h.parse(d[2],2,Nt);if(!x)return null;if(!_o(f,x.type))return h.concat(2).error(`"${f}" comparisons are not supported for type '${Tn(x.type)}'.`);if(y.type.kind!==x.type.kind&&"value"!==y.type.kind&&"value"!==x.type.kind)return h.error(`Cannot compare types '${Tn(y.type)}' and '${Tn(x.type)}'.`);s&&("value"===y.type.kind&&"value"!==x.type.kind?y=new Fi(x.type,[y]):"value"!==y.type.kind&&"value"===x.type.kind&&(x=new Fi(y.type,[x])));let L=null;if(4===d.length){if("string"!==y.type.kind&&"string"!==x.type.kind&&"value"!==y.type.kind&&"value"!==x.type.kind)return h.error("Cannot use collator to compare non-string types.");if(L=h.parse(d[3],3,sa),!L)return null}return new zh(y,x,L)}evaluate(d){const h=this.lhs.evaluate(d),f=this.rhs.evaluate(d);if(s&&this.hasUntypedArgument){const y=Ln(h),x=Ln(f);if(y.kind!==x.kind||"string"!==y.kind&&"number"!==y.kind)throw new zn(`Expected arguments for "${n}" to be (string, string) or (number, number), but found (${y.kind}, ${x.kind}) instead.`)}if(this.collator&&!s&&this.hasUntypedArgument){const y=Ln(h),x=Ln(f);if("string"!==y.kind||"string"!==x.kind)return e(d,h,f)}return this.collator?i(d,h,f,this.collator.evaluate(d)):e(d,h,f)}eachChild(d){d(this.lhs),d(this.rhs),this.collator&&d(this.collator)}outputDefined(){return!0}serialize(){const d=[n];return this.eachChild(h=>{d.push(h.serialize())}),d}}}const wa=rs("==",function(n,e,i){return e===i},ba),Vo=rs("!=",function(n,e,i){return e!==i},function(n,e,i,s){return!ba(0,e,i,s)}),jl=rs("<",function(n,e,i){return e<i},function(n,e,i,s){return s.compare(e,i)<0}),Zl=rs(">",function(n,e,i){return e>i},function(n,e,i,s){return s.compare(e,i)>0}),Nl=rs("<=",function(n,e,i){return e<=i},function(n,e,i,s){return s.compare(e,i)<=0}),qo=rs(">=",function(n,e,i){return e>=i},function(n,e,i,s){return s.compare(e,i)>=0});class ss{constructor(e,i,s,o,d){this.type=Ft,this.number=e,this.locale=i,this.currency=s,this.minFractionDigits=o,this.maxFractionDigits=d}static parse(e,i){if(3!==e.length)return i.error("Expected two arguments.");const s=i.parse(e[1],1,rt);if(!s)return null;const o=e[2];if("object"!=typeof o||Array.isArray(o))return i.error("NumberFormat options argument must be an object.");let d=null;if(o.locale&&(d=i.parse(o.locale,1,Ft),!d))return null;let h=null;if(o.currency&&(h=i.parse(o.currency,1,Ft),!h))return null;let f=null;if(o["min-fraction-digits"]&&(f=i.parse(o["min-fraction-digits"],1,rt),!f))return null;let y=null;return o["max-fraction-digits"]&&(y=i.parse(o["max-fraction-digits"],1,rt),!y)?null:new ss(s,d,h,f,y)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class Is{constructor(e){this.type=rt,this.input=e}static parse(e,i){if(2!==e.length)return i.error(`Expected 1 argument, but found ${e.length-1} instead.`);const s=i.parse(e[1],1);return s?"array"!==s.type.kind&&"string"!==s.type.kind&&"value"!==s.type.kind?i.error(`Expected argument of type string or array, but found ${Tn(s.type)} instead.`):new Is(s):null}evaluate(e){const i=this.input.evaluate(e);if("string"==typeof i||Array.isArray(i))return i.length;throw new zn(`Expected value to be of type string or array, but found ${Tn(Ln(i))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild(i=>{e.push(i.serialize())}),e}}const sn={"==":wa,"!=":Vo,">":Zl,"<":jl,">=":qo,"<=":Nl,array:Fi,at:uo,boolean:Fi,case:Ma,coalesce:va,collator:la,format:Ds,image:oa,in:ho,"index-of":xa,interpolate:Ti,"interpolate-hcl":Ti,"interpolate-lab":Ti,length:Is,let:Ps,literal:Br,match:As,number:Fi,"number-format":ss,object:Fi,slice:sr,step:dn,string:Fi,"to-boolean":gr,"to-color":gr,"to-number":gr,"to-string":gr,var:ha,within:xr};function Go(n,[e,i,s,o]){e=e.evaluate(n),i=i.evaluate(n),s=s.evaluate(n);const d=o?o.evaluate(n):1,h=Ls(e,i,s,d);if(h)throw new zn(h);return new Vt(e/255*d,i/255*d,s/255*d,d)}function $o(n,e){return n in e}function Ta(n,e){const i=e[n];return void 0===i?null:i}function wr(n){return{type:n}}function mo(n){return{result:"success",value:n}}function Zr(n){return{result:"error",value:n}}function Ii(n){return"data-driven"===n["property-type"]||"cross-faded-data-driven"===n["property-type"]}function Jo(n){return!!n.expression&&n.expression.parameters.indexOf("zoom")>-1}function po(n){return!!n.expression&&n.expression.interpolated}function Qt(n){return n instanceof Number?"number":n instanceof String?"string":n instanceof Boolean?"boolean":Array.isArray(n)?"array":null===n?"null":typeof n}function Nr(n){return"object"==typeof n&&null!==n&&!Array.isArray(n)}function La(n){return n}function ka(n,e){const i="color"===e.type,s=n.stops&&"object"==typeof n.stops[0][0],o=s||!(s||void 0!==n.property),d=n.type||(po(e)?"exponential":"interval");if(i&&((n=Ut({},n)).stops&&(n.stops=n.stops.map(x=>[x[0],Vt.parse(x[1])])),n.default=Vt.parse(n.default?n.default:e.default)),n.colorSpace&&"rgb"!==n.colorSpace&&!Wo[n.colorSpace])throw new Error(`Unknown color space: ${n.colorSpace}`);let h,f,y;if("exponential"===d)h=Ea;else if("interval"===d)h=Da;else if("categorical"===d){h=fo,f=Object.create(null);for(const x of n.stops)f[x[0]]=x[1];y=typeof n.stops[0][0]}else{if("identity"!==d)throw new Error(`Unknown function type "${d}"`);h=go}if(s){const x={},L=[];for(let B=0;B<n.stops.length;B++){const Z=n.stops[B],q=Z[0].zoom;void 0===x[q]&&(x[q]={zoom:q,type:n.type,property:n.property,default:n.default,stops:[]},L.push(q)),x[q].stops.push([Z[0].value,Z[1]])}const E=[];for(const B of L)E.push([x[B].zoom,ka(x[B],e)]);const P={name:"linear"};return{kind:"composite",interpolationType:P,interpolationFactor:Ti.interpolationFactor.bind(void 0,P),zoomStops:E.map(B=>B[0]),evaluate:({zoom:B},Z)=>Ea({stops:E,base:n.base},e,B).evaluate(B,Z)}}if(o){const x="exponential"===d?{name:"exponential",base:void 0!==n.base?n.base:1}:null;return{kind:"camera",interpolationType:x,interpolationFactor:Ti.interpolationFactor.bind(void 0,x),zoomStops:n.stops.map(L=>L[0]),evaluate:({zoom:L})=>h(n,e,L,f,y)}}return{kind:"source",evaluate(x,L){const E=L&&L.properties?L.properties[n.property]:void 0;return void 0===E?as(n.default,e.default):h(n,e,E,f,y)}}}function as(n,e,i){return void 0!==n?n:void 0!==e?e:void 0!==i?i:void 0}function fo(n,e,i,s,o){return as(typeof i===o?s[i]:void 0,n.default,e.default)}function Da(n,e,i){if("number"!==Qt(i))return as(n.default,e.default);const s=n.stops.length;if(1===s||i<=n.stops[0][0])return n.stops[0][1];if(i>=n.stops[s-1][0])return n.stops[s-1][1];const o=ns(n.stops.map(d=>d[0]),i);return n.stops[o][1]}function Ea(n,e,i){const s=void 0!==n.base?n.base:1;if("number"!==Qt(i))return as(n.default,e.default);const o=n.stops.length;if(1===o||i<=n.stops[0][0])return n.stops[0][1];if(i>=n.stops[o-1][0])return n.stops[o-1][1];const d=ns(n.stops.map(L=>L[0]),i),h=function(L,E,P,B){const Z=B-P,q=L-P;return 0===Z?0:1===E?q/Z:(Math.pow(E,q)-1)/(Math.pow(E,Z)-1)}(i,s,n.stops[d][0],n.stops[d+1][0]),f=n.stops[d][1],y=n.stops[d+1][1];let x=rr[e.type]||La;if(n.colorSpace&&"rgb"!==n.colorSpace){const L=Wo[n.colorSpace];x=(E,P)=>L.reverse(L.interpolate(L.forward(E),L.forward(P),h))}return"function"==typeof f.evaluate?{evaluate(...L){const E=f.evaluate.apply(void 0,L),P=y.evaluate.apply(void 0,L);if(void 0!==E&&void 0!==P)return x(E,P,h)}}:x(f,y,h)}function go(n,e,i){return"color"===e.type?i=Vt.parse(i):"formatted"===e.type?i=ni.fromString(i.toString()):"resolvedImage"===e.type?i=ii.fromString(i.toString()):Qt(i)===e.type||"enum"===e.type&&e.values[i]||(i=void 0),as(i,n.default,e.default)}Kn.register(sn,{error:[{kind:"error"},[Ft],(n,[e])=>{throw new zn(e.evaluate(n))}],typeof:[Ft,[Nt],(n,[e])=>Tn(Ln(e.evaluate(n)))],"to-rgba":[wi(rt,4),[An],(n,[e])=>e.evaluate(n).toArray()],rgb:[An,[rt,rt,rt],Go],rgba:[An,[rt,rt,rt,rt],Go],has:{type:Zt,overloads:[[[Ft],(n,[e])=>$o(e.evaluate(n),n.properties())],[[Ft,fr],(n,[e,i])=>$o(e.evaluate(n),i.evaluate(n))]]},get:{type:Nt,overloads:[[[Ft],(n,[e])=>Ta(e.evaluate(n),n.properties())],[[Ft,fr],(n,[e,i])=>Ta(e.evaluate(n),i.evaluate(n))]]},"feature-state":[Nt,[Ft],(n,[e])=>Ta(e.evaluate(n),n.featureState||{})],properties:[fr,[],n=>n.properties()],"geometry-type":[Ft,[],n=>n.geometryType()],id:[Nt,[],n=>n.id()],zoom:[rt,[],n=>n.globals.zoom],pitch:[rt,[],n=>n.globals.pitch||0],"distance-from-center":[rt,[],n=>n.distanceFromCenter()],"heatmap-density":[rt,[],n=>n.globals.heatmapDensity||0],"line-progress":[rt,[],n=>n.globals.lineProgress||0],"sky-radial-progress":[rt,[],n=>n.globals.skyRadialProgress||0],accumulated:[Nt,[],n=>void 0===n.globals.accumulated?null:n.globals.accumulated],"+":[rt,wr(rt),(n,e)=>{let i=0;for(const s of e)i+=s.evaluate(n);return i}],"*":[rt,wr(rt),(n,e)=>{let i=1;for(const s of e)i*=s.evaluate(n);return i}],"-":{type:rt,overloads:[[[rt,rt],(n,[e,i])=>e.evaluate(n)-i.evaluate(n)],[[rt],(n,[e])=>-e.evaluate(n)]]},"/":[rt,[rt,rt],(n,[e,i])=>e.evaluate(n)/i.evaluate(n)],"%":[rt,[rt,rt],(n,[e,i])=>e.evaluate(n)%i.evaluate(n)],ln2:[rt,[],()=>Math.LN2],pi:[rt,[],()=>Math.PI],e:[rt,[],()=>Math.E],"^":[rt,[rt,rt],(n,[e,i])=>Math.pow(e.evaluate(n),i.evaluate(n))],sqrt:[rt,[rt],(n,[e])=>Math.sqrt(e.evaluate(n))],log10:[rt,[rt],(n,[e])=>Math.log(e.evaluate(n))/Math.LN10],ln:[rt,[rt],(n,[e])=>Math.log(e.evaluate(n))],log2:[rt,[rt],(n,[e])=>Math.log(e.evaluate(n))/Math.LN2],sin:[rt,[rt],(n,[e])=>Math.sin(e.evaluate(n))],cos:[rt,[rt],(n,[e])=>Math.cos(e.evaluate(n))],tan:[rt,[rt],(n,[e])=>Math.tan(e.evaluate(n))],asin:[rt,[rt],(n,[e])=>Math.asin(e.evaluate(n))],acos:[rt,[rt],(n,[e])=>Math.acos(e.evaluate(n))],atan:[rt,[rt],(n,[e])=>Math.atan(e.evaluate(n))],min:[rt,wr(rt),(n,e)=>Math.min(...e.map(i=>i.evaluate(n)))],max:[rt,wr(rt),(n,e)=>Math.max(...e.map(i=>i.evaluate(n)))],abs:[rt,[rt],(n,[e])=>Math.abs(e.evaluate(n))],round:[rt,[rt],(n,[e])=>{const i=e.evaluate(n);return i<0?-Math.round(-i):Math.round(i)}],floor:[rt,[rt],(n,[e])=>Math.floor(e.evaluate(n))],ceil:[rt,[rt],(n,[e])=>Math.ceil(e.evaluate(n))],"filter-==":[Zt,[Ft,Nt],(n,[e,i])=>n.properties()[e.value]===i.value],"filter-id-==":[Zt,[Nt],(n,[e])=>n.id()===e.value],"filter-type-==":[Zt,[Ft],(n,[e])=>n.geometryType()===e.value],"filter-<":[Zt,[Ft,Nt],(n,[e,i])=>{const s=n.properties()[e.value],o=i.value;return typeof s==typeof o&&s<o}],"filter-id-<":[Zt,[Nt],(n,[e])=>{const i=n.id(),s=e.value;return typeof i==typeof s&&i<s}],"filter->":[Zt,[Ft,Nt],(n,[e,i])=>{const s=n.properties()[e.value],o=i.value;return typeof s==typeof o&&s>o}],"filter-id->":[Zt,[Nt],(n,[e])=>{const i=n.id(),s=e.value;return typeof i==typeof s&&i>s}],"filter-<=":[Zt,[Ft,Nt],(n,[e,i])=>{const s=n.properties()[e.value],o=i.value;return typeof s==typeof o&&s<=o}],"filter-id-<=":[Zt,[Nt],(n,[e])=>{const i=n.id(),s=e.value;return typeof i==typeof s&&i<=s}],"filter->=":[Zt,[Ft,Nt],(n,[e,i])=>{const s=n.properties()[e.value],o=i.value;return typeof s==typeof o&&s>=o}],"filter-id->=":[Zt,[Nt],(n,[e])=>{const i=n.id(),s=e.value;return typeof i==typeof s&&i>=s}],"filter-has":[Zt,[Nt],(n,[e])=>e.value in n.properties()],"filter-has-id":[Zt,[],n=>null!==n.id()&&void 0!==n.id()],"filter-type-in":[Zt,[wi(Ft)],(n,[e])=>e.value.indexOf(n.geometryType())>=0],"filter-id-in":[Zt,[wi(Nt)],(n,[e])=>e.value.indexOf(n.id())>=0],"filter-in-small":[Zt,[Ft,wi(Nt)],(n,[e,i])=>i.value.indexOf(n.properties()[e.value])>=0],"filter-in-large":[Zt,[Ft,wi(Nt)],(n,[e,i])=>function(s,o,d,h){for(;d<=h;){const f=d+h>>1;if(o[f]===s)return!0;o[f]>s?h=f-1:d=f+1}return!1}(n.properties()[e.value],i.value,0,i.value.length-1)],all:{type:Zt,overloads:[[[Zt,Zt],(n,[e,i])=>e.evaluate(n)&&i.evaluate(n)],[wr(Zt),(n,e)=>{for(const i of e)if(!i.evaluate(n))return!1;return!0}]]},any:{type:Zt,overloads:[[[Zt,Zt],(n,[e,i])=>e.evaluate(n)||i.evaluate(n)],[wr(Zt),(n,e)=>{for(const i of e)if(i.evaluate(n))return!0;return!1}]]},"!":[Zt,[Zt],(n,[e])=>!e.evaluate(n)],"is-supported-script":[Zt,[Ft],(n,[e])=>{const i=n.globals&&n.globals.isSupportedScript;return!i||i(e.evaluate(n))}],upcase:[Ft,[Ft],(n,[e])=>e.evaluate(n).toUpperCase()],downcase:[Ft,[Ft],(n,[e])=>e.evaluate(n).toLowerCase()],concat:[Ft,wr(Nt),(n,e)=>e.map(i=>ui(i.evaluate(n))).join("")],"resolved-locale":[Ft,[sa],(n,[e])=>e.evaluate(n).resolvedLocale()]});class Ys{constructor(e,i){var s;this.expression=e,this._warningHistory={},this._evaluator=new io,this._defaultValue=i?"color"===(s=i).type&&Nr(s.default)?new Vt(0,0,0,0):"color"===s.type?Vt.parse(s.default)||null:void 0===s.default?null:s.default:null,this._enumValues=i&&"enum"===i.type?i.values:null}evaluateWithoutErrorHandling(e,i,s,o,d,h,f,y){return this._evaluator.globals=e,this._evaluator.feature=i,this._evaluator.featureState=s,this._evaluator.canonical=o,this._evaluator.availableImages=d||null,this._evaluator.formattedSection=h,this._evaluator.featureTileCoord=f||null,this._evaluator.featureDistanceData=y||null,this.expression.evaluate(this._evaluator)}evaluate(e,i,s,o,d,h,f,y){this._evaluator.globals=e,this._evaluator.feature=i||null,this._evaluator.featureState=s||null,this._evaluator.canonical=o,this._evaluator.availableImages=d||null,this._evaluator.formattedSection=h||null,this._evaluator.featureTileCoord=f||null,this._evaluator.featureDistanceData=y||null;try{const x=this.expression.evaluate(this._evaluator);if(null==x||"number"==typeof x&&x!=x)return this._defaultValue;if(this._enumValues&&!(x in this._enumValues))throw new zn(`Expected value to be one of ${Object.keys(this._enumValues).map(L=>JSON.stringify(L)).join(", ")}, but found ${JSON.stringify(x)} instead.`);return x}catch(x){return this._warningHistory[x.message]||(this._warningHistory[x.message]=!0,"undefined"!=typeof console&&console.warn(x.message)),this._defaultValue}}}function Bi(n){return Array.isArray(n)&&n.length>0&&"string"==typeof n[0]&&n[0]in sn}function os(n,e){const i=new _a(sn,[],e?function(o){const d={color:An,string:Ft,number:rt,enum:Ft,boolean:Zt,formatted:es,resolvedImage:ts};return"array"===o.type?wi(d[o.value]||Nt,o.length):d[o.type]}(e):void 0),s=i.parse(n,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return s?mo(new Ys(s,e)):Zr(i.errors)}class Tr{constructor(e,i){this.kind=e,this._styleExpression=i,this.isStateDependent="constant"!==e&&!Es(i.expression)}evaluateWithoutErrorHandling(e,i,s,o,d,h){return this._styleExpression.evaluateWithoutErrorHandling(e,i,s,o,d,h)}evaluate(e,i,s,o,d,h){return this._styleExpression.evaluate(e,i,s,o,d,h)}}class Sa{constructor(e,i,s,o){this.kind=e,this.zoomStops=s,this._styleExpression=i,this.isStateDependent="camera"!==e&&!Es(i.expression),this.interpolationType=o}evaluateWithoutErrorHandling(e,i,s,o,d,h){return this._styleExpression.evaluateWithoutErrorHandling(e,i,s,o,d,h)}evaluate(e,i,s,o,d,h){return this._styleExpression.evaluate(e,i,s,o,d,h)}interpolationFactor(e,i,s){return this.interpolationType?Ti.interpolationFactor(this.interpolationType,e,i,s):0}}function Ko(n,e){if("error"===(n=os(n,e)).result)return n;const i=n.value.expression,s=jr(i);if(!s&&!Ii(e))return Zr([new Kt("","data expressions not supported")]);const o=$t(i,["zoom","pitch","distance-from-center"]);if(!o&&!Jo(e))return Zr([new Kt("","zoom expressions not supported")]);const d=Lr(i);return d||o?d instanceof Kt?Zr([d]):d instanceof Ti&&!po(e)?Zr([new Kt("",'"interpolate" expressions cannot be used with this property')]):mo(d?new Sa(s?"camera":"composite",n.value,d.labels,d instanceof Ti?d.interpolation:void 0):new Tr(s?"constant":"source",n.value)):Zr([new Kt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class ls{constructor(e,i){this._parameters=e,this._specification=i,Ut(this,ka(this._parameters,this._specification))}static deserialize(e){return new ls(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function Lr(n){let e=null;if(n instanceof Ps)e=Lr(n.result);else if(n instanceof va){for(const i of n.args)if(e=Lr(i),e)break}else(n instanceof dn||n instanceof Ti)&&n.input instanceof Kn&&"zoom"===n.input.name&&(e=n);return e instanceof Kt||n.eachChild(i=>{const s=Lr(i);s instanceof Kt?e=s:!e&&s?e=new Kt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&s&&e!==s&&(e=new Kt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}function Yi(n){const e=n.key,i=n.value,s=n.valueSpec||{},o=n.objectElementValidators||{},d=n.style,h=n.styleSpec;let f=[];const y=Qt(i);if("object"!==y)return[new Oe(e,i,`object expected, ${y} found`)];for(const x in i){const L=x.split(".")[0],E=s[L]||s["*"];let P;if(o[L])P=o[L];else if(s[L])P=si;else if(o["*"])P=o["*"];else{if(!s["*"]){f.push(new Oe(e,i[x],`unknown property "${x}"`));continue}P=si}f=f.concat(P({key:(e&&`${e}.`)+x,value:i[x],valueSpec:E,style:d,styleSpec:h,object:i,objectKey:x},i))}for(const x in s)o[x]||s[x].required&&void 0===s[x].default&&void 0===i[x]&&f.push(new Oe(e,i,`missing required property "${x}"`));return f}function Ca(n){const e=n.value,i=n.valueSpec,s=n.style,o=n.styleSpec,d=n.key,h=n.arrayElementValidator||si;if("array"!==Qt(e))return[new Oe(d,e,`array expected, ${Qt(e)} found`)];if(i.length&&e.length!==i.length)return[new Oe(d,e,`array length ${i.length} expected, length ${e.length} found`)];if(i["min-length"]&&e.length<i["min-length"])return[new Oe(d,e,`array length at least ${i["min-length"]} expected, length ${e.length} found`)];let f={type:i.value,values:i.values,minimum:i.minimum,maximum:i.maximum};o.$version<7&&(f.function=i.function),"object"===Qt(i.value)&&(f=i.value);let y=[];for(let x=0;x<e.length;x++)y=y.concat(h({array:e,arrayIndex:x,value:e[x],valueSpec:f,style:s,styleSpec:o,key:`${d}[${x}]`}));return y}function yo(n){const e=n.key,i=n.value,s=n.valueSpec;let o=Qt(i);if("number"===o&&i!=i&&(o="NaN"),"number"!==o)return[new Oe(e,i,`number expected, ${o} found`)];if("minimum"in s){let d=s.minimum;if("array"===Qt(s.minimum)&&(d=s.minimum[n.arrayIndex]),i<d)return[new Oe(e,i,`${i} is less than the minimum value ${d}`)]}if("maximum"in s){let d=s.maximum;if("array"===Qt(s.maximum)&&(d=s.maximum[n.arrayIndex]),i>d)return[new Oe(e,i,`${i} is greater than the maximum value ${d}`)]}return[]}function Os(n){const e=n.valueSpec,i=kt(n.value.type);let s,o,d,h={};const f="categorical"!==i&&void 0===n.value.property,y=!f,x="array"===Qt(n.value.stops)&&"array"===Qt(n.value.stops[0])&&"object"===Qt(n.value.stops[0][0]),L=Yi({key:n.key,value:n.value,valueSpec:n.styleSpec.function,style:n.style,styleSpec:n.styleSpec,objectElementValidators:{stops:function(B){if("identity"===i)return[new Oe(B.key,B.value,'identity function may not have a "stops" property')];let Z=[];const q=B.value;return Z=Z.concat(Ca({key:B.key,value:q,valueSpec:B.valueSpec,style:B.style,styleSpec:B.styleSpec,arrayElementValidator:E})),"array"===Qt(q)&&0===q.length&&Z.push(new Oe(B.key,q,"array must have at least one stop")),Z},default:function(B){return si({key:B.key,value:B.value,valueSpec:e,style:B.style,styleSpec:B.styleSpec})}}});return"identity"===i&&f&&L.push(new Oe(n.key,n.value,'missing required property "property"')),"identity"===i||n.value.stops||L.push(new Oe(n.key,n.value,'missing required property "stops"')),"exponential"===i&&n.valueSpec.expression&&!po(n.valueSpec)&&L.push(new Oe(n.key,n.value,"exponential functions not supported")),n.styleSpec.$version>=8&&(y&&!Ii(n.valueSpec)?L.push(new Oe(n.key,n.value,"property functions not supported")):f&&!Jo(n.valueSpec)&&L.push(new Oe(n.key,n.value,"zoom functions not supported"))),"categorical"!==i&&!x||void 0!==n.value.property||L.push(new Oe(n.key,n.value,'"property" property is required')),L;function E(B){let Z=[];const q=B.value,ne=B.key;if("array"!==Qt(q))return[new Oe(ne,q,`array expected, ${Qt(q)} found`)];if(2!==q.length)return[new Oe(ne,q,`array length 2 expected, length ${q.length} found`)];if(x){if("object"!==Qt(q[0]))return[new Oe(ne,q,`object expected, ${Qt(q[0])} found`)];if(void 0===q[0].zoom)return[new Oe(ne,q,"object stop key must have zoom")];if(void 0===q[0].value)return[new Oe(ne,q,"object stop key must have value")];if(d&&d>kt(q[0].zoom))return[new Oe(ne,q[0].zoom,"stop zoom values must appear in ascending order")];kt(q[0].zoom)!==d&&(d=kt(q[0].zoom),o=void 0,h={}),Z=Z.concat(Yi({key:`${ne}[0]`,value:q[0],valueSpec:{zoom:{}},style:B.style,styleSpec:B.styleSpec,objectElementValidators:{zoom:yo,value:P}}))}else Z=Z.concat(P({key:`${ne}[0]`,value:q[0],valueSpec:{},style:B.style,styleSpec:B.styleSpec},q));return Bi(jt(q[1]))?Z.concat([new Oe(`${ne}[1]`,q[1],"expressions are not allowed in function stops.")]):Z.concat(si({key:`${ne}[1]`,value:q[1],valueSpec:e,style:B.style,styleSpec:B.styleSpec}))}function P(B,Z){const q=Qt(B.value),ne=kt(B.value),ae=null!==B.value?B.value:Z;if(s){if(q!==s)return[new Oe(B.key,ae,`${q} stop domain type must match previous stop domain type ${s}`)]}else s=q;if("number"!==q&&"string"!==q&&"boolean"!==q)return[new Oe(B.key,ae,"stop domain value must be a number, string, or boolean")];if("number"!==q&&"categorical"!==i){let de=`number expected, ${q} found`;return Ii(e)&&void 0===i&&(de+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Oe(B.key,ae,de)]}return"categorical"!==i||"number"!==q||isFinite(ne)&&Math.floor(ne)===ne?"categorical"!==i&&"number"===q&&void 0!==o&&ne<o?[new Oe(B.key,ae,"stop domain values must appear in ascending order")]:(o=ne,"categorical"===i&&ne in h?[new Oe(B.key,ae,"stop domain values must be unique")]:(h[ne]=!0,[])):[new Oe(B.key,ae,`integer expected, found ${ne}`)]}}function kr(n){const e=("property"===n.expressionContext?Ko:os)(jt(n.value),n.valueSpec);if("error"===e.result)return e.value.map(s=>new Oe(`${n.key}${s.key}`,n.value,s.message));const i=e.value.expression||e.value._styleExpression.expression;if("property"===n.expressionContext&&"text-font"===n.propertyKey&&!i.outputDefined())return[new Oe(n.key,n.value,`Invalid data expression for "${n.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===n.expressionContext&&"layout"===n.propertyType&&!Es(i))return[new Oe(n.key,n.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===n.expressionContext)return vo(i,n);if(n.expressionContext&&0===n.expressionContext.indexOf("cluster")){if(!$t(i,["zoom","feature-state"]))return[new Oe(n.key,n.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===n.expressionContext&&!jr(i))return[new Oe(n.key,n.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function vo(n,e){const i=new Set(["zoom","feature-state","pitch","distance-from-center"]);for(const o of e.valueSpec.expression.parameters)i.delete(o);if(0===i.size)return[];const s=[];return n instanceof Kn&&i.has(n.name)?[new Oe(e.key,e.value,`["${n.name}"] expression is not supported in a filter for a ${e.object.type} layer with id: ${e.object.id}`)]:(n.eachChild(o=>{s.push(...vo(o,e))}),s)}function ri(n){const e=n.key,i=n.value,s=n.valueSpec,o=[];return Array.isArray(s.values)?-1===s.values.indexOf(kt(i))&&o.push(new Oe(e,i,`expected one of [${s.values.join(", ")}], ${JSON.stringify(i)} found`)):-1===Object.keys(s.values).indexOf(kt(i))&&o.push(new Oe(e,i,`expected one of [${Object.keys(s.values).join(", ")}], ${JSON.stringify(i)} found`)),o}function Ki(n){if(!0===n||!1===n)return!0;if(!Array.isArray(n)||0===n.length)return!1;switch(n[0]){case"has":return n.length>=2&&"$id"!==n[1]&&"$type"!==n[1];case"in":return n.length>=3&&("string"!=typeof n[1]||Array.isArray(n[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==n.length||Array.isArray(n[1])||Array.isArray(n[2]);case"any":case"all":for(const e of n.slice(1))if(!Ki(e)&&"boolean"!=typeof e)return!1;return!0;default:return!0}}function cs(n,e="fill"){if(null==n)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Ki(n)||(n=Aa(n));const i=n;let s=!0;try{s=function(x){if(!Er(x))return x;let L=jt(x);return Dr(L),L=xo(L),L}(i)}catch(x){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(i,null,2)}\n        `)}const o=xe[`filter_${e}`],d=os(s,o);let h=null;if("error"===d.result)throw new Error(d.value.map(x=>`${x.key}: ${x.message}`).join(", "));h=(x,L,E)=>d.value.evaluate(x,L,{},E);let f=null,y=null;if(s!==i){const x=os(i,o);if("error"===x.result)throw new Error(x.value.map(L=>`${L.key}: ${L.message}`).join(", "));f=(L,E,P,B,Z)=>x.value.evaluate(L,E,{},P,void 0,void 0,B,Z),y=!jr(x.value.expression)}return h=h,{filter:h,dynamicFilter:f||void 0,needGeometry:Pa(s),needFeature:!!y}}function xo(n){if(!Array.isArray(n))return n;const e=function(i){if(Xo.has(i[0]))for(let s=1;s<i.length;s++)if(Er(i[s]))return!0;return i}(n);return!0===e?e:e.map(i=>xo(i))}function Dr(n){let e=!1;const i=[];if("case"===n[0]){for(let s=1;s<n.length-1;s+=2)e=e||Er(n[s]),i.push(n[s+1]);i.push(n[n.length-1])}else if("match"===n[0]){e=e||Er(n[1]);for(let s=2;s<n.length-1;s+=2)i.push(n[s+1]);i.push(n[n.length-1])}else if("step"===n[0]){e=e||Er(n[1]);for(let s=1;s<n.length-1;s+=2)i.push(n[s+1])}e&&(n.length=0,n.push("any",...i));for(let s=1;s<n.length;s++)Dr(n[s])}function Er(n){if(!Array.isArray(n))return!1;if("pitch"===(e=n[0])||"distance-from-center"===e)return!0;var e;for(let i=1;i<n.length;i++)if(Er(n[i]))return!0;return!1}const Xo=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Mo(n,e){return n<e?-1:n>e?1:0}function Pa(n){if(!Array.isArray(n))return!1;if("within"===n[0])return!0;for(let e=1;e<n.length;e++)if(Pa(n[e]))return!0;return!1}function Aa(n){if(!n)return!0;const e=n[0];return n.length<=1?"any"!==e:"=="===e?us(n[1],n[2],"=="):"!="===e?Ia(us(n[1],n[2],"==")):"<"===e||">"===e||"<="===e||">="===e?us(n[1],n[2],e):"any"===e?(i=n.slice(1),["any"].concat(i.map(Aa))):"all"===e?["all"].concat(n.slice(1).map(Aa)):"none"===e?["all"].concat(n.slice(1).map(Aa).map(Ia)):"in"===e?Qo(n[1],n.slice(2)):"!in"===e?Ia(Qo(n[1],n.slice(2))):"has"===e?el(n[1]):"!has"===e?Ia(el(n[1])):"within"!==e||n;var i}function us(n,e,i){switch(n){case"$type":return[`filter-type-${i}`,e];case"$id":return[`filter-id-${i}`,e];default:return[`filter-${i}`,n,e]}}function Qo(n,e){if(0===e.length)return!1;switch(n){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(i=>typeof i!=typeof e[0])?["filter-in-large",n,["literal",e.sort(Mo)]]:["filter-in-small",n,["literal",e]]}}function el(n){switch(n){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",n]}}function Ia(n){return["!",n]}function bo(n){if(Ki(jt(n.value))){const e=jt(n.layerType);return kr(Ut({},n,{expressionContext:"filter",valueSpec:n.styleSpec[`filter_${e||"fill"}`]}))}return tl(n)}function tl(n){const e=n.value,i=n.key;if("array"!==Qt(e))return[new Oe(i,e,`array expected, ${Qt(e)} found`)];const s=n.styleSpec;let o,d=[];if(e.length<1)return[new Oe(i,e,"filter array must have at least 1 element")];switch(d=d.concat(ri({key:`${i}[0]`,value:e[0],valueSpec:s.filter_operator,style:n.style,styleSpec:n.styleSpec})),kt(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&"$type"===kt(e[1])&&d.push(new Oe(i,e,`"$type" cannot be use with operator "${e[0]}"`));case"==":case"!=":3!==e.length&&d.push(new Oe(i,e,`filter array for operator "${e[0]}" must have 3 elements`));case"in":case"!in":e.length>=2&&(o=Qt(e[1]),"string"!==o&&d.push(new Oe(`${i}[1]`,e[1],`string expected, ${o} found`)));for(let h=2;h<e.length;h++)o=Qt(e[h]),"$type"===kt(e[1])?d=d.concat(ri({key:`${i}[${h}]`,value:e[h],valueSpec:s.geometry_type,style:n.style,styleSpec:n.styleSpec})):"string"!==o&&"number"!==o&&"boolean"!==o&&d.push(new Oe(`${i}[${h}]`,e[h],`string, number, or boolean expected, ${o} found`));break;case"any":case"all":case"none":for(let h=1;h<e.length;h++)d=d.concat(tl({key:`${i}[${h}]`,value:e[h],style:n.style,styleSpec:n.styleSpec}));break;case"has":case"!has":o=Qt(e[1]),2!==e.length?d.push(new Oe(i,e,`filter array for "${e[0]}" operator must have 2 elements`)):"string"!==o&&d.push(new Oe(`${i}[1]`,e[1],`string expected, ${o} found`));break;case"within":o=Qt(e[1]),2!==e.length?d.push(new Oe(i,e,`filter array for "${e[0]}" operator must have 2 elements`)):"object"!==o&&d.push(new Oe(`${i}[1]`,e[1],`object expected, ${o} found`))}return d}function zs(n,e){const i=n.key,s=n.style,o=n.styleSpec,d=n.value,h=n.objectKey,f=o[`${e}_${n.layerType}`];if(!f)return[];const y=h.match(/^(.*)-transition$/);if("paint"===e&&y&&f[y[1]]&&f[y[1]].transition)return si({key:i,value:d,valueSpec:o.transition,style:s,styleSpec:o});const x=n.valueSpec||f[h];if(!x)return[new Oe(i,d,`unknown property "${h}"`)];let L;if("string"===Qt(d)&&Ii(x)&&!x.tokens&&(L=/^{([^}]+)}$/.exec(d)))return[new Oe(i,d,`"${h}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(L[1])} }\`.`)];const E=[];return"symbol"===n.layerType&&("text-field"===h&&s&&!s.glyphs&&E.push(new Oe(i,d,'use of "text-field" requires a style "glyphs" property')),"text-font"===h&&Nr(jt(d))&&"identity"===kt(d.type)&&E.push(new Oe(i,d,'"text-font" does not support identity functions'))),E.concat(si({key:n.key,value:d,valueSpec:x,style:s,styleSpec:o,expressionContext:"property",propertyType:e,propertyKey:h}))}function Fs(n){return zs(n,"paint")}function yi(n){return zs(n,"layout")}function Rs(n){let e=[];const i=n.value,s=n.key,o=n.style,d=n.styleSpec;i.type||i.ref||e.push(new Oe(s,i,'either "type" or "ref" is required'));let h=kt(i.type);const f=kt(i.ref);if(i.id){const y=kt(i.id);for(let x=0;x<n.arrayIndex;x++){const L=o.layers[x];kt(L.id)===y&&e.push(new Oe(s,i.id,`duplicate layer id "${i.id}", previously used at line ${L.id.__line__}`))}}if("ref"in i){let y;["type","source","source-layer","filter","layout"].forEach(x=>{x in i&&e.push(new Oe(s,i[x],`"${x}" is prohibited for ref layers`))}),o.layers.forEach(x=>{kt(x.id)===f&&(y=x)}),y?y.ref?e.push(new Oe(s,i.ref,"ref cannot reference another ref layer")):h=kt(y.type):e.push(new Oe(s,i.ref,`ref layer "${f}" not found`))}else if("background"!==h&&"sky"!==h)if(i.source){const y=o.sources&&o.sources[i.source],x=y&&kt(y.type);y?"vector"===x&&"raster"===h?e.push(new Oe(s,i.source,`layer "${i.id}" requires a raster source`)):"raster"===x&&"raster"!==h?e.push(new Oe(s,i.source,`layer "${i.id}" requires a vector source`)):"vector"!==x||i["source-layer"]?"raster-dem"===x&&"hillshade"!==h?e.push(new Oe(s,i.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==h||!i.paint||!i.paint["line-gradient"]||"geojson"===x&&y.lineMetrics||e.push(new Oe(s,i,`layer "${i.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):e.push(new Oe(s,i,`layer "${i.id}" must specify a "source-layer"`)):e.push(new Oe(s,i.source,`source "${i.source}" not found`))}else e.push(new Oe(s,i,'missing required property "source"'));return e=e.concat(Yi({key:s,value:i,valueSpec:d.layer,style:n.style,styleSpec:n.styleSpec,objectElementValidators:{"*":()=>[],type:()=>si({key:`${s}.type`,value:i.type,valueSpec:d.layer.type,style:n.style,styleSpec:n.styleSpec,object:i,objectKey:"type"}),filter:y=>bo(Ut({layerType:h},y)),layout:y=>Yi({layer:i,key:y.key,value:y.value,style:y.style,styleSpec:y.styleSpec,objectElementValidators:{"*":x=>yi(Ut({layerType:h},x))}}),paint:y=>Yi({layer:i,key:y.key,value:y.value,style:y.style,styleSpec:y.styleSpec,objectElementValidators:{"*":x=>Fs(Ut({layerType:h},x))}})}})),e}function ds(n){const e=n.value,i=n.key,s=Qt(e);return"string"!==s?[new Oe(i,e,`string expected, ${s} found`)]:[]}const nl={promoteId:function({key:n,value:e}){if("string"===Qt(e))return ds({key:n,value:e});{const i=[];for(const s in e)i.push(...ds({key:`${n}.${s}`,value:e[s]}));return i}}};function il(n){const e=n.value,i=n.key,s=n.styleSpec,o=n.style;if(!e.type)return[new Oe(i,e,'"type" is required')];const d=kt(e.type);let h;switch(d){case"vector":case"raster":case"raster-dem":return h=Yi({key:i,value:e,valueSpec:s[`source_${d.replace("-","_")}`],style:n.style,styleSpec:s,objectElementValidators:nl}),h;case"geojson":if(h=Yi({key:i,value:e,valueSpec:s.source_geojson,style:o,styleSpec:s,objectElementValidators:nl}),e.cluster)for(const f in e.clusterProperties){const[y,x]=e.clusterProperties[f],L="string"==typeof y?[y,["accumulated"],["get",f]]:y;h.push(...kr({key:`${i}.${f}.map`,value:x,expressionContext:"cluster-map"})),h.push(...kr({key:`${i}.${f}.reduce`,value:L,expressionContext:"cluster-reduce"}))}return h;case"video":return Yi({key:i,value:e,valueSpec:s.source_video,style:o,styleSpec:s});case"image":return Yi({key:i,value:e,valueSpec:s.source_image,style:o,styleSpec:s});case"canvas":return[new Oe(i,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ri({key:`${i}.type`,value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:o,styleSpec:s})}}function Bs(n){const e=n.value,i=n.styleSpec,s=i.light,o=n.style;let d=[];const h=Qt(e);if(void 0===e)return d;if("object"!==h)return d=d.concat([new Oe("light",e,`object expected, ${h} found`)]),d;for(const f in e){const y=f.match(/^(.*)-transition$/);d=d.concat(y&&s[y[1]]&&s[y[1]].transition?si({key:f,value:e[f],valueSpec:i.transition,style:o,styleSpec:i}):s[f]?si({key:f,value:e[f],valueSpec:s[f],style:o,styleSpec:i}):[new Oe(f,e[f],`unknown property "${f}"`)])}return d}function Ya(n){const e=n.value,i=n.key,s=n.style,o=n.styleSpec,d=o.terrain;let h=[];const f=Qt(e);if(void 0===e)return h;if("object"!==f)return h=h.concat([new Oe("terrain",e,`object expected, ${f} found`)]),h;for(const y in e){const x=y.match(/^(.*)-transition$/);h=h.concat(x&&d[x[1]]&&d[x[1]].transition?si({key:y,value:e[y],valueSpec:o.transition,style:s,styleSpec:o}):d[y]?si({key:y,value:e[y],valueSpec:d[y],style:s,styleSpec:o}):[new Oe(y,e[y],`unknown property "${y}"`)])}if(e.source){const y=s.sources&&s.sources[e.source],x=y&&kt(y.type);y?"raster-dem"!==x&&h.push(new Oe(i,e.source,`terrain cannot be used with a source of type ${x}, it only be used with a "raster-dem" source type`)):h.push(new Oe(i,e.source,`source "${e.source}" not found`))}else h.push(new Oe(i,e,'terrain is missing required property "source"'));return h}function rl(n){const e=n.value,i=n.style,s=n.styleSpec,o=s.fog;let d=[];const h=Qt(e);if(void 0===e)return d;if("object"!==h)return d=d.concat([new Oe("fog",e,`object expected, ${h} found`)]),d;for(const f in e){const y=f.match(/^(.*)-transition$/);d=d.concat(y&&o[y[1]]&&o[y[1]].transition?si({key:f,value:e[f],valueSpec:s.transition,style:i,styleSpec:s}):o[f]?si({key:f,value:e[f],valueSpec:o[f],style:i,styleSpec:s}):[new Oe(f,e[f],`unknown property "${f}"`)])}return d}const Oa={"*":()=>[],array:Ca,boolean:function(n){const e=n.value,i=n.key,s=Qt(e);return"boolean"!==s?[new Oe(i,e,`boolean expected, ${s} found`)]:[]},number:yo,color:function(n){const e=n.key,i=n.value,s=Qt(i);return"string"!==s?[new Oe(e,i,`color expected, ${s} found`)]:null===Pi.parseCSSColor(i)?[new Oe(e,i,`color expected, "${i}" found`)]:[]},constants:Tt,enum:ri,filter:bo,function:Os,layer:Rs,object:Yi,source:il,light:Bs,terrain:Ya,fog:rl,string:ds,formatted:function(n){return 0===ds(n).length?[]:kr(n)},resolvedImage:function(n){return 0===ds(n).length?[]:kr(n)},projection:function(n){const e=n.value,i=n.styleSpec,s=i.projection,o=n.style;let d=[];const h=Qt(e);if("object"===h)for(const f in e)d=d.concat(si({key:f,value:e[f],valueSpec:s[f],style:o,styleSpec:i}));else"string"!==h&&(d=d.concat([new Oe("projection",e,`object or string expected, ${h} found`)]));return d}};function si(n){const e=n.value,i=n.valueSpec,s=n.styleSpec;return i.expression&&Nr(kt(e))?Os(n):i.expression&&Bi(jt(e))?kr(n):i.type&&Oa[i.type]?Oa[i.type](n):Yi(Ut({},n,{valueSpec:i.type?s[i.type]:i}))}function Hl(n){const e=n.value,i=n.key,s=ds(n);return s.length||(-1===e.indexOf("{fontstack}")&&s.push(new Oe(i,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&s.push(new Oe(i,e,'"glyphs" url must include a "{range}" token'))),s}function Ui(n,e=xe){let i=[];return i=i.concat(si({key:"",value:n,valueSpec:e.$root,styleSpec:e,style:n,objectElementValidators:{glyphs:Hl,"*":()=>[]}})),n.constants&&(i=i.concat(Tt({key:"constants",value:n.constants,style:n,styleSpec:e}))),sl(i)}function sl(n){return[].concat(n).sort((e,i)=>e.line-i.line)}function ar(n){return function(...e){return sl(n.apply(this,e))}}Ui.source=ar(il),Ui.light=ar(Bs),Ui.terrain=ar(Ya),Ui.fog=ar(rl),Ui.layer=ar(Rs),Ui.filter=ar(bo),Ui.paintProperty=ar(Fs),Ui.layoutProperty=ar(yi);const Sr=Ui,al=Sr.light,za=Sr.fog,Hr=Sr.paintProperty,Wr=Sr.layoutProperty;function Us(n,e){let i=!1;if(e&&e.length)for(const s of e)n.fire(new xt(new Error(s.message))),i=!0;return i}var Vr=di;function di(n,e,i){var s=this.cells=[];if(n instanceof ArrayBuffer){this.arrayBuffer=n;var o=new Int32Array(this.arrayBuffer);n=o[0],this.d=(e=o[1])+2*(i=o[2]);for(var d=0;d<this.d*this.d;d++){var h=o[3+d],f=o[3+d+1];s.push(h===f?null:o.subarray(h,f))}var y=o[3+s.length+1];this.keys=o.subarray(o[3+s.length],y),this.bboxes=o.subarray(y),this.insert=this._insertReadonly}else{this.d=e+2*i;for(var x=0;x<this.d*this.d;x++)s.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=n,this.padding=i,this.scale=e/n,this.uid=0;var L=i/e*n;this.min=-L,this.max=n+L}di.prototype.insert=function(n,e,i,s,o){this._forEachCell(e,i,s,o,this._insertCell,this.uid++),this.keys.push(n),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(s),this.bboxes.push(o)},di.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},di.prototype._insertCell=function(n,e,i,s,o,d){this.cells[o].push(d)},di.prototype.query=function(n,e,i,s,o){var d=this.min,h=this.max;if(n<=d&&e<=d&&h<=i&&h<=s&&!o)return Array.prototype.slice.call(this.keys);var f=[];return this._forEachCell(n,e,i,s,this._queryCell,f,{},o),f},di.prototype._queryCell=function(n,e,i,s,o,d,h,f){var y=this.cells[o];if(null!==y)for(var x=this.keys,L=this.bboxes,E=0;E<y.length;E++){var P=y[E];if(void 0===h[P]){var B=4*P;(f?f(L[B+0],L[B+1],L[B+2],L[B+3]):n<=L[B+2]&&e<=L[B+3]&&i>=L[B+0]&&s>=L[B+1])?(h[P]=!0,d.push(x[P])):h[P]=!1}}},di.prototype._forEachCell=function(n,e,i,s,o,d,h,f){for(var y=this._convertToCellCoord(n),x=this._convertToCellCoord(e),L=this._convertToCellCoord(i),E=this._convertToCellCoord(s),P=y;P<=L;P++)for(var B=x;B<=E;B++){var Z=this.d*B+P;if((!f||f(this._convertFromCellCoord(P),this._convertFromCellCoord(B),this._convertFromCellCoord(P+1),this._convertFromCellCoord(B+1)))&&o.call(this,n,e,i,s,Z,d,h,f))return}},di.prototype._convertFromCellCoord=function(n){return(n-this.padding)/this.scale},di.prototype._convertToCellCoord=function(n){return Math.max(0,Math.min(this.d-1,Math.floor(n*this.scale)+this.padding))},di.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var n=this.cells,e=3+this.cells.length+1+1,i=0,s=0;s<this.cells.length;s++)i+=this.cells[s].length;var o=new Int32Array(e+i+this.keys.length+this.bboxes.length);o[0]=this.extent,o[1]=this.n,o[2]=this.padding;for(var d=e,h=0;h<n.length;h++){var f=n[h];o[3+h]=d,o.set(f,d),d+=f.length}return o[3+n.length]=d,o.set(this.keys,d),o[3+n.length+1]=d+=this.keys.length,o.set(this.bboxes,d),d+=this.bboxes.length,o.buffer};const{ImageData:js,ImageBitmap:wo}=W,Zs={};function ft(n,e,i={}){Object.defineProperty(e,"_classRegistryKey",{value:n,writeable:!1}),Zs[n]={klass:e,omit:i.omit||[],shallow:i.shallow||[]}}ft("Object",Object),Vr.serialize=function(n,e){const i=n.toArrayBuffer();return e&&e.push(i),{buffer:i}},Vr.deserialize=function(n){return new Vr(n.buffer)},ft("Grid",Vr),ft("Color",Vt),ft("Error",Error),ft("ResolvedImage",ii),ft("StylePropertyFunction",ls),ft("StyleExpression",Ys,{omit:["_evaluator"]}),ft("ZoomDependentExpression",Sa),ft("ZoomConstantExpression",Tr),ft("CompoundExpression",Kn,{omit:["_evaluate"]});for(const n in sn)sn[n]._classRegistryKey||ft(`Expression_${n}`,sn[n]);function ol(n){return n&&"undefined"!=typeof ArrayBuffer&&(n instanceof ArrayBuffer||n.constructor&&"ArrayBuffer"===n.constructor.name)}function To(n){return wo&&n instanceof wo}function Ns(n,e){if(null==n||"boolean"==typeof n||"number"==typeof n||"string"==typeof n||n instanceof Boolean||n instanceof Number||n instanceof String||n instanceof Date||n instanceof RegExp)return n;if(ol(n)||To(n))return e&&e.push(n),n;if(ArrayBuffer.isView(n)){const i=n;return e&&e.push(i.buffer),i}if(n instanceof js)return e&&e.push(n.data.buffer),n;if(Array.isArray(n)){const i=[];for(const s of n)i.push(Ns(s,e));return i}if("object"==typeof n){const i=n.constructor,s=i._classRegistryKey;if(!s)throw new Error("can't serialize object of unregistered class");const o=i.serialize?i.serialize(n,e):{};if(!i.serialize){for(const d in n){if(!n.hasOwnProperty(d)||Zs[s].omit.indexOf(d)>=0)continue;const h=n[d];o[d]=Zs[s].shallow.indexOf(d)>=0?h:Ns(h,e)}n instanceof Error&&(o.message=n.message)}if(o.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(o.$name=s),o}throw new Error("can't serialize object of type "+typeof n)}function Hs(n){if(null==n||"boolean"==typeof n||"number"==typeof n||"string"==typeof n||n instanceof Boolean||n instanceof Number||n instanceof String||n instanceof Date||n instanceof RegExp||ol(n)||To(n)||ArrayBuffer.isView(n)||n instanceof js)return n;if(Array.isArray(n))return n.map(Hs);if("object"==typeof n){const e=n.$name||"Object",{klass:i}=Zs[e];if(!i)throw new Error(`can't deserialize unregistered class ${e}`);if(i.deserialize)return i.deserialize(n);const s=Object.create(i.prototype);for(const o of Object.keys(n)){if("$name"===o)continue;const d=n[o];s[o]=Zs[e].shallow.indexOf(o)>=0?d:Hs(d)}return s}throw new Error("can't deserialize object of type "+typeof n)}class ll{constructor(){this.first=!0}update(e,i){const s=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=s,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=s,!0):(this.lastFloorZoom>s?(this.lastIntegerZoom=s+1,this.lastIntegerZoomTime=i):this.lastFloorZoom<s&&(this.lastIntegerZoom=s,this.lastIntegerZoomTime=i),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=s,!0))}}const cl=n=>n>=1536&&n<=1791,ul=n=>n>=1872&&n<=1919,dl=n=>n>=2208&&n<=2303,hl=n=>n>=11904&&n<=12031,Ws=n=>n>=12032&&n<=12255,_l=n=>n>=12272&&n<=12287,Fa=n=>n>=12288&&n<=12351,hs=n=>n>=12352&&n<=12447,Ra=n=>n>=12448&&n<=12543,Lo=n=>n>=12544&&n<=12591,ml=n=>n>=12704&&n<=12735,ko=n=>n>=12736&&n<=12783,Do=n=>n>=12784&&n<=12799,Eo=n=>n>=12800&&n<=13055,So=n=>n>=13056&&n<=13311,_s=n=>n>=13312&&n<=19903,Vs=n=>n>=19968&&n<=40959,pl=n=>n>=40960&&n<=42127,fl=n=>n>=42128&&n<=42191,qr=n=>n>=44032&&n<=55215,qs=n=>n>=63744&&n<=64255,Cr=n=>n>=64336&&n<=65023,gl=n=>n>=65040&&n<=65055,Gs=n=>n>=65072&&n<=65103,yl=n=>n>=65104&&n<=65135,Co=n=>n>=65136&&n<=65279,Po=n=>n>=65280&&n<=65519;function or(n){for(const e of n)if(Ua(e.charCodeAt(0)))return!0;return!1}function Ba(n){for(const e of n)if(!$s(e.charCodeAt(0)))return!1;return!0}function $s(n){return!(cl(n)||ul(n)||dl(n)||Cr(n)||Co(n))}function Ua(n){return!(746!==n&&747!==n&&(n<4352||!(ml(n)||Lo(n)||Gs(n)&&!(n>=65097&&n<=65103)||qs(n)||So(n)||hl(n)||ko(n)||!(!Fa(n)||n>=12296&&n<=12305||n>=12308&&n<=12319||12336===n)||_s(n)||Vs(n)||Eo(n)||(e=n,e>=12592&&e<=12687)||(e=>e>=43360&&e<=43391)(n)||(e=>e>=55216&&e<=55295)(n)||(e=>e>=4352&&e<=4607)(n)||qr(n)||hs(n)||_l(n)||(e=>e>=12688&&e<=12703)(n)||Ws(n)||Do(n)||Ra(n)&&12540!==n||!(!Po(n)||65288===n||65289===n||65293===n||n>=65306&&n<=65310||65339===n||65341===n||65343===n||n>=65371&&n<=65503||65507===n||n>=65512&&n<=65519)||!(!yl(n)||n>=65112&&n<=65118||n>=65123&&n<=65126)||(e=>e>=5120&&e<=5759)(n)||(e=>e>=6320&&e<=6399)(n)||gl(n)||(e=>e>=19904&&e<=19967)(n)||pl(n)||fl(n))));var e}function Ao(n){return!(Ua(n)||(e=n,(i=e)>=128&&i<=255&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||(i=>i>=8192&&i<=8303)(e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||(i=>i>=8448&&i<=8527)(e)||(i=>i>=8528&&i<=8591)(e)||(i=>i>=8960&&i<=9215)(e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||(i=>i>=9216&&i<=9279)(e)&&9251!==e||(i=>i>=9280&&i<=9311)(e)||(i=>i>=9312&&i<=9471)(e)||(i=>i>=9632&&i<=9727)(e)||(i=>i>=9728&&i<=9983)(e)&&!(e>=9754&&e<=9759)||(i=>i>=11008&&i<=11263)(e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Fa(e)||Ra(e)||(i=>i>=57344&&i<=63743)(e)||Gs(e)||yl(e)||Po(e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e));var e,i}function ms(n){return n>=1424&&n<=2303||Cr(n)||Co(n)}function Wl(n,e){return!(!e&&ms(n)||n>=2304&&n<=3583||n>=3840&&n<=4255||(i=n,i>=6016&&i<=6143));var i}function Pr(n){for(const e of n)if(ms(e.charCodeAt(0)))return!0;return!1}const Gr="deferred",c="loading",t="loaded";let a=null,l="unavailable",_=null;const p=function(n){n&&"string"==typeof n&&n.indexOf("NetworkError")>-1&&(l="error"),a&&a(n)};function v(){w.fire(new qe("pluginStateChange",{pluginStatus:l,pluginURL:_}))}const w=new it,S=function(){return l},Y=function(){if(l!==Gr||!_)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");l=c,v(),_&&N({url:_},n=>{n?p(n):(l=t,v())})},O={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>l===t||null!=O.applyArabicShaping,isLoading:()=>l===c,setState(n){l=n.pluginStatus,_=n.pluginURL},isParsed:()=>null!=O.applyArabicShaping&&null!=O.processBidirectionalText&&null!=O.processStyledBidirectionalText,getPluginURL:()=>_};class z{constructor(e,i){this.zoom=e,i?(this.now=i.now,this.fadeDuration=i.fadeDuration,this.zoomHistory=i.zoomHistory,this.transition=i.transition,this.pitch=i.pitch):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ll,this.transition={},this.pitch=0)}isSupportedScript(e){return function(i,s){for(const o of i)if(!Wl(o.charCodeAt(0),s))return!1;return!0}(e,O.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const e=this.zoom,i=e-Math.floor(e),s=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:i+(1-i)*s}:{fromScale:.5,toScale:1,t:1-(1-s)*i}}}class H{constructor(e,i){this.property=e,this.value=i,this.expression=function(s,o){if(Nr(s))return new ls(s,o);if(Bi(s)){const d=Ko(s,o);if("error"===d.result)throw new Error(d.value.map(h=>`${h.key}: ${h.message}`).join(", "));return d.value}{let d=s;return"string"==typeof s&&"color"===o.type&&(d=Vt.parse(s)),{kind:"constant",evaluate:()=>d}}}(void 0===i?e.specification.default:i,e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(e,i,s){return this.property.possiblyEvaluate(this,e,i,s)}}class K{constructor(e){this.property=e,this.value=new H(e,void 0)}transitioned(e,i){return new $(this.property,this.value,i,Ke({},e.transition,this.transition),e.now)}untransitioned(){return new $(this.property,this.value,null,{},0)}}class Q{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return nn(this._values[e].value.value)}setValue(e,i){this._values.hasOwnProperty(e)||(this._values[e]=new K(this._values[e].property)),this._values[e].value=new H(this._values[e].property,null===i?void 0:nn(i))}getTransition(e){return nn(this._values[e].transition)}setTransition(e,i){this._values.hasOwnProperty(e)||(this._values[e]=new K(this._values[e].property)),this._values[e].transition=nn(i)||void 0}serialize(){const e={};for(const i of Object.keys(this._values)){const s=this.getValue(i);void 0!==s&&(e[i]=s);const o=this.getTransition(i);void 0!==o&&(e[`${i}-transition`]=o)}return e}transitioned(e,i){const s=new ie(this._properties);for(const o of Object.keys(this._values))s._values[o]=this._values[o].transitioned(e,i._values[o]);return s}untransitioned(){const e=new ie(this._properties);for(const i of Object.keys(this._values))e._values[i]=this._values[i].untransitioned();return e}}class ${constructor(e,i,s,o,d){const h=o.delay||0,f=o.duration||0;d=d||0,this.property=e,this.value=i,this.begin=d+h,this.end=this.begin+f,e.specification.transition&&(o.delay||o.duration)&&(this.prior=s)}possiblyEvaluate(e,i,s){const o=e.now||0,d=this.value.possiblyEvaluate(e,i,s),h=this.prior;if(h){if(o>this.end)return this.prior=null,d;if(this.value.isDataDriven())return this.prior=null,d;if(o<this.begin)return h.possiblyEvaluate(e,i,s);{const f=(o-this.begin)/(this.end-this.begin);return this.property.interpolate(h.possiblyEvaluate(e,i,s),d,$e(f))}}return d}}class ie{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,i,s){const o=new le(this._properties);for(const d of Object.keys(this._values))o._values[d]=this._values[d].possiblyEvaluate(e,i,s);return o}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class J{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}getValue(e){return nn(this._values[e].value)}setValue(e,i){this._values[e]=new H(this._values[e].property,null===i?void 0:nn(i))}serialize(){const e={};for(const i of Object.keys(this._values)){const s=this.getValue(i);void 0!==s&&(e[i]=s)}return e}possiblyEvaluate(e,i,s){const o=new le(this._properties);for(const d of Object.keys(this._values))o._values[d]=this._values[d].possiblyEvaluate(e,i,s);return o}}class re{constructor(e,i,s){this.property=e,this.value=i,this.parameters=s}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,i,s,o){return this.property.evaluate(this.value,this.parameters,e,i,s,o)}}class le{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class X{constructor(e){this.specification=e}possiblyEvaluate(e,i){return e.expression.evaluate(i)}interpolate(e,i,s){const o=rr[this.specification.type];return o?o(e,i,s):e}}class ce{constructor(e,i){this.specification=e,this.overrides=i}possiblyEvaluate(e,i,s,o){return new re(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(i,null,{},s,o)}:e.expression,i)}interpolate(e,i,s){if("constant"!==e.value.kind||"constant"!==i.value.kind)return e;if(void 0===e.value.value||void 0===i.value.value)return new re(this,{kind:"constant",value:void 0},e.parameters);const o=rr[this.specification.type];return o?new re(this,{kind:"constant",value:o(e.value.value,i.value.value,s)},e.parameters):e}evaluate(e,i,s,o,d,h){return"constant"===e.kind?e.value:e.evaluate(i,s,o,d,h)}}class pe extends ce{possiblyEvaluate(e,i,s,o){if(void 0===e.value)return new re(this,{kind:"constant",value:void 0},i);if("constant"===e.expression.kind){const d=e.expression.evaluate(i,null,{},s,o),h="resolvedImage"===e.property.specification.type&&"string"!=typeof d?d.name:d,f=this._calculate(h,h,h,i);return new re(this,{kind:"constant",value:f},i)}if("camera"===e.expression.kind){const d=this._calculate(e.expression.evaluate({zoom:i.zoom-1}),e.expression.evaluate({zoom:i.zoom}),e.expression.evaluate({zoom:i.zoom+1}),i);return new re(this,{kind:"constant",value:d},i)}return new re(this,e.expression,i)}evaluate(e,i,s,o,d,h){if("source"===e.kind){const f=e.evaluate(i,s,o,d,h);return this._calculate(f,f,f,i)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(i.zoom)-1},s,o),e.evaluate({zoom:Math.floor(i.zoom)},s,o),e.evaluate({zoom:Math.floor(i.zoom)+1},s,o),i):e.value}_calculate(e,i,s,o){return o.zoom>o.zoomHistory.lastIntegerZoom?{from:e,to:i,other:s}:{from:s,to:i,other:e}}interpolate(e){return e}}class Ae{constructor(e){this.specification=e}possiblyEvaluate(e,i,s,o){if(void 0!==e.value){if("constant"===e.expression.kind){const d=e.expression.evaluate(i,null,{},s,o);return this._calculate(d,d,d,i)}return this._calculate(e.expression.evaluate(new z(Math.floor(i.zoom-1),i)),e.expression.evaluate(new z(Math.floor(i.zoom),i)),e.expression.evaluate(new z(Math.floor(i.zoom+1),i)),i)}}_calculate(e,i,s,o){return o.zoom>o.zoomHistory.lastIntegerZoom?{from:e,to:i}:{from:s,to:i}}interpolate(e){return e}}class Ce{constructor(e){this.specification=e}possiblyEvaluate(e,i,s,o){return!!e.expression.evaluate(i,null,{},s,o)}interpolate(){return!1}}class Re{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const i in e){const s=e[i];s.specification.overridable&&this.overridableProperties.push(i);const o=this.defaultPropertyValues[i]=new H(s,void 0),d=this.defaultTransitionablePropertyValues[i]=new K(s);this.defaultTransitioningPropertyValues[i]=d.untransitioned(),this.defaultPossiblyEvaluatedValues[i]=o.possiblyEvaluate({})}}}function Be(n,e){return 256*(n=Ee(Math.floor(n),0,255))+Ee(Math.floor(e),0,255)}ft("DataDrivenProperty",ce),ft("DataConstantProperty",X),ft("CrossFadedDataDrivenProperty",pe),ft("CrossFadedProperty",Ae),ft("ColorRampProperty",Ce);const nt={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Fe{constructor(e,i){this._structArray=e,this._pos1=i*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class ct{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,i){return e._trim(),i&&(e.isTransferred=!0,i.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const i=Object.create(this.prototype);return i.arrayBuffer=e.arrayBuffer,i.length=e.length,i.capacity=e.arrayBuffer.byteLength/i.bytesPerElement,i._refreshViews(),i}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const i=this.uint8;this._refreshViews(),i&&this.uint8.set(i)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Se(n,e=1){let i=0,s=0;return{members:n.map(o=>{const d=nt[o.type].BYTES_PER_ELEMENT,h=i=ut(i,Math.max(e,d)),f=o.components||1;return s=Math.max(s,d),i+=d*f,{name:o.name,type:o.type,components:f,offset:h}}),size:ut(i,Math.max(s,e)),alignment:e}}function ut(n,e){return Math.ceil(n/e)*e}class gt extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i){const s=this.length;return this.resize(s+1),this.emplace(s,e,i)}emplace(e,i,s){const o=2*e;return this.int16[o+0]=i,this.int16[o+1]=s,e}}gt.prototype.bytesPerElement=4,ft("StructArrayLayout2i4",gt);class Dt extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i,s,o){const d=this.length;return this.resize(d+1),this.emplace(d,e,i,s,o)}emplace(e,i,s,o,d){const h=4*e;return this.int16[h+0]=i,this.int16[h+1]=s,this.int16[h+2]=o,this.int16[h+3]=d,e}}Dt.prototype.bytesPerElement=8,ft("StructArrayLayout4i8",Dt);class Et extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,s,o,d,h,f){const y=this.length;return this.resize(y+1),this.emplace(y,e,i,s,o,d,h,f)}emplace(e,i,s,o,d,h,f,y){const x=6*e,L=12*e,E=3*e;return this.int16[x+0]=i,this.int16[x+1]=s,this.uint8[L+4]=o,this.uint8[L+5]=d,this.uint8[L+6]=h,this.uint8[L+7]=f,this.float32[E+2]=y,e}}Et.prototype.bytesPerElement=12,ft("StructArrayLayout2i4ub1f12",Et);class St extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,s){const o=this.length;return this.resize(o+1),this.emplace(o,e,i,s)}emplace(e,i,s,o){const d=3*e;return this.float32[d+0]=i,this.float32[d+1]=s,this.float32[d+2]=o,e}}St.prototype.bytesPerElement=12,ft("StructArrayLayout3f12",St);class Ct extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i,s,o,d,h,f,y,x,L){const E=this.length;return this.resize(E+1),this.emplace(E,e,i,s,o,d,h,f,y,x,L)}emplace(e,i,s,o,d,h,f,y,x,L,E){const P=10*e;return this.uint16[P+0]=i,this.uint16[P+1]=s,this.uint16[P+2]=o,this.uint16[P+3]=d,this.uint16[P+4]=h,this.uint16[P+5]=f,this.uint16[P+6]=y,this.uint16[P+7]=x,this.uint16[P+8]=L,this.uint16[P+9]=E,e}}Ct.prototype.bytesPerElement=20,ft("StructArrayLayout10ui20",Ct);class bt extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i,s,o,d,h,f,y){const x=this.length;return this.resize(x+1),this.emplace(x,e,i,s,o,d,h,f,y)}emplace(e,i,s,o,d,h,f,y,x){const L=8*e;return this.uint16[L+0]=i,this.uint16[L+1]=s,this.uint16[L+2]=o,this.uint16[L+3]=d,this.uint16[L+4]=h,this.uint16[L+5]=f,this.uint16[L+6]=y,this.uint16[L+7]=x,e}}bt.prototype.bytesPerElement=16,ft("StructArrayLayout8ui16",bt);class Yt extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i,s,o,d,h,f,y,x,L,E,P,B,Z,q,ne){const ae=this.length;return this.resize(ae+1),this.emplace(ae,e,i,s,o,d,h,f,y,x,L,E,P,B,Z,q,ne)}emplace(e,i,s,o,d,h,f,y,x,L,E,P,B,Z,q,ne,ae){const de=16*e;return this.int16[de+0]=i,this.int16[de+1]=s,this.int16[de+2]=o,this.int16[de+3]=d,this.uint16[de+4]=h,this.uint16[de+5]=f,this.uint16[de+6]=y,this.uint16[de+7]=x,this.int16[de+8]=L,this.int16[de+9]=E,this.int16[de+10]=P,this.int16[de+11]=B,this.int16[de+12]=Z,this.int16[de+13]=q,this.int16[de+14]=ne,this.int16[de+15]=ae,e}}Yt.prototype.bytesPerElement=32,ft("StructArrayLayout4i4ui4i4i32",Yt);class qt extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const i=this.length;return this.resize(i+1),this.emplace(i,e)}emplace(e,i){return this.uint32[1*e+0]=i,e}}qt.prototype.bytesPerElement=4,ft("StructArrayLayout1ul4",qt);class Fn extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i,s,o,d,h,f,y,x,L,E,P,B){const Z=this.length;return this.resize(Z+1),this.emplace(Z,e,i,s,o,d,h,f,y,x,L,E,P,B)}emplace(e,i,s,o,d,h,f,y,x,L,E,P,B,Z){const q=20*e,ne=10*e;return this.int16[q+0]=i,this.int16[q+1]=s,this.int16[q+2]=o,this.int16[q+3]=d,this.int16[q+4]=h,this.float32[ne+3]=f,this.float32[ne+4]=y,this.float32[ne+5]=x,this.float32[ne+6]=L,this.int16[q+14]=E,this.uint32[ne+8]=P,this.uint16[q+18]=B,this.uint16[q+19]=Z,e}}Fn.prototype.bytesPerElement=40,ft("StructArrayLayout5i4f1i1ul2ui40",Fn);class Xn extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i,s,o,d,h,f){const y=this.length;return this.resize(y+1),this.emplace(y,e,i,s,o,d,h,f)}emplace(e,i,s,o,d,h,f,y){const x=8*e;return this.int16[x+0]=i,this.int16[x+1]=s,this.int16[x+2]=o,this.int16[x+4]=d,this.int16[x+5]=h,this.int16[x+6]=f,this.int16[x+7]=y,e}}Xn.prototype.bytesPerElement=16,ft("StructArrayLayout3i2i2i16",Xn);class ai extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i,s,o,d){const h=this.length;return this.resize(h+1),this.emplace(h,e,i,s,o,d)}emplace(e,i,s,o,d,h){const f=4*e,y=8*e;return this.float32[f+0]=i,this.float32[f+1]=s,this.float32[f+2]=o,this.int16[y+6]=d,this.int16[y+7]=h,e}}ai.prototype.bytesPerElement=16,ft("StructArrayLayout2f1f2i16",ai);class hi extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,s,o){const d=this.length;return this.resize(d+1),this.emplace(d,e,i,s,o)}emplace(e,i,s,o,d){const h=12*e,f=3*e;return this.uint8[h+0]=i,this.uint8[h+1]=s,this.float32[f+1]=o,this.float32[f+2]=d,e}}hi.prototype.bytesPerElement=12,ft("StructArrayLayout2ub2f12",hi);class Rn extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i,s){const o=this.length;return this.resize(o+1),this.emplace(o,e,i,s)}emplace(e,i,s,o){const d=3*e;return this.uint16[d+0]=i,this.uint16[d+1]=s,this.uint16[d+2]=o,e}}Rn.prototype.bytesPerElement=6,ft("StructArrayLayout3ui6",Rn);class lr extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,i,s,o,d,h,f,y,x,L,E,P,B,Z,q,ne,ae,de,ye,we,Me){const De=this.length;return this.resize(De+1),this.emplace(De,e,i,s,o,d,h,f,y,x,L,E,P,B,Z,q,ne,ae,de,ye,we,Me)}emplace(e,i,s,o,d,h,f,y,x,L,E,P,B,Z,q,ne,ae,de,ye,we,Me,De){const Ue=30*e,ze=15*e,ht=60*e;return this.int16[Ue+0]=i,this.int16[Ue+1]=s,this.int16[Ue+2]=o,this.float32[ze+2]=d,this.float32[ze+3]=h,this.uint16[Ue+8]=f,this.uint16[Ue+9]=y,this.uint32[ze+5]=x,this.uint32[ze+6]=L,this.uint32[ze+7]=E,this.uint16[Ue+16]=P,this.uint16[Ue+17]=B,this.uint16[Ue+18]=Z,this.float32[ze+10]=q,this.float32[ze+11]=ne,this.uint8[ht+48]=ae,this.uint8[ht+49]=de,this.uint8[ht+50]=ye,this.uint32[ze+13]=we,this.int16[Ue+28]=Me,this.uint8[ht+58]=De,e}}lr.prototype.bytesPerElement=60,ft("StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60",lr);class Xi extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,i,s,o,d,h,f,y,x,L,E,P,B,Z,q,ne,ae,de,ye,we,Me,De,Ue,ze,ht,st,je,at,ot,He){const _t=this.length;return this.resize(_t+1),this.emplace(_t,e,i,s,o,d,h,f,y,x,L,E,P,B,Z,q,ne,ae,de,ye,we,Me,De,Ue,ze,ht,st,je,at,ot,He)}emplace(e,i,s,o,d,h,f,y,x,L,E,P,B,Z,q,ne,ae,de,ye,we,Me,De,Ue,ze,ht,st,je,at,ot,He,_t){const pt=38*e,Ot=19*e;return this.int16[pt+0]=i,this.int16[pt+1]=s,this.int16[pt+2]=o,this.float32[Ot+2]=d,this.float32[Ot+3]=h,this.int16[pt+8]=f,this.int16[pt+9]=y,this.int16[pt+10]=x,this.int16[pt+11]=L,this.int16[pt+12]=E,this.int16[pt+13]=P,this.uint16[pt+14]=B,this.uint16[pt+15]=Z,this.uint16[pt+16]=q,this.uint16[pt+17]=ne,this.uint16[pt+18]=ae,this.uint16[pt+19]=de,this.uint16[pt+20]=ye,this.uint16[pt+21]=we,this.uint16[pt+22]=Me,this.uint16[pt+23]=De,this.uint16[pt+24]=Ue,this.uint16[pt+25]=ze,this.uint16[pt+26]=ht,this.uint16[pt+27]=st,this.uint16[pt+28]=je,this.uint32[Ot+15]=at,this.float32[Ot+16]=ot,this.float32[Ot+17]=He,this.float32[Ot+18]=_t,e}}Xi.prototype.bytesPerElement=76,ft("StructArrayLayout3i2f6i15ui1ul3f76",Xi);class pn extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const i=this.length;return this.resize(i+1),this.emplace(i,e)}emplace(e,i){return this.float32[1*e+0]=i,e}}pn.prototype.bytesPerElement=4,ft("StructArrayLayout1f4",pn);class cn extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i,s){const o=this.length;return this.resize(o+1),this.emplace(o,e,i,s)}emplace(e,i,s,o){const d=3*e;return this.int16[d+0]=i,this.int16[d+1]=s,this.int16[d+2]=o,e}}cn.prototype.bytesPerElement=6,ft("StructArrayLayout3i6",cn);class Wt extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i,s,o){const d=this.length;return this.resize(d+1),this.emplace(d,e,i,s,o)}emplace(e,i,s,o,d){const h=6*e;return this.uint32[3*e+0]=i,this.uint16[h+2]=s,this.uint16[h+3]=o,this.uint16[h+4]=d,e}}Wt.prototype.bytesPerElement=12,ft("StructArrayLayout1ul3ui12",Wt);class vn extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i){const s=this.length;return this.resize(s+1),this.emplace(s,e,i)}emplace(e,i,s){const o=2*e;return this.uint16[o+0]=i,this.uint16[o+1]=s,e}}vn.prototype.bytesPerElement=4,ft("StructArrayLayout2ui4",vn);class Qn extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const i=this.length;return this.resize(i+1),this.emplace(i,e)}emplace(e,i){return this.uint16[1*e+0]=i,e}}Qn.prototype.bytesPerElement=2,ft("StructArrayLayout1ui2",Qn);class fn extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i){const s=this.length;return this.resize(s+1),this.emplace(s,e,i)}emplace(e,i,s){const o=2*e;return this.float32[o+0]=i,this.float32[o+1]=s,e}}fn.prototype.bytesPerElement=8,ft("StructArrayLayout2f8",fn);class Li extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,s,o){const d=this.length;return this.resize(d+1),this.emplace(d,e,i,s,o)}emplace(e,i,s,o,d){const h=4*e;return this.float32[h+0]=i,this.float32[h+1]=s,this.float32[h+2]=o,this.float32[h+3]=d,e}}Li.prototype.bytesPerElement=16,ft("StructArrayLayout4f16",Li);class Js extends Fe{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Js.prototype.size=40;class oi extends Fn{get(e){return new Js(this,e)}}ft("CollisionBoxArray",oi);class ki extends Fe{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(e){this._structArray.uint8[this._pos1+49]=e}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(e){this._structArray.uint8[this._pos1+50]=e}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(e){this._structArray.uint32[this._pos4+13]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(e){this._structArray.uint8[this._pos1+58]=e}}ki.prototype.size=60;class Ks extends lr{get(e){return new ki(this,e)}}ft("PlacedSymbolArray",Ks);class Jt extends Fe{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(e){this._structArray.uint32[this._pos4+15]=e}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}Jt.prototype.size=76;class m extends Xi{get(e){return new Jt(this,e)}}ft("SymbolInstanceArray",m);class M extends pn{getoffsetX(e){return this.float32[1*e+0]}}ft("GlyphOffsetArray",M);class A extends cn{getx(e){return this.int16[3*e+0]}gety(e){return this.int16[3*e+1]}gettileUnitDistanceFromAnchor(e){return this.int16[3*e+2]}}ft("SymbolLineVertexArray",A);class R extends Fe{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}R.prototype.size=12;class V extends Wt{get(e){return new R(this,e)}}ft("FeatureIndexArray",V);class ve extends Fe{get a_centroid_pos0(){return this._structArray.uint16[this._pos2+0]}get a_centroid_pos1(){return this._structArray.uint16[this._pos2+1]}}ve.prototype.size=4;class Ne extends vn{get(e){return new ve(this,e)}}ft("FillExtrusionCentroidArray",Ne);const Pt=Se([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),Xt=Se([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]);var kn=aa(function(n){n.exports=function(e,i){var s,o,d,h,f,y,x,L;for(o=e.length-(s=3&e.length),d=i,f=3432918353,y=461845907,L=0;L<o;)x=255&e.charCodeAt(L)|(255&e.charCodeAt(++L))<<8|(255&e.charCodeAt(++L))<<16|(255&e.charCodeAt(++L))<<24,++L,d=27492+(65535&(h=5*(65535&(d=(d^=x=(65535&(x=(x=(65535&x)*f+(((x>>>16)*f&65535)<<16)&4294967295)<<15|x>>>17))*y+(((x>>>16)*y&65535)<<16)&4294967295)<<13|d>>>19))+((5*(d>>>16)&65535)<<16)&4294967295))+((58964+(h>>>16)&65535)<<16);switch(x=0,s){case 3:x^=(255&e.charCodeAt(L+2))<<16;case 2:x^=(255&e.charCodeAt(L+1))<<8;case 1:d^=x=(65535&(x=(x=(65535&(x^=255&e.charCodeAt(L)))*f+(((x>>>16)*f&65535)<<16)&4294967295)<<15|x>>>17))*y+(((x>>>16)*y&65535)<<16)&4294967295}return d^=e.length,d=2246822507*(65535&(d^=d>>>16))+((2246822507*(d>>>16)&65535)<<16)&4294967295,d=3266489909*(65535&(d^=d>>>13))+((3266489909*(d>>>16)&65535)<<16)&4294967295,(d^=d>>>16)>>>0}}),Ar=aa(function(n){n.exports=function(e,i){for(var s,o=e.length,d=i^o,h=0;o>=4;)s=1540483477*(65535&(s=255&e.charCodeAt(h)|(255&e.charCodeAt(++h))<<8|(255&e.charCodeAt(++h))<<16|(255&e.charCodeAt(++h))<<24))+((1540483477*(s>>>16)&65535)<<16),d=1540483477*(65535&d)+((1540483477*(d>>>16)&65535)<<16)^(s=1540483477*(65535&(s^=s>>>24))+((1540483477*(s>>>16)&65535)<<16)),o-=4,++h;switch(o){case 3:d^=(255&e.charCodeAt(h+2))<<16;case 2:d^=(255&e.charCodeAt(h+1))<<8;case 1:d=1540483477*(65535&(d^=255&e.charCodeAt(h)))+((1540483477*(d>>>16)&65535)<<16)}return d=1540483477*(65535&(d^=d>>>13))+((1540483477*(d>>>16)&65535)<<16),(d^=d>>>15)>>>0}}),ji=kn,ps=Ar;ji.murmur3=kn,ji.murmur2=ps;class dc{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,i,s,o){this.ids.push(Uu(e)),this.positions.push(i,s,o)}getPositions(e){const i=Uu(e);let s=0,o=this.ids.length-1;for(;s<o;){const h=s+o>>1;this.ids[h]>=i?o=h:s=h+1}const d=[];for(;this.ids[s]===i;)d.push({index:this.positions[3*s],start:this.positions[3*s+1],end:this.positions[3*s+2]}),s++;return d}static serialize(e,i){const s=new Float64Array(e.ids),o=new Uint32Array(e.positions);return Nc(s,o,0,s.length-1),i&&i.push(s.buffer,o.buffer),{ids:s,positions:o}}static deserialize(e){const i=new dc;return i.ids=e.ids,i.positions=e.positions,i.indexed=!0,i}}function Uu(n){const e=+n;return!isNaN(e)&&e<=oe?e:ji(String(n))}function Nc(n,e,i,s){for(;i<s;){const o=n[i+s>>1];let d=i-1,h=s+1;for(;;){do{d++}while(n[d]<o);do{h--}while(n[h]>o);if(d>=h)break;hc(n,d,h),hc(e,3*d,3*h),hc(e,3*d+1,3*h+1),hc(e,3*d+2,3*h+2)}h-i<s-h?(Nc(n,e,i,h),i=h+1):(Nc(n,e,h+1,s),s=h)}}function hc(n,e,i){const s=n[e];n[e]=n[i],n[i]=s}ft("FeaturePositionMap",dc);class Xs{constructor(e,i){this.gl=e.gl,this.location=i}}class _c extends Xs{constructor(e,i){super(e,i),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))}}class ju extends Xs{constructor(e,i){super(e,i),this.current=[0,0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))}}class Zu extends Xs{constructor(e,i){super(e,i),this.current=Vt.transparent}set(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))}}const Fh=new Float32Array(16),Rh=new Float32Array(9),Bh=new Float32Array(4);function Hc(n){return[Be(255*n.r,255*n.g),Be(255*n.b,255*n.a)]}class Vl{constructor(e,i,s){this.value=e,this.uniformNames=i.map(o=>`u_${o}`),this.type=s}setUniform(e,i,s){e.set(s.constantOr(this.value))}getBinding(e,i,s){return"color"===this.type?new Zu(e,i):new _c(e,i)}}class vl{constructor(e,i){this.uniformNames=i.map(s=>`u_${s}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(e,i){this.pixelRatioFrom=i.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=i.tl.concat(i.br),this.patternTo=e.tl.concat(e.br)}setUniform(e,i,s,o){const d="u_pattern_to"===o||"u_dash_to"===o?this.patternTo:"u_pattern_from"===o||"u_dash_from"===o?this.patternFrom:"u_pixel_ratio_to"===o?this.pixelRatioTo:"u_pixel_ratio_from"===o?this.pixelRatioFrom:null;d&&e.set(d)}getBinding(e,i,s){return"u_pattern_from"===s||"u_pattern_to"===s||"u_dash_from"===s||"u_dash_to"===s?new ju(e,i):new _c(e,i)}}class Qs{constructor(e,i,s,o){this.expression=e,this.type=s,this.maxValue=0,this.paintVertexAttributes=i.map(d=>({name:`a_${d}`,type:"Float32",components:"color"===s?2:1,offset:0})),this.paintVertexArray=new o}populatePaintArray(e,i,s,o,d,h){const f=this.paintVertexArray.length,y=this.expression.evaluate(new z(0),i,{},d,o,h);this.paintVertexArray.resize(e),this._setPaintValue(f,e,y)}updatePaintArray(e,i,s,o,d){const h=this.expression.evaluate({zoom:0},s,o,void 0,d);this._setPaintValue(e,i,h)}_setPaintValue(e,i,s){if("color"===this.type){const o=Hc(s);for(let d=e;d<i;d++)this.paintVertexArray.emplace(d,o[0],o[1])}else{for(let o=e;o<i;o++)this.paintVertexArray.emplace(o,s);this.maxValue=Math.max(this.maxValue,Math.abs(s))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class $r{constructor(e,i,s,o,d,h){this.expression=e,this.uniformNames=i.map(f=>`u_${f}_t`),this.type=s,this.useIntegerZoom=o,this.zoom=d,this.maxValue=0,this.paintVertexAttributes=i.map(f=>({name:`a_${f}`,type:"Float32",components:"color"===s?4:2,offset:0})),this.paintVertexArray=new h}populatePaintArray(e,i,s,o,d,h){const f=this.expression.evaluate(new z(this.zoom),i,{},d,o,h),y=this.expression.evaluate(new z(this.zoom+1),i,{},d,o,h),x=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(x,e,f,y)}updatePaintArray(e,i,s,o,d){const h=this.expression.evaluate({zoom:this.zoom},s,o,void 0,d),f=this.expression.evaluate({zoom:this.zoom+1},s,o,void 0,d);this._setPaintValue(e,i,h,f)}_setPaintValue(e,i,s,o){if("color"===this.type){const d=Hc(s),h=Hc(o);for(let f=e;f<i;f++)this.paintVertexArray.emplace(f,d[0],d[1],h[0],h[1])}else{for(let d=e;d<i;d++)this.paintVertexArray.emplace(d,s,o);this.maxValue=Math.max(this.maxValue,Math.abs(s),Math.abs(o))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,i){const s=this.useIntegerZoom?Math.floor(i.zoom):i.zoom,o=Ee(this.expression.interpolationFactor(s,this.zoom,this.zoom+1),0,1);e.set(o)}getBinding(e,i,s){return new _c(e,i)}}class ja{constructor(e,i,s,o,d,h,f){this.expression=e,this.type=s,this.useIntegerZoom=o,this.zoom=d,this.layerId=f,this.paintVertexAttributes=("array"===s?Xt:Pt).members;for(let y=0;y<i.length;++y);this.zoomInPaintVertexArray=new h,this.zoomOutPaintVertexArray=new h}populatePaintArray(e,i,s){const o=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(o,e,i.patterns&&i.patterns[this.layerId],s)}updatePaintArray(e,i,s,o,d,h){this._setPaintValues(e,i,s.patterns&&s.patterns[this.layerId],h)}_setPaintValues(e,i,s,o){if(!o||!s)return;const{min:d,mid:h,max:f}=s,y=o[d],x=o[h],L=o[f];if(y&&x&&L)for(let E=e;E<i;E++)this._setPaintValue(this.zoomInPaintVertexArray,E,x,y),this._setPaintValue(this.zoomOutPaintVertexArray,E,x,L)}_setPaintValue(e,i,s,o){e.emplace(i,s.tl[0],s.tl[1],s.br[0],s.br[1],o.tl[0],o.tl[1],o.br[0],o.br[1],s.pixelRatio,o.pixelRatio)}upload(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class ea{constructor(e,i,s=(()=>!0)){this.binders={},this._buffers=[];const o=[];for(const d in e.paint._values){if(!s(d))continue;const h=e.paint.get(d);if(!(h instanceof re&&Ii(h.property.specification)))continue;const f=jh(d,e.type),y=h.value,x=h.property.specification.type,L=h.property.useIntegerZoom,E=h.property.specification["property-type"],P="cross-faded"===E||"cross-faded-data-driven"===E,B="line-dasharray"===String(d)&&"constant"!==e.layout.get("line-cap").value.kind;if("constant"!==y.kind||B)if("source"===y.kind||B||P){const Z=Nu(d,x,"source");this.binders[d]=P?new ja(y,f,x,L,i,Z,e.id):new Qs(y,f,x,Z),o.push(`/a_${d}`)}else{const Z=Nu(d,x,"composite");this.binders[d]=new $r(y,f,x,L,i,Z),o.push(`/z_${d}`)}else this.binders[d]=P?new vl(y.value,f):new Vl(y.value,f,x),o.push(`/u_${d}`)}this.cacheKey=o.sort().join("")}getMaxValue(e){const i=this.binders[e];return i instanceof Qs||i instanceof $r?i.maxValue:0}populatePaintArrays(e,i,s,o,d,h){for(const f in this.binders){const y=this.binders[f];(y instanceof Qs||y instanceof $r||y instanceof ja)&&y.populatePaintArray(e,i,s,o,d,h)}}setConstantPatternPositions(e,i){for(const s in this.binders){const o=this.binders[s];o instanceof vl&&o.setConstantPatternPositions(e,i)}}updatePaintArrays(e,i,s,o,d,h){let f=!1;for(const y in e){const x=i.getPositions(y);for(const L of x){const E=s.feature(L.index);for(const P in this.binders){const B=this.binders[P];if((B instanceof Qs||B instanceof $r||B instanceof ja)&&!0===B.expression.isStateDependent){const Z=o.paint.get(P);B.expression=Z.value,B.updatePaintArray(L.start,L.end,E,e[y],d,h),f=!0}}}}return f}defines(){const e=[];for(const i in this.binders){const s=this.binders[i];(s instanceof Vl||s instanceof vl)&&e.push(...s.uniformNames.map(o=>`#define HAS_UNIFORM_${o}`))}return e}getBinderAttributes(){const e=[];for(const i in this.binders){const s=this.binders[i];if(s instanceof Qs||s instanceof $r||s instanceof ja)for(let o=0;o<s.paintVertexAttributes.length;o++)e.push(s.paintVertexAttributes[o].name)}return e}getBinderUniforms(){const e=[];for(const i in this.binders){const s=this.binders[i];if(s instanceof Vl||s instanceof vl||s instanceof $r)for(const o of s.uniformNames)e.push(o)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e,i){const s=[];for(const o in this.binders){const d=this.binders[o];if(d instanceof Vl||d instanceof vl||d instanceof $r)for(const h of d.uniformNames)if(i[h]){const f=d.getBinding(e,i[h],h);s.push({name:h,property:o,binding:f})}}return s}setUniforms(e,i,s,o){for(const{name:d,property:h,binding:f}of i)this.binders[h].setUniform(f,o,s.get(h),d)}updatePaintBuffers(e){this._buffers=[];for(const i in this.binders){const s=this.binders[i];if(e&&s instanceof ja){const o=2===e.fromScale?s.zoomInPaintVertexBuffer:s.zoomOutPaintVertexBuffer;o&&this._buffers.push(o)}else(s instanceof Qs||s instanceof $r)&&s.paintVertexBuffer&&this._buffers.push(s.paintVertexBuffer)}}upload(e){for(const i in this.binders){const s=this.binders[i];(s instanceof Qs||s instanceof $r||s instanceof ja)&&s.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const i=this.binders[e];(i instanceof Qs||i instanceof $r||i instanceof ja)&&i.destroy()}}}class Io{constructor(e,i,s=(()=>!0)){this.programConfigurations={};for(const o of e)this.programConfigurations[o.id]=new ea(o,i,s);this.needsUpload=!1,this._featureMap=new dc,this._bufferOffset=0}populatePaintArrays(e,i,s,o,d,h,f){for(const y in this.programConfigurations)this.programConfigurations[y].populatePaintArrays(e,i,o,d,h,f);void 0!==i.id&&this._featureMap.add(i.id,s,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,i,s,o,d){for(const h of s)this.needsUpload=this.programConfigurations[h.id].updatePaintArrays(e,this._featureMap,i,h,o,d)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const i in this.programConfigurations)this.programConfigurations[i].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}const Uh={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function jh(n,e){return Uh[n]||[n.replace(`${e}-`,"").replace(/-/g,"_")]}const Zh={"line-pattern":{source:Ct,composite:Ct},"fill-pattern":{source:Ct,composite:Ct},"fill-extrusion-pattern":{source:Ct,composite:Ct},"line-dasharray":{source:bt,composite:bt}},Nh={color:{source:fn,composite:Li},number:{source:pn,composite:fn}};function Nu(n,e,i){const s=Zh[n];return s&&s[i]||Nh[e][i]}ft("ConstantBinder",Vl),ft("CrossFadedConstantBinder",vl),ft("SourceExpressionBinder",Qs),ft("CrossFadedCompositeBinder",ja),ft("CompositeExpressionBinder",$r),ft("ProgramConfiguration",ea,{omit:["_buffers"]}),ft("ProgramConfigurationSet",Io);const mc="-transition";class Jr extends it{constructor(e,i){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,"custom"!==e.type&&(this.metadata=(e=e).metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&"sky"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),i.layout&&(this._unevaluatedLayout=new J(i.layout)),i.paint)){this._transitionablePaint=new Q(i.paint);for(const s in e.paint)this.setPaintProperty(s,e.paint[s],{validate:!1});for(const s in e.layout)this.setLayoutProperty(s,e.layout[s],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new le(i.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,i,s={}){null!=i&&this._validate(Wr,`layers.${this.id}.layout.${e}`,e,i,s)||("visibility"!==e?this._unevaluatedLayout.setValue(e,i):this.visibility=i)}getPaintProperty(e){return Mt(e,mc)?this._transitionablePaint.getTransition(e.slice(0,-mc.length)):this._transitionablePaint.getValue(e)}setPaintProperty(e,i,s={}){if(null!=i&&this._validate(Hr,`layers.${this.id}.paint.${e}`,e,i,s))return!1;if(Mt(e,mc))return this._transitionablePaint.setTransition(e.slice(0,-mc.length),i||void 0),!1;{const o=this._transitionablePaint._values[e],d="cross-faded-data-driven"===o.property.specification["property-type"],h=o.value.isDataDriven(),f=o.value;this._transitionablePaint.setValue(e,i),this._handleSpecialPaintPropertyUpdate(e);const y=this._transitionablePaint._values[e].value;return y.isDataDriven()||h||d||this._handleOverridablePaintPropertyUpdate(e,f,y)}}_handleSpecialPaintPropertyUpdate(e){}getProgramIds(){return null}getProgramConfiguration(e){return null}_handleOverridablePaintPropertyUpdate(e,i,s){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,i){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,i)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,i)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),tn(e,(i,s)=>!(void 0===i||"layout"===s&&!Object.keys(i).length||"paint"===s&&!Object.keys(i).length))}_validate(e,i,s,o,d={}){return(!d||!1!==d.validate)&&Us(this,e.call(Sr,{key:i,layerType:this.type,objectKey:s,value:o,styleSpec:xe,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const i=this.paint.get(e);if(i instanceof re&&Ii(i.property.specification)&&("source"===i.value.kind||"composite"===i.value.kind)&&i.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=cs(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const Hh=Se([{name:"a_pos",components:2,type:"Int16"}],4),{members:Wh}=Hh;class _i{constructor(e=[]){this.segments=e}prepareSegment(e,i,s,o){let d=this.segments[this.segments.length-1];return e>_i.MAX_VERTEX_ARRAY_LENGTH&&It(`Max vertices per segment is ${_i.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!d||d.vertexLength+e>_i.MAX_VERTEX_ARRAY_LENGTH||d.sortKey!==o)&&(d={vertexOffset:i.length,primitiveOffset:s.length,vertexLength:0,primitiveLength:0},void 0!==o&&(d.sortKey=o),this.segments.push(d)),d}get(){return this.segments}destroy(){for(const e of this.segments)for(const i in e.vaos)e.vaos[i].destroy()}static simpleSegment(e,i,s,o){return new _i([{vertexOffset:e,primitiveOffset:i,vertexLength:s,primitiveLength:o,vaos:{},sortKey:0}])}}_i.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ft("SegmentVector",_i);var en=8192;class Yo{constructor(e,i){e&&(i?this.setSouthWest(e).setNorthEast(i):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}setNorthEast(e){return this._ne=e instanceof hn?new hn(e.lng,e.lat):hn.convert(e),this}setSouthWest(e){return this._sw=e instanceof hn?new hn(e.lng,e.lat):hn.convert(e),this}extend(e){const i=this._sw,s=this._ne;let o,d;if(e instanceof hn)o=e,d=e;else{if(!(e instanceof Yo))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(Yo.convert(e)):this.extend(hn.convert(e)):this;if(o=e._sw,d=e._ne,!o||!d)return this}return i||s?(i.lng=Math.min(o.lng,i.lng),i.lat=Math.min(o.lat,i.lat),s.lng=Math.max(d.lng,s.lng),s.lat=Math.max(d.lat,s.lat)):(this._sw=new hn(o.lng,o.lat),this._ne=new hn(d.lng,d.lat)),this}getCenter(){return new hn((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new hn(this.getWest(),this.getNorth())}getSouthEast(){return new hn(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:i,lat:s}=hn.convert(e);let o=this._sw.lng<=i&&i<=this._ne.lng;return this._sw.lng>this._ne.lng&&(o=this._sw.lng>=i&&i>=this._ne.lng),this._sw.lat<=s&&s<=this._ne.lat&&o}static convert(e){return!e||e instanceof Yo?e:new Yo(e)}}const Hu=6371008.8;class hn{constructor(e,i){if(isNaN(e)||isNaN(i))throw new Error(`Invalid LngLat object: (${e}, ${i})`);if(this.lng=+e,this.lat=+i,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new hn(Pe(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const i=Math.PI/180,s=this.lat*i,o=e.lat*i,d=Math.sin(s)*Math.sin(o)+Math.cos(s)*Math.cos(o)*Math.cos((e.lng-this.lng)*i);return Hu*Math.acos(Math.min(d,1))}toBounds(e=0){const i=360*e/40075017,s=i/Math.cos(Math.PI/180*this.lat);return new Yo(new hn(this.lng-s,this.lat-i),new hn(this.lng+s,this.lat+i))}static convert(e){if(e instanceof hn)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new hn(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new hn(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Wu=2*Math.PI*Hu;function Vu(n){return Wu*Math.cos(n*Math.PI/180)}function Wc(n){return(180+n)/360}function Vc(n){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n*Math.PI/360)))/360}function qc(n,e){return n/Vu(e)}function Oo(n){return 360*n-180}function fs(n){return 360/Math.PI*Math.atan(Math.exp((180-360*n)*Math.PI/180))-90}function Gc(n,e){return n*Vu(fs(e))}const Za=85.051129;class pc{constructor(e,i,s=0){this.x=+e,this.y=+i,this.z=+s}static fromLngLat(e,i=0){const s=hn.convert(e);return new pc(Wc(s.lng),Vc(s.lat),qc(i,s.lat))}toLngLat(){return new hn(Oo(this.x),fs(this.y))}toAltitude(){return Gc(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Wu*(e=fs(this.y),1/Math.cos(e*Math.PI/180));var e}}function $c(n,e,i,s,o,d,h,f,y){const x=(e+s)/2,L=(i+o)/2,E=new I(x,L);f(E),function(P,B,Z,q,ne,ae){const de=Z-ne,ye=q-ae;return Math.abs((q-B)*de-(Z-P)*ye)/Math.hypot(de,ye)}(E.x,E.y,d.x,d.y,h.x,h.y)>=y?($c(n,e,i,x,L,d,E,f,y),$c(n,x,L,s,o,E,h,f,y)):n.push(h)}function Vh(n,e,i){const s=[];let o,d,h;for(const f of n){const{x:y,y:x}=f;e(f),h?$c(s,o,d,y,x,h,f,e,i):s.push(f),o=y,d=x,h=f}return s}const Jc=Math.pow(2,14)-1,qu=-Jc-1;function qh(n,e){const i=Math.round(n.x*e),s=Math.round(n.y*e);return n.x=Ee(i,qu,Jc),n.y=Ee(s,qu,Jc),(i<n.x||i>n.x+1||s<n.y||s>n.y+1)&&It("Geometry exceeds allowed extent, reduce your vector tile buffer size"),n}function ta(n,e,i){const s=n.loadGeometry(),o=n.extent,d=en/o;if(e&&i&&"mercator"!==i.projection.name){const h=1<<e.z,{scale:f,x:y,y:x,projection:L}=i,E=P=>{const B=Oo((e.x+P.x/o)/h),Z=fs((e.y+P.y/o)/h),q=L.project(B,Z);P.x=(q.x*f-y)*o,P.y=(q.y*f-x)*o};for(let P=0;P<s.length;P++)if(1!==n.type)s[P]=Vh(s[P],E,1);else{const B=[];for(const Z of s[P])Z.x<0||Z.x>=o||Z.y<0||Z.y>=o||(E(Z),B.push(Z));s[P]=B}}for(const h of s)for(const f of h)qh(f,d);return s}function zo(n,e){return{type:n.type,id:n.id,properties:n.properties,geometry:e?ta(n):[]}}function fc(n,e,i,s,o){n.emplaceBack(2*e+(s+1)/2,2*i+(o+1)/2)}class Kc{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(i=>i.id),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new gt,this.indexArray=new Rn,this.segments=new _i,this.programConfigurations=new Io(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id)}populate(e,i,s,o){const d=this.layers[0],h=[];let f=null;"circle"===d.type&&(f=d.layout.get("circle-sort-key"));for(const{feature:y,id:x,index:L,sourceLayerIndex:E}of e){const P=this.layers[0]._featureFilter.needGeometry,B=zo(y,P);if(!this.layers[0]._featureFilter.filter(new z(this.zoom),B,s))continue;const Z=f?f.evaluate(B,{},s):void 0,q={id:x,properties:y.properties,type:y.type,sourceLayerIndex:E,index:L,geometry:P?B.geometry:ta(y,s,o),patterns:{},sortKey:Z};h.push(q)}f&&h.sort((y,x)=>y.sortKey-x.sortKey);for(const y of h){const{geometry:x,index:L,sourceLayerIndex:E}=y,P=e[L].feature;this.addFeature(y,x,L,i.availableImages,s),i.featureIndex.insert(P,x,L,E,this.index)}}update(e,i,s,o){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,i,this.stateDependentLayers,s,o)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Wh),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,i,s,o,d){for(const h of i)for(const f of h){const y=f.x,x=f.y;if(y<0||y>=en||x<0||x>=en)continue;const L=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),E=L.vertexLength;fc(this.layoutVertexArray,y,x,-1,-1),fc(this.layoutVertexArray,y,x,1,-1),fc(this.layoutVertexArray,y,x,1,1),fc(this.layoutVertexArray,y,x,-1,1),this.indexArray.emplaceBack(E,E+1,E+2),this.indexArray.emplaceBack(E,E+3,E+2),L.vertexLength+=4,L.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,s,{},o,d)}}function Gu(n,e){for(let i=0;i<n.length;i++)if(xl(e,n[i]))return!0;for(let i=0;i<e.length;i++)if(xl(n,e[i]))return!0;return!!Xc(n,e)}function Gh(n,e,i){return!!xl(n,e)||!!Qc(e,n,i)}function $u(n,e){if(1===n.length)return Ku(e,n[0]);for(let i=0;i<e.length;i++){const s=e[i];for(let o=0;o<s.length;o++)if(xl(n,s[o]))return!0}for(let i=0;i<n.length;i++)if(Ku(e,n[i]))return!0;for(let i=0;i<e.length;i++)if(Xc(n,e[i]))return!0;return!1}function $h(n,e,i){if(n.length>1){if(Xc(n,e))return!0;for(let s=0;s<e.length;s++)if(Qc(e[s],n,i))return!0}for(let s=0;s<n.length;s++)if(Qc(n[s],e,i))return!0;return!1}function Xc(n,e){if(0===n.length||0===e.length)return!1;for(let i=0;i<n.length-1;i++){const s=n[i],o=n[i+1];for(let d=0;d<e.length-1;d++)if(Jh(s,o,e[d],e[d+1]))return!0}return!1}function Jh(n,e,i,s){return mn(n,i,s)!==mn(e,i,s)&&mn(n,e,i)!==mn(n,e,s)}function Qc(n,e,i){const s=i*i;if(1===e.length)return n.distSqr(e[0])<s;for(let o=1;o<e.length;o++)if(Ju(n,e[o-1],e[o])<s)return!0;return!1}function Ju(n,e,i){const s=e.distSqr(i);if(0===s)return n.distSqr(e);const o=((n.x-e.x)*(i.x-e.x)+(n.y-e.y)*(i.y-e.y))/s;return n.distSqr(o<0?e:o>1?i:i.sub(e)._mult(o)._add(e))}function Ku(n,e){let i,s,o,d=!1;for(let h=0;h<n.length;h++){i=n[h];for(let f=0,y=i.length-1;f<i.length;y=f++)s=i[f],o=i[y],s.y>e.y!=o.y>e.y&&e.x<(o.x-s.x)*(e.y-s.y)/(o.y-s.y)+s.x&&(d=!d)}return d}function xl(n,e){let i=!1;for(let s=0,o=n.length-1;s<n.length;o=s++){const d=n[s],h=n[o];d.y>e.y!=h.y>e.y&&e.x<(h.x-d.x)*(e.y-d.y)/(h.y-d.y)+d.x&&(i=!i)}return i}function Xu(n,e,i,s,o){for(const h of n)if(e<=h.x&&i<=h.y&&s>=h.x&&o>=h.y)return!0;const d=[new I(e,i),new I(e,o),new I(s,o),new I(s,i)];if(n.length>2)for(const h of d)if(xl(n,h))return!0;for(let h=0;h<n.length-1;h++)if(Kh(n[h],n[h+1],d))return!0;return!1}function Kh(n,e,i){const s=i[0],o=i[2];if(n.x<s.x&&e.x<s.x||n.x>o.x&&e.x>o.x||n.y<s.y&&e.y<s.y||n.y>o.y&&e.y>o.y)return!1;const d=mn(n,e,i[0]);return d!==mn(n,e,i[1])||d!==mn(n,e,i[2])||d!==mn(n,e,i[3])}function Ml(n,e,i){const s=e.paint.get(n).value;return"constant"===s.kind?s.value:i.programConfigurations.get(e.id).getMaxValue(n)}function gc(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function Qu(n,e,i,s,o){if(!e[0]&&!e[1])return n;const d=I.convert(e)._mult(o);"viewport"===i&&d._rotate(-s);const h=[];for(let f=0;f<n.length;f++)h.push(n[f].sub(d));return h}function ed(n,e,i,s){const o=I.convert(n)._mult(s);return"viewport"===e&&o._rotate(-i),o}ft("CircleBucket",Kc,{omit:["layers"]});const Xh=new Re({"circle-sort-key":new ce(xe.layout_circle["circle-sort-key"])});var Qh={paint:new Re({"circle-radius":new ce(xe.paint_circle["circle-radius"]),"circle-color":new ce(xe.paint_circle["circle-color"]),"circle-blur":new ce(xe.paint_circle["circle-blur"]),"circle-opacity":new ce(xe.paint_circle["circle-opacity"]),"circle-translate":new X(xe.paint_circle["circle-translate"]),"circle-translate-anchor":new X(xe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new X(xe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new X(xe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ce(xe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ce(xe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ce(xe.paint_circle["circle-stroke-opacity"])}),layout:Xh},Oi="undefined"!=typeof Float32Array?Float32Array:Array;function td(){var n=new Oi(9);return Oi!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n}function eu(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function nd(n,e,i){var s=e[0],o=e[1],d=e[2],h=e[3],f=e[4],y=e[5],x=e[6],L=e[7],E=e[8],P=e[9],B=e[10],Z=e[11],q=e[12],ne=e[13],ae=e[14],de=e[15],ye=i[0],we=i[1],Me=i[2],De=i[3];return n[0]=ye*s+we*f+Me*E+De*q,n[1]=ye*o+we*y+Me*P+De*ne,n[2]=ye*d+we*x+Me*B+De*ae,n[3]=ye*h+we*L+Me*Z+De*de,n[4]=(ye=i[4])*s+(we=i[5])*f+(Me=i[6])*E+(De=i[7])*q,n[5]=ye*o+we*y+Me*P+De*ne,n[6]=ye*d+we*x+Me*B+De*ae,n[7]=ye*h+we*L+Me*Z+De*de,n[8]=(ye=i[8])*s+(we=i[9])*f+(Me=i[10])*E+(De=i[11])*q,n[9]=ye*o+we*y+Me*P+De*ne,n[10]=ye*d+we*x+Me*B+De*ae,n[11]=ye*h+we*L+Me*Z+De*de,n[12]=(ye=i[12])*s+(we=i[13])*f+(Me=i[14])*E+(De=i[15])*q,n[13]=ye*o+we*y+Me*P+De*ne,n[14]=ye*d+we*x+Me*B+De*ae,n[15]=ye*h+we*L+Me*Z+De*de,n}Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)});var e_=nd;function yc(){var n=new Oi(3);return Oi!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n}function id(n){return Math.hypot(n[0],n[1],n[2])}function bl(n,e,i){var s=new Oi(3);return s[0]=n,s[1]=e,s[2]=i,s}function rd(n,e,i){return n[0]=e[0]-i[0],n[1]=e[1]-i[1],n[2]=e[2]-i[2],n}function sd(n,e,i){return n[0]=e[0]*i[0],n[1]=e[1]*i[1],n[2]=e[2]*i[2],n}function ad(n,e,i,s){return n[0]=e[0]+i[0]*s,n[1]=e[1]+i[1]*s,n[2]=e[2]+i[2]*s,n}function od(n,e){var i=e[0],s=e[1],o=e[2],d=i*i+s*s+o*o;return d>0&&(d=1/Math.sqrt(d)),n[0]=e[0]*d,n[1]=e[1]*d,n[2]=e[2]*d,n}function ld(n,e,i){var s=i[0],o=i[1],d=i[2],h=e[0],f=e[1],y=e[2],x=o*y-d*f,L=d*h-s*y,E=s*f-o*h,P=o*E-d*L,B=d*x-s*E,Z=s*L-o*x,q=2*i[3];return L*=q,E*=q,B*=2,Z*=2,n[0]=h+(x*=q)+(P*=2),n[1]=f+L+B,n[2]=y+E+Z,n}var ql,n,t_=rd,n_=sd,i_=id;function Gl(n,e,i){var s=e[0],o=e[1],d=e[2],h=e[3];return n[0]=i[0]*s+i[4]*o+i[8]*d+i[12]*h,n[1]=i[1]*s+i[5]*o+i[9]*d+i[13]*h,n[2]=i[2]*s+i[6]*o+i[10]*d+i[14]*h,n[3]=i[3]*s+i[7]*o+i[11]*d+i[15]*h,n}function tu(){var n=new Oi(4);return Oi!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n[3]=1,n}function cd(n){return n[0]=0,n[1]=0,n[2]=0,n[3]=1,n}function ud(n,e,i){i*=.5;var s=e[0],o=e[1],d=e[2],h=e[3],f=Math.sin(i),y=Math.cos(i);return n[0]=s*y+h*f,n[1]=o*y+d*f,n[2]=d*y-o*f,n[3]=h*y-s*f,n}function dd(n,e){return n[0]===e[0]&&n[1]===e[1]}function hd(n,e,i,s,o,d,h,f,y){if(d&&n.queryGeometry.isAboveHorizon)return!1;d&&(y*=n.pixelToTileUnitsFactor);for(const x of e)for(const L of x){const E=L.add(f),P=o&&i.elevation?i.elevation.exaggeration()*o.getElevationAt(E.x,E.y,!0):0,B=d?E:r_(E,P,s),Z=d?n.tilespaceRays.map(ne=>a_(ne,P)):n.queryGeometry.screenGeometry,q=Gl([],[L.x,L.y,P,1],s);if(!h&&d?y*=q[3]/i.cameraToCenterDistance:h&&!d&&(y*=i.cameraToCenterDistance/q[3]),Gh(Z,B,y))return!0}return!1}function r_(n,e,i){const s=Gl([],[n.x,n.y,e,1],i);return new I(s[0]/s[3],s[1]/s[3])}yc(),ql=new Oi(4),Oi!=Float32Array&&(ql[0]=0,ql[1]=0,ql[2]=0,ql[3]=0),yc(),bl(1,0,0),bl(0,1,0),tu(),tu(),td(),n=new Oi(2),Oi!=Float32Array&&(n[0]=0,n[1]=0);const _d=bl(0,0,0),s_=bl(0,0,1);function a_(n,e){const i=yc();return _d[2]=e,n.intersectsPlane(_d,s_,i),new I(i[0],i[1])}class md extends Kc{}function nu(n,{width:e,height:i},s,o){if(o){if(o instanceof Uint8ClampedArray)o=new Uint8Array(o.buffer);else if(o.length!==e*i*s)throw new RangeError("mismatched image size")}else o=new Uint8Array(e*i*s);return n.width=e,n.height=i,n.data=o,n}function pd(n,{width:e,height:i},s){if(e===n.width&&i===n.height)return;const o=nu({},{width:e,height:i},s);iu(n,o,{x:0,y:0},{x:0,y:0},{width:Math.min(n.width,e),height:Math.min(n.height,i)},s),n.width=e,n.height=i,n.data=o.data}function iu(n,e,i,s,o,d){if(0===o.width||0===o.height)return e;if(o.width>n.width||o.height>n.height||i.x>n.width-o.width||i.y>n.height-o.height)throw new RangeError("out of range source coordinates for image copy");if(o.width>e.width||o.height>e.height||s.x>e.width-o.width||s.y>e.height-o.height)throw new RangeError("out of range destination coordinates for image copy");const h=n.data,f=e.data;for(let y=0;y<o.height;y++){const x=((i.y+y)*n.width+i.x)*d,L=((s.y+y)*e.width+s.x)*d;for(let E=0;E<o.width*d;E++)f[L+E]=h[x+E]}return e}ft("HeatmapBucket",md,{omit:["layers"]});class Na{constructor(e,i){nu(this,e,1,i)}resize(e){pd(this,e,1)}clone(){return new Na({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,i,s,o,d){iu(e,i,s,o,d,1)}}class cr{constructor(e,i){nu(this,e,4,i)}resize(e){pd(this,e,4)}replace(e,i){i?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new cr({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,i,s,o,d){iu(e,i,s,o,d,4)}}ft("AlphaImage",Na),ft("RGBAImage",cr);var o_={paint:new Re({"heatmap-radius":new ce(xe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ce(xe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new X(xe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ce(xe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new X(xe.paint_heatmap["heatmap-opacity"])})};function ru(n){const e={},i=n.resolution||256,s=n.clips?n.clips.length:1,o=n.image||new cr({width:i,height:s}),d=(h,f,y)=>{e[n.evaluationKey]=y;const x=n.expression.evaluate(e);o.data[h+f+0]=Math.floor(255*x.r/x.a),o.data[h+f+1]=Math.floor(255*x.g/x.a),o.data[h+f+2]=Math.floor(255*x.b/x.a),o.data[h+f+3]=Math.floor(255*x.a)};if(n.clips)for(let h=0,f=0;h<s;++h,f+=4*i)for(let y=0,x=0;y<i;y++,x+=4){const L=y/(i-1),{start:E,end:P}=n.clips[h];d(f,x,E*(1-L)+P*L)}else for(let h=0,f=0;h<i;h++,f+=4)d(0,f,h/(i-1));return o}var l_={paint:new Re({"hillshade-illumination-direction":new X(xe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new X(xe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new X(xe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new X(xe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new X(xe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new X(xe.paint_hillshade["hillshade-accent-color"])})};const c_=Se([{name:"a_pos",components:2,type:"Int16"}],4),{members:u_}=c_;var vc=xc,d_=xc;function xc(n,e,i){i=i||2;var s,o,d,h,f,y,x,L=e&&e.length,E=L?e[0]*i:n.length,P=fd(n,0,E,i,!0),B=[];if(!P||P.next===P.prev)return B;if(L&&(P=function(q,ne,ae,de){var ye,we,Me,De=[];for(ye=0,we=ne.length;ye<we;ye++)(Me=fd(q,ne[ye]*de,ye<we-1?ne[ye+1]*de:q.length,de,!1))===Me.next&&(Me.steiner=!0),De.push(v_(Me));for(De.sort(f_),ye=0;ye<De.length;ye++)ae=Ha(ae=g_(De[ye],ae),ae.next);return ae}(n,e,P,i)),n.length>80*i){s=d=n[0],o=h=n[1];for(var Z=i;Z<E;Z+=i)(f=n[Z])<s&&(s=f),(y=n[Z+1])<o&&(o=y),f>d&&(d=f),y>h&&(h=y);x=0!==(x=Math.max(d-s,h-o))?1/x:0}return $l(P,B,i,s,o,x),B}function fd(n,e,i,s,o){var d,h;if(o===ou(n,e,i,s)>0)for(d=e;d<i;d+=s)h=vd(d,n[d],n[d+1],h);else for(d=i-s;d>=e;d-=s)h=vd(d,n[d],n[d+1],h);return h&&Mc(h,h.next)&&(Kl(h),h=h.next),h}function Ha(n,e){if(!n)return n;e||(e=n);var i,s=n;do{if(i=!1,s.steiner||!Mc(s,s.next)&&0!==jn(s.prev,s,s.next))s=s.next;else{if(Kl(s),(s=e=s.prev)===s.next)break;i=!0}}while(i||s!==e);return e}function $l(n,e,i,s,o,d,h){if(n){!h&&d&&function(L,E,P,B){var Z=L;do{null===Z.z&&(Z.z=su(Z.x,Z.y,E,P,B)),Z.prevZ=Z.prev,Z.nextZ=Z.next,Z=Z.next}while(Z!==L);Z.prevZ.nextZ=null,Z.prevZ=null,function(q){var ne,ae,de,ye,we,Me,De,Ue,ze=1;do{for(ae=q,q=null,we=null,Me=0;ae;){for(Me++,de=ae,De=0,ne=0;ne<ze&&(De++,de=de.nextZ);ne++);for(Ue=ze;De>0||Ue>0&&de;)0!==De&&(0===Ue||!de||ae.z<=de.z)?(ye=ae,ae=ae.nextZ,De--):(ye=de,de=de.nextZ,Ue--),we?we.nextZ=ye:q=ye,ye.prevZ=we,we=ye;ae=de}we.nextZ=null,ze*=2}while(Me>1)}(Z)}(n,s,o,d);for(var f,y,x=n;n.prev!==n.next;)if(f=n.prev,y=n.next,d?__(n,s,o,d):h_(n))e.push(f.i/i),e.push(n.i/i),e.push(y.i/i),Kl(n),n=y.next,x=y.next;else if((n=y)===x){h?1===h?$l(n=m_(Ha(n),e,i),e,i,s,o,d,2):2===h&&p_(n,e,i,s,o,d):$l(Ha(n),e,i,s,o,d,1);break}}}function h_(n){var e=n.prev,i=n,s=n.next;if(jn(e,i,s)>=0)return!1;for(var o=n.next.next;o!==n.prev;){if(wl(e.x,e.y,i.x,i.y,s.x,s.y,o.x,o.y)&&jn(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function __(n,e,i,s){var o=n.prev,d=n,h=n.next;if(jn(o,d,h)>=0)return!1;for(var f=o.x>d.x?o.x>h.x?o.x:h.x:d.x>h.x?d.x:h.x,y=o.y>d.y?o.y>h.y?o.y:h.y:d.y>h.y?d.y:h.y,x=su(o.x<d.x?o.x<h.x?o.x:h.x:d.x<h.x?d.x:h.x,o.y<d.y?o.y<h.y?o.y:h.y:d.y<h.y?d.y:h.y,e,i,s),L=su(f,y,e,i,s),E=n.prevZ,P=n.nextZ;E&&E.z>=x&&P&&P.z<=L;){if(E!==n.prev&&E!==n.next&&wl(o.x,o.y,d.x,d.y,h.x,h.y,E.x,E.y)&&jn(E.prev,E,E.next)>=0||(E=E.prevZ,P!==n.prev&&P!==n.next&&wl(o.x,o.y,d.x,d.y,h.x,h.y,P.x,P.y)&&jn(P.prev,P,P.next)>=0))return!1;P=P.nextZ}for(;E&&E.z>=x;){if(E!==n.prev&&E!==n.next&&wl(o.x,o.y,d.x,d.y,h.x,h.y,E.x,E.y)&&jn(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;P&&P.z<=L;){if(P!==n.prev&&P!==n.next&&wl(o.x,o.y,d.x,d.y,h.x,h.y,P.x,P.y)&&jn(P.prev,P,P.next)>=0)return!1;P=P.nextZ}return!0}function m_(n,e,i){var s=n;do{var o=s.prev,d=s.next.next;!Mc(o,d)&&gd(o,s,s.next,d)&&Jl(o,d)&&Jl(d,o)&&(e.push(o.i/i),e.push(s.i/i),e.push(d.i/i),Kl(s),Kl(s.next),s=n=d),s=s.next}while(s!==n);return Ha(s)}function p_(n,e,i,s,o,d){var h=n;do{for(var f=h.next.next;f!==h.prev;){if(h.i!==f.i&&x_(h,f)){var y=yd(h,f);return h=Ha(h,h.next),y=Ha(y,y.next),$l(h,e,i,s,o,d),void $l(y,e,i,s,o,d)}f=f.next}h=h.next}while(h!==n)}function f_(n,e){return n.x-e.x}function g_(n,e){var i=function(d,h){var f,y=h,x=d.x,L=d.y,E=-1/0;do{if(L<=y.y&&L>=y.next.y&&y.next.y!==y.y){var P=y.x+(L-y.y)*(y.next.x-y.x)/(y.next.y-y.y);if(P<=x&&P>E){if(E=P,P===x){if(L===y.y)return y;if(L===y.next.y)return y.next}f=y.x<y.next.x?y:y.next}}y=y.next}while(y!==h);if(!f)return null;if(x===E)return f;var B,Z=f,q=f.x,ne=f.y,ae=1/0;y=f;do{x>=y.x&&y.x>=q&&x!==y.x&&wl(L<ne?x:E,L,q,ne,L<ne?E:x,L,y.x,y.y)&&(B=Math.abs(L-y.y)/(x-y.x),Jl(y,d)&&(B<ae||B===ae&&(y.x>f.x||y.x===f.x&&y_(f,y)))&&(f=y,ae=B)),y=y.next}while(y!==Z);return f}(n,e);if(!i)return e;var s=yd(i,n),o=Ha(i,i.next);return Ha(s,s.next),e===i?o:e}function y_(n,e){return jn(n.prev,n,e.prev)<0&&jn(e.next,n,n.next)<0}function su(n,e,i,s,o){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-i)*o)|n<<8))|n<<4))|n<<2))|n<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-s)*o)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function v_(n){var e=n,i=n;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==n);return i}function wl(n,e,i,s,o,d,h,f){return(o-h)*(e-f)-(n-h)*(d-f)>=0&&(n-h)*(s-f)-(i-h)*(e-f)>=0&&(i-h)*(d-f)-(o-h)*(s-f)>=0}function x_(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!function(i,s){var o=i;do{if(o.i!==i.i&&o.next.i!==i.i&&o.i!==s.i&&o.next.i!==s.i&&gd(o,o.next,i,s))return!0;o=o.next}while(o!==i);return!1}(n,e)&&(Jl(n,e)&&Jl(e,n)&&function(i,s){var o=i,d=!1,h=(i.x+s.x)/2,f=(i.y+s.y)/2;do{o.y>f!=o.next.y>f&&o.next.y!==o.y&&h<(o.next.x-o.x)*(f-o.y)/(o.next.y-o.y)+o.x&&(d=!d),o=o.next}while(o!==i);return d}(n,e)&&(jn(n.prev,n,e.prev)||jn(n,e.prev,e))||Mc(n,e)&&jn(n.prev,n,n.next)>0&&jn(e.prev,e,e.next)>0)}function jn(n,e,i){return(e.y-n.y)*(i.x-e.x)-(e.x-n.x)*(i.y-e.y)}function Mc(n,e){return n.x===e.x&&n.y===e.y}function gd(n,e,i,s){var o=wc(jn(n,e,i)),d=wc(jn(n,e,s)),h=wc(jn(i,s,n)),f=wc(jn(i,s,e));return o!==d&&h!==f||!(0!==o||!bc(n,i,e))||!(0!==d||!bc(n,s,e))||!(0!==h||!bc(i,n,s))||!(0!==f||!bc(i,e,s))}function bc(n,e,i){return e.x<=Math.max(n.x,i.x)&&e.x>=Math.min(n.x,i.x)&&e.y<=Math.max(n.y,i.y)&&e.y>=Math.min(n.y,i.y)}function wc(n){return n>0?1:n<0?-1:0}function Jl(n,e){return jn(n.prev,n,n.next)<0?jn(n,e,n.next)>=0&&jn(n,n.prev,e)>=0:jn(n,e,n.prev)<0||jn(n,n.next,e)<0}function yd(n,e){var i=new au(n.i,n.x,n.y),s=new au(e.i,e.x,e.y),o=n.next,d=e.prev;return n.next=e,e.prev=n,i.next=o,o.prev=i,s.next=i,i.prev=s,d.next=s,s.prev=d,s}function vd(n,e,i,s){var o=new au(n,e,i);return s?(o.next=s.next,o.prev=s,s.next.prev=o,s.next=o):(o.prev=o,o.next=o),o}function Kl(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function au(n,e,i){this.i=n,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ou(n,e,i,s){for(var o=0,d=e,h=i-s;d<i;d+=s)o+=(n[h]-n[d])*(n[d+1]+n[h+1]),h=d;return o}function M_(n,e,i,s,o){xd(n,e,i||0,s||n.length-1,o||b_)}function xd(n,e,i,s,o){for(;s>i;){if(s-i>600){var d=s-i+1,h=e-i+1,f=Math.log(d),y=.5*Math.exp(2*f/3),x=.5*Math.sqrt(f*y*(d-y)/d)*(h-d/2<0?-1:1);xd(n,e,Math.max(i,Math.floor(e-h*y/d+x)),Math.min(s,Math.floor(e+(d-h)*y/d+x)),o)}var L=n[e],E=i,P=s;for(Xl(n,i,e),o(n[s],L)>0&&Xl(n,i,s);E<P;){for(Xl(n,E,P),E++,P--;o(n[E],L)<0;)E++;for(;o(n[P],L)>0;)P--}0===o(n[i],L)?Xl(n,i,P):Xl(n,++P,s),P<=e&&(i=P+1),e<=P&&(s=P-1)}}function Xl(n,e,i){var s=n[e];n[e]=n[i],n[i]=s}function b_(n,e){return n<e?-1:n>e?1:0}function lu(n,e){const i=n.length;if(i<=1)return[n];const s=[];let o,d;for(let h=0;h<i;h++){const f=Nn(n[h]);0!==f&&(n[h].area=Math.abs(f),void 0===d&&(d=f<0),d===f<0?(o&&s.push(o),o=[n[h]]):o.push(n[h]))}if(o&&s.push(o),e>1)for(let h=0;h<s.length;h++)s[h].length<=e||(M_(s[h],e,1,s[h].length-1,w_),s[h]=s[h].slice(0,e));return s}function w_(n,e){return e.area-n.area}function cu(n,e,i){const s=i.patternDependencies;let o=!1;for(const d of e){const h=d.paint.get(`${n}-pattern`);h.isConstant()||(o=!0);const f=h.constantOr(null);f&&(o=!0,s[f.to]=!0,s[f.from]=!0)}return o}function uu(n,e,i,s,o){const d=o.patternDependencies;for(const h of e){const f=h.paint.get(`${n}-pattern`).value;if("constant"!==f.kind){let y=f.evaluate({zoom:s-1},i,{},o.availableImages),x=f.evaluate({zoom:s},i,{},o.availableImages),L=f.evaluate({zoom:s+1},i,{},o.availableImages);y=y&&y.name?y.name:y,x=x&&x.name?x.name:x,L=L&&L.name?L.name:L,d[y]=!0,d[x]=!0,d[L]=!0,i.patterns[h.id]={min:y,mid:x,max:L}}}return i}xc.deviation=function(n,e,i,s){var o=e&&e.length,d=Math.abs(ou(n,0,o?e[0]*i:n.length,i));if(o)for(var h=0,f=e.length;h<f;h++)d-=Math.abs(ou(n,e[h]*i,h<f-1?e[h+1]*i:n.length,i));var y=0;for(h=0;h<s.length;h+=3){var x=s[h]*i,L=s[h+1]*i,E=s[h+2]*i;y+=Math.abs((n[x]-n[E])*(n[L+1]-n[x+1])-(n[x]-n[L])*(n[E+1]-n[x+1]))}return 0===d&&0===y?0:Math.abs((y-d)/d)},xc.flatten=function(n){for(var e=n[0][0].length,i={vertices:[],holes:[],dimensions:e},s=0,o=0;o<n.length;o++){for(var d=0;d<n[o].length;d++)for(var h=0;h<e;h++)i.vertices.push(n[o][d][h]);o>0&&i.holes.push(s+=n[o-1].length)}return i},vc.default=d_;class Tc{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(i=>i.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new gt,this.indexArray=new Rn,this.indexArray2=new vn,this.programConfigurations=new Io(e.layers,e.zoom),this.segments=new _i,this.segments2=new _i,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id)}populate(e,i,s,o){this.hasPattern=cu("fill",this.layers,i);const d=this.layers[0].layout.get("fill-sort-key"),h=[];for(const{feature:f,id:y,index:x,sourceLayerIndex:L}of e){const E=this.layers[0]._featureFilter.needGeometry,P=zo(f,E);if(!this.layers[0]._featureFilter.filter(new z(this.zoom),P,s))continue;const B=d?d.evaluate(P,{},s,i.availableImages):void 0,Z={id:y,properties:f.properties,type:f.type,sourceLayerIndex:L,index:x,geometry:E?P.geometry:ta(f,s,o),patterns:{},sortKey:B};h.push(Z)}d&&h.sort((f,y)=>f.sortKey-y.sortKey);for(const f of h){const{geometry:y,index:x,sourceLayerIndex:L}=f;if(this.hasPattern){const E=uu("fill",this.layers,f,this.zoom,i);this.patternFeatures.push(E)}else this.addFeature(f,y,x,s,{},i.availableImages);i.featureIndex.insert(e[x].feature,y,x,L,this.index)}}update(e,i,s,o){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,i,this.stateDependentLayers,s,o)}addFeatures(e,i,s,o){for(const d of this.patternFeatures)this.addFeature(d,d.geometry,d.index,i,s,o)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,u_),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,i,s,o,d,h=[]){for(const f of lu(i,500)){let y=0;for(const Z of f)y+=Z.length;const x=this.segments.prepareSegment(y,this.layoutVertexArray,this.indexArray),L=x.vertexLength,E=[],P=[];for(const Z of f){if(0===Z.length)continue;Z!==f[0]&&P.push(E.length/2);const q=this.segments2.prepareSegment(Z.length,this.layoutVertexArray,this.indexArray2),ne=q.vertexLength;this.layoutVertexArray.emplaceBack(Z[0].x,Z[0].y),this.indexArray2.emplaceBack(ne+Z.length-1,ne),E.push(Z[0].x),E.push(Z[0].y);for(let ae=1;ae<Z.length;ae++)this.layoutVertexArray.emplaceBack(Z[ae].x,Z[ae].y),this.indexArray2.emplaceBack(ne+ae-1,ne+ae),E.push(Z[ae].x),E.push(Z[ae].y);q.vertexLength+=Z.length,q.primitiveLength+=Z.length}const B=vc(E,P);for(let Z=0;Z<B.length;Z+=3)this.indexArray.emplaceBack(L+B[Z],L+B[Z+1],L+B[Z+2]);x.vertexLength+=y,x.primitiveLength+=B.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,s,d,h,o)}}ft("FillBucket",Tc,{omit:["layers","patternFeatures"]});const T_=new Re({"fill-sort-key":new ce(xe.layout_fill["fill-sort-key"])});var L_={paint:new Re({"fill-antialias":new X(xe.paint_fill["fill-antialias"]),"fill-opacity":new ce(xe.paint_fill["fill-opacity"]),"fill-color":new ce(xe.paint_fill["fill-color"]),"fill-outline-color":new ce(xe.paint_fill["fill-outline-color"]),"fill-translate":new X(xe.paint_fill["fill-translate"]),"fill-translate-anchor":new X(xe.paint_fill["fill-translate-anchor"]),"fill-pattern":new pe(xe.paint_fill["fill-pattern"])}),layout:T_};const k_=Se([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),D_=Se([{name:"a_centroid_pos",components:2,type:"Uint16"}]),{members:E_}=k_;var Md=Tl;function Tl(n,e,i,s,o){this.properties={},this.extent=i,this.type=0,this._pbf=n,this._geometry=-1,this._keys=s,this._values=o,n.readFields(S_,this,e)}function S_(n,e,i){1==n?e.id=i.readVarint():2==n?function(s,o){for(var d=s.readVarint()+s.pos;s.pos<d;){var h=o._keys[s.readVarint()],f=o._values[s.readVarint()];o.properties[h]=f}}(i,e):3==n?e.type=i.readVarint():4==n&&(e._geometry=i.pos)}function C_(n){for(var e,i,s=0,o=0,d=n.length,h=d-1;o<d;h=o++)s+=((i=n[h]).x-(e=n[o]).x)*(e.y+i.y);return s}Tl.types=["Unknown","Point","LineString","Polygon"],Tl.prototype.loadGeometry=function(){var n=this._pbf;n.pos=this._geometry;for(var e,i=n.readVarint()+n.pos,s=1,o=0,d=0,h=0,f=[];n.pos<i;){if(o<=0){var y=n.readVarint();s=7&y,o=y>>3}if(o--,1===s||2===s)d+=n.readSVarint(),h+=n.readSVarint(),1===s&&(e&&f.push(e),e=[]),e.push(new I(d,h));else{if(7!==s)throw new Error("unknown command "+s);e&&e.push(e[0].clone())}}return e&&f.push(e),f},Tl.prototype.bbox=function(){var n=this._pbf;n.pos=this._geometry;for(var e=n.readVarint()+n.pos,i=1,s=0,o=0,d=0,h=1/0,f=-1/0,y=1/0,x=-1/0;n.pos<e;){if(s<=0){var L=n.readVarint();i=7&L,s=L>>3}if(s--,1===i||2===i)(o+=n.readSVarint())<h&&(h=o),o>f&&(f=o),(d+=n.readSVarint())<y&&(y=d),d>x&&(x=d);else if(7!==i)throw new Error("unknown command "+i)}return[h,y,f,x]},Tl.prototype.toGeoJSON=function(n,e,i){var s,o,d=this.extent*Math.pow(2,i),h=this.extent*n,f=this.extent*e,y=this.loadGeometry(),x=Tl.types[this.type];function L(B){for(var Z=0;Z<B.length;Z++){var q=B[Z];B[Z]=[360*(q.x+h)/d-180,360/Math.PI*Math.atan(Math.exp((180-360*(q.y+f)/d)*Math.PI/180))-90]}}switch(this.type){case 1:var E=[];for(s=0;s<y.length;s++)E[s]=y[s][0];L(y=E);break;case 2:for(s=0;s<y.length;s++)L(y[s]);break;case 3:for(y=function(B){var Z=B.length;if(Z<=1)return[B];for(var q,ne,ae=[],de=0;de<Z;de++){var ye=C_(B[de]);0!==ye&&(void 0===ne&&(ne=ye<0),ne===ye<0?(q&&ae.push(q),q=[B[de]]):q.push(B[de]))}return q&&ae.push(q),ae}(y),s=0;s<y.length;s++)for(o=0;o<y[s].length;o++)L(y[s][o])}1===y.length?y=y[0]:x="Multi"+x;var P={type:"Feature",geometry:{type:x,coordinates:y},properties:this.properties};return"id"in this&&(P.id=this.id),P};var bd=wd;function wd(n,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=n,this._keys=[],this._values=[],this._features=[],n.readFields(P_,this,e),this.length=this._features.length}function P_(n,e,i){15===n?e.version=i.readVarint():1===n?e.name=i.readString():5===n?e.extent=i.readVarint():2===n?e._features.push(i.pos):3===n?e._keys.push(i.readString()):4===n&&e._values.push(function(s){for(var o=null,d=s.readVarint()+s.pos;s.pos<d;){var h=s.readVarint()>>3;o=1===h?s.readString():2===h?s.readFloat():3===h?s.readDouble():4===h?s.readVarint64():5===h?s.readVarint():6===h?s.readSVarint():7===h?s.readBoolean():null}return o}(i))}function A_(n,e,i){if(3===n){var s=new bd(i,i.readVarint()+i.pos);s.length&&(e[s.name]=s)}}wd.prototype.feature=function(n){if(n<0||n>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[n];var e=this._pbf.readVarint()+this._pbf.pos;return new Md(this._pbf,e,this.extent,this._keys,this._values)};var Fo={VectorTile:function(n,e){this.layers=n.readFields(A_,{},e)},VectorTileFeature:Md,VectorTileLayer:bd};const I_=Fo.VectorTileFeature.types,Y_=Math.pow(2,13);function Ql(n,e,i,s,o,d,h,f){n.emplaceBack((e<<1)+h,(i<<1)+d,(Math.floor(s*Y_)<<1)+o,Math.round(f))}class Td{constructor(){this.acc=new I(0,0),this.polyCount=[]}startRing(e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new I(e.x,e.y),this.max=new I(e.x,e.y))}append(e,i){this.currentPolyCount.edges++,this.acc._add(e);let s=!!this.borders;const o=this.min,d=this.max;e.x<o.x?(o.x=e.x,s=!0):e.x>d.x&&(d.x=e.x,s=!0),e.y<o.y?(o.y=e.y,s=!0):e.y>d.y&&(d.y=e.y,s=!0),((0===e.x||e.x===en)&&e.x===i.x)!=((0===e.y||e.y===en)&&e.y===i.y)&&this.processBorderOverlap(e,i),s&&this.checkBorderIntersection(e,i)}checkBorderIntersection(e,i){i.x<0!=e.x<0&&this.addBorderIntersection(0,Gt(i.y,e.y,(0-i.x)/(e.x-i.x))),i.x>en!=e.x>en&&this.addBorderIntersection(1,Gt(i.y,e.y,(en-i.x)/(e.x-i.x))),i.y<0!=e.y<0&&this.addBorderIntersection(2,Gt(i.x,e.x,(0-i.y)/(e.y-i.y))),i.y>en!=e.y>en&&this.addBorderIntersection(3,Gt(i.x,e.x,(en-i.y)/(e.y-i.y)))}addBorderIntersection(e,i){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const s=this.borders[e];i<s[0]&&(s[0]=i),i>s[1]&&(s[1]=i)}processBorderOverlap(e,i){if(e.x===i.x){if(e.y===i.y)return;const s=0===e.x?0:1;this.addBorderIntersection(s,i.y),this.addBorderIntersection(s,e.y)}else{const s=0===e.y?2:3;this.addBorderIntersection(s,i.x),this.addBorderIntersection(s,e.x)}}centroid(){const e=this.polyCount.reduce((i,s)=>i+s.edges,0);return 0!==e?this.acc.div(e)._round():new I(0,0)}span(){return new I(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((e,i)=>e+ +(i[0]!==Number.MAX_VALUE),0)}}class du{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(i=>i.id),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Dt,this.centroidVertexArray=new Ne,this.indexArray=new Rn,this.programConfigurations=new Io(e.layers,e.zoom),this.segments=new _i,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.enableTerrain=e.enableTerrain}populate(e,i,s,o){this.features=[],this.hasPattern=cu("fill-extrusion",this.layers,i),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDone=[!1,!1,!1,!1],this.tileToMeter=function(d){const h=Math.exp(Math.PI*(1-d.y/(1<<d.z)*2));return 80150034*h/(h*h+1)/en/(1<<d.z)}(s);for(const{feature:d,id:h,index:f,sourceLayerIndex:y}of e){const x=this.layers[0]._featureFilter.needGeometry,L=zo(d,x);if(!this.layers[0]._featureFilter.filter(new z(this.zoom),L,s))continue;const E={id:h,sourceLayerIndex:y,index:f,geometry:x?L.geometry:ta(d,s,o),properties:d.properties,type:d.type,patterns:{}},P=this.layoutVertexArray.length;this.hasPattern?this.features.push(uu("fill-extrusion",this.layers,E,this.zoom,i)):this.addFeature(E,E.geometry,f,s,{},i.availableImages),i.featureIndex.insert(d,E.geometry,f,y,this.index,P)}this.sortBorders()}addFeatures(e,i,s,o){for(const d of this.features){const{geometry:h}=d;this.addFeature(d,h,d.index,i,s,o)}this.sortBorders()}update(e,i,s,o){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,i,this.stateDependentLayers,s,o)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,E_),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}uploadCentroid(e){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,D_.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,i,s,o,d,h){const f=this.enableTerrain?new Td:null;for(const x of lu(i,500)){let L=0,E=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);if(0===x.length||(y=x[0]).every(ne=>ne.x<=0)||y.every(ne=>ne.x>=en)||y.every(ne=>ne.y<=0)||y.every(ne=>ne.y>=en))continue;for(let ne=0;ne<x.length;ne++){const ae=x[ne];if(0===ae.length)continue;L+=ae.length;let de=0;f&&f.startRing(ae[0]);for(let ye=0;ye<ae.length;ye++){const we=ae[ye];if(ye>=1){const Me=ae[ye-1];if(!O_(we,Me)){f&&f.append(we,Me),E.vertexLength+4>_i.MAX_VERTEX_ARRAY_LENGTH&&(E=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const De=we.sub(Me)._perp(),Ue=De.x/(Math.abs(De.x)+Math.abs(De.y)),ze=De.y>0?1:0,ht=Me.dist(we);de+ht>32768&&(de=0),Ql(this.layoutVertexArray,we.x,we.y,Ue,ze,0,0,de),Ql(this.layoutVertexArray,we.x,we.y,Ue,ze,0,1,de),de+=ht,Ql(this.layoutVertexArray,Me.x,Me.y,Ue,ze,0,0,de),Ql(this.layoutVertexArray,Me.x,Me.y,Ue,ze,0,1,de);const st=E.vertexLength;this.indexArray.emplaceBack(st,st+2,st+1),this.indexArray.emplaceBack(st+1,st+2,st+3),E.vertexLength+=4,E.primitiveLength+=2}}}}if(E.vertexLength+L>_i.MAX_VERTEX_ARRAY_LENGTH&&(E=this.segments.prepareSegment(L,this.layoutVertexArray,this.indexArray)),"Polygon"!==I_[e.type])continue;const P=[],B=[],Z=E.vertexLength;for(let ne=0;ne<x.length;ne++){const ae=x[ne];if(0!==ae.length){ae!==x[0]&&B.push(P.length/2);for(let de=0;de<ae.length;de++){const ye=ae[de];Ql(this.layoutVertexArray,ye.x,ye.y,0,0,1,1,0),P.push(ye.x),P.push(ye.y),f&&f.currentPolyCount.top++}}}const q=vc(P,B);for(let ne=0;ne<q.length;ne+=3)this.indexArray.emplaceBack(Z+q[ne],Z+q[ne+2],Z+q[ne+1]);E.primitiveLength+=q.length/3,E.vertexLength+=L}var y;if(f&&f.polyCount.length>0){if(f.borders){f.vertexArrayOffset=this.centroidVertexArray.length;const x=f.borders,L=this.featuresOnBorder.push(f)-1;for(let E=0;E<4;E++)x[E][0]!==Number.MAX_VALUE&&this.borders[E].push(L)}this.encodeCentroid(f.borders?void 0:f.centroid(),f)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,s,d,h,o)}sortBorders(){for(let e=0;e<4;e++)this.borders[e].sort((i,s)=>this.featuresOnBorder[i].borders[e][0]-this.featuresOnBorder[s].borders[e][0])}encodeCentroid(e,i,s=!0){let o,d;if(e)if(0!==e.y){const f=i.span()._mult(this.tileToMeter);o=(Math.max(e.x,1)<<3)+Math.min(7,Math.round(f.x/10)),d=(Math.max(e.y,1)<<3)+Math.min(7,Math.round(f.y/10))}else o=Math.ceil(7*(e.x+450)),d=0;else o=0,d=+s;let h=s?this.centroidVertexArray.length:i.vertexArrayOffset;for(const f of i.polyCount){s&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*f.edges+f.top);for(let y=0;y<2*f.edges;y++)this.centroidVertexArray.emplace(h++,0,d),this.centroidVertexArray.emplace(h++,o,d);for(let y=0;y<f.top;y++)this.centroidVertexArray.emplace(h++,o,d)}}}function O_(n,e){return n.x===e.x&&(n.x<0||n.x>en)||n.y===e.y&&(n.y<0||n.y>en)}ft("FillExtrusionBucket",du,{omit:["layers","features"]}),ft("PartMetadata",Td);var z_={paint:new Re({"fill-extrusion-opacity":new X(xe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ce(xe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new X(xe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new X(xe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new pe(xe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ce(xe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ce(xe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new X(xe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function ec(n,e){return n.x*e.x+n.y*e.y}function Ld(n,e){if(1===n.length){let i=0;const s=e[i++];let o;for(;!o||s.equals(o);)if(o=e[i++],!o)return 1/0;for(;i<e.length;i++){const d=e[i],h=n[0],f=o.sub(s),y=d.sub(s),x=h.sub(s),L=ec(f,f),E=ec(f,y),P=ec(y,y),B=ec(x,f),Z=ec(x,y),q=L*P-E*E,ne=(P*B-E*Z)/q,ae=(L*Z-E*B)/q,de=s.z*(1-ne-ae)+o.z*ne+d.z*ae;if(isFinite(de))return de}return 1/0}{let i=1/0;for(const s of e)i=Math.min(i,s.z);return i}}function kd(n){const e=new I(n[0],n[1]);return e.z=n[2],e}function F_(n,e,i,s,o,d,h,f){const y=h*o.getElevationAt(n,e,!0,!0),x=0!==d[0],L=x?0===d[1]?h*(d[0]/7-450):h*function(E,P,B){const Z=Math.floor(P[0]/8),q=Math.floor(P[1]/8),ne=10*(P[0]-8*Z),ae=10*(P[1]-8*q),de=E.getElevationAt(Z,q,!0,!0),ye=E.getMeterToDEM(B),we=Math.floor(.5*(ne*ye-1)),Me=Math.floor(.5*(ae*ye-1)),De=E.tileCoordToPixel(Z,q),Ue=2*we+1,ze=2*Me+1,ht=(xn=Ue,At=ze,[(_t=E).getElevationAtPixel(pt=De.x-we,Ot=De.y-Me,!0),_t.getElevationAtPixel(pt+At,Ot,!0),_t.getElevationAtPixel(pt,Ot+At,!0),_t.getElevationAtPixel(pt+xn,Ot+At,!0)]),st=Math.abs(ht[0]-ht[1]),je=Math.abs(ht[2]-ht[3]),at=Math.abs(ht[0]-ht[2])+Math.abs(ht[1]-ht[3]),ot=Math.min(.25,.5*ye*(st+je)/Ue),He=Math.min(.25,.5*ye*at/ze);var _t,pt,Ot,xn,At;return de+Math.max(ot*ne,He*ae)}(o,d,f):y;return{base:y+(0===i)?-1:i,top:x?Math.max(L+s,y+i+2):y+s}}const R_=Se([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:B_}=R_,U_=Se([{name:"a_packed",components:3,type:"Float32"}]),{members:j_}=U_,Z_=Fo.VectorTileFeature.types,N_=Math.cos(Math.PI/180*37.5);class Lc{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(i=>i.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(i=>{this.gradients[i.id]={}}),this.layoutVertexArray=new Et,this.layoutVertexArray2=new St,this.indexArray=new Rn,this.programConfigurations=new Io(e.layers,e.zoom),this.segments=new _i,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id)}populate(e,i,s,o){this.hasPattern=cu("line",this.layers,i);const d=this.layers[0].layout.get("line-sort-key"),h=[];for(const{feature:L,id:E,index:P,sourceLayerIndex:B}of e){const Z=this.layers[0]._featureFilter.needGeometry,q=zo(L,Z);if(!this.layers[0]._featureFilter.filter(new z(this.zoom),q,s))continue;const ne=d?d.evaluate(q,{},s):void 0,ae={id:E,properties:L.properties,type:L.type,sourceLayerIndex:B,index:P,geometry:Z?q.geometry:ta(L,s,o),patterns:{},sortKey:ne};h.push(ae)}d&&h.sort((L,E)=>L.sortKey-E.sortKey);const{lineAtlas:f,featureIndex:y}=i,x=this.addConstantDashes(f);for(const L of h){const{geometry:E,index:P,sourceLayerIndex:B}=L;if(x&&this.addFeatureDashes(L,f),this.hasPattern){const Z=uu("line",this.layers,L,this.zoom,i);this.patternFeatures.push(Z)}else this.addFeature(L,E,P,s,f.positions,i.availableImages);y.insert(e[P].feature,E,P,B,this.index)}}addConstantDashes(e){let i=!1;for(const s of this.layers){const o=s.paint.get("line-dasharray").value,d=s.layout.get("line-cap").value;if("constant"!==o.kind||"constant"!==d.kind)i=!0;else{const h=d.value,f=o.value;if(!f)continue;e.addDash(f.from,h),e.addDash(f.to,h),f.other&&e.addDash(f.other,h)}}return i}addFeatureDashes(e,i){const s=this.zoom;for(const o of this.layers){const d=o.paint.get("line-dasharray").value,h=o.layout.get("line-cap").value;if("constant"===d.kind&&"constant"===h.kind)continue;let f,y,x,L,E,P;if("constant"===d.kind){const ne=d.value;if(!ne)continue;f=ne.other||ne.to,y=ne.to,x=ne.from}else f=d.evaluate({zoom:s-1},e),y=d.evaluate({zoom:s},e),x=d.evaluate({zoom:s+1},e);"constant"===h.kind?L=E=P=h.value:(L=h.evaluate({zoom:s-1},e),E=h.evaluate({zoom:s},e),P=h.evaluate({zoom:s+1},e)),i.addDash(f,L),i.addDash(y,E),i.addDash(x,P);const B=i.getKey(f,L),Z=i.getKey(y,E),q=i.getKey(x,P);e.patterns[o.id]={min:B,mid:Z,max:q}}}update(e,i,s,o){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,i,this.stateDependentLayers,s,o)}addFeatures(e,i,s,o){for(const d of this.patternFeatures)this.addFeature(d,d.geometry,d.index,i,s,o)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,j_)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,B_),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,i,s,o,d,h){const f=this.layers[0].layout,y=f.get("line-join").evaluate(e,{}),x=f.get("line-cap").evaluate(e,{}),L=f.get("line-miter-limit"),E=f.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const P of i)this.addLine(P,e,y,x,L,E);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,s,d,h,o)}addLine(e,i,s,o,d,h){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ae=0;ae<e.length-1;ae++)this.totalDistance+=e[ae].dist(e[ae+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const f="Polygon"===Z_[i.type];let y=e.length;for(;y>=2&&e[y-1].equals(e[y-2]);)y--;let x=0;for(;x<y-1&&e[x].equals(e[x+1]);)x++;if(y<(f?3:2))return;"bevel"===s&&(d=1.05);const L=this.overscaling<=16?122880/(512*this.overscaling):0,E=this.segments.prepareSegment(10*y,this.layoutVertexArray,this.indexArray);let P,B,Z,q,ne;this.e1=this.e2=-1,f&&(P=e[y-2],ne=e[x].sub(P)._unit()._perp());for(let ae=x;ae<y;ae++){if(Z=ae===y-1?f?e[x+1]:void 0:e[ae+1],Z&&e[ae].equals(Z))continue;ne&&(q=ne),P&&(B=P),P=e[ae],ne=Z?Z.sub(P)._unit()._perp():q,q=q||ne;let de=q.add(ne);0===de.x&&0===de.y||de._unit();const ye=q.x*ne.x+q.y*ne.y,we=de.x*ne.x+de.y*ne.y,Me=0!==we?1/we:1/0,De=2*Math.sqrt(2-2*we),Ue=we<N_&&B&&Z,ze=q.x*ne.y-q.y*ne.x>0;if(Ue&&ae>x){const je=P.dist(B);if(je>2*L){const at=P.sub(P.sub(B)._mult(L/je)._round());this.updateDistance(B,at),this.addCurrentVertex(at,q,0,0,E),B=at}}const ht=B&&Z;let st=ht?s:f?"butt":o;if(ht&&"round"===st&&(Me<h?st="miter":Me<=2&&(st="fakeround")),"miter"===st&&Me>d&&(st="bevel"),"bevel"===st&&(Me>2&&(st="flipbevel"),Me<d&&(st="miter")),B&&this.updateDistance(B,P),"miter"===st)de._mult(Me),this.addCurrentVertex(P,de,0,0,E);else if("flipbevel"===st){if(Me>100)de=ne.mult(-1);else{const je=Me*q.add(ne).mag()/q.sub(ne).mag();de._perp()._mult(je*(ze?-1:1))}this.addCurrentVertex(P,de,0,0,E),this.addCurrentVertex(P,de.mult(-1),0,0,E)}else if("bevel"===st||"fakeround"===st){const je=-Math.sqrt(Me*Me-1),at=ze?je:0,ot=ze?0:je;if(B&&this.addCurrentVertex(P,q,at,ot,E),"fakeround"===st){const He=Math.round(180*De/Math.PI/20);for(let _t=1;_t<He;_t++){let pt=_t/He;if(.5!==pt){const xn=pt-.5;pt+=pt*xn*(pt-1)*((1.0904+ye*(ye*(3.55645-1.43519*ye)-3.2452))*xn*xn+(.848013+ye*(.215638*ye-1.06021)))}const Ot=ne.sub(q)._mult(pt)._add(q)._unit()._mult(ze?-1:1);this.addHalfVertex(P,Ot.x,Ot.y,!1,ze,0,E)}}Z&&this.addCurrentVertex(P,ne,-at,-ot,E)}else if("butt"===st)this.addCurrentVertex(P,de,0,0,E);else if("square"===st){const je=B?1:-1;B||this.addCurrentVertex(P,de,je,je,E),this.addCurrentVertex(P,de,0,0,E),B&&this.addCurrentVertex(P,de,je,je,E)}else"round"===st&&(B&&(this.addCurrentVertex(P,q,0,0,E),this.addCurrentVertex(P,q,1,1,E,!0)),Z&&(this.addCurrentVertex(P,ne,-1,-1,E,!0),this.addCurrentVertex(P,ne,0,0,E)));if(Ue&&ae<y-1){const je=P.dist(Z);if(je>2*L){const at=P.add(Z.sub(P)._mult(L/je)._round());this.updateDistance(P,at),this.addCurrentVertex(at,ne,0,0,E),P=at}}}}addCurrentVertex(e,i,s,o,d,h=!1){const f=i.y*o-i.x,y=-i.y-i.x*o;this.addHalfVertex(e,i.x+i.y*s,i.y-i.x*s,h,!1,s,d),this.addHalfVertex(e,f,y,h,!0,-o,d)}addHalfVertex({x:e,y:i},s,o,d,h,f,y){this.layoutVertexArray.emplaceBack((e<<1)+(d?1:0),(i<<1)+(h?1:0),Math.round(63*s)+128,Math.round(63*o)+128,1+(0===f?0:f<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineSoFar);const x=y.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,x),y.primitiveLength++),h?this.e2=x:this.e1=x}updateScaledDistance(){if(this.lineClips){const e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(e,i){this.distance+=e.dist(i),this.updateScaledDistance()}}ft("LineBucket",Lc,{omit:["layers","patternFeatures"]});const H_=new Re({"line-cap":new ce(xe.layout_line["line-cap"]),"line-join":new ce(xe.layout_line["line-join"]),"line-miter-limit":new X(xe.layout_line["line-miter-limit"]),"line-round-limit":new X(xe.layout_line["line-round-limit"]),"line-sort-key":new ce(xe.layout_line["line-sort-key"])});var Dd={paint:new Re({"line-opacity":new ce(xe.paint_line["line-opacity"]),"line-color":new ce(xe.paint_line["line-color"]),"line-translate":new X(xe.paint_line["line-translate"]),"line-translate-anchor":new X(xe.paint_line["line-translate-anchor"]),"line-width":new ce(xe.paint_line["line-width"]),"line-gap-width":new ce(xe.paint_line["line-gap-width"]),"line-offset":new ce(xe.paint_line["line-offset"]),"line-blur":new ce(xe.paint_line["line-blur"]),"line-dasharray":new pe(xe.paint_line["line-dasharray"]),"line-pattern":new pe(xe.paint_line["line-pattern"]),"line-gradient":new Ce(xe.paint_line["line-gradient"])}),layout:H_};const Ed=new class extends ce{possiblyEvaluate(n,e){return e=new z(Math.floor(e.zoom),{now:e.now,fadeDuration:e.fadeDuration,zoomHistory:e.zoomHistory,transition:e.transition}),super.possiblyEvaluate(n,e)}evaluate(n,e,i,s){return e=Ke({},e,{zoom:Math.floor(e.zoom)}),super.evaluate(n,e,i,s)}}(Dd.paint.properties["line-width"].specification);function Sd(n,e){return e>0?e+2*n:n}Ed.useIntegerZoom=!0;const W_=Se([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"},{name:"a_z_tile_anchor",components:4,type:"Int16"}],4),V_=Se([{name:"a_projected_pos",components:3,type:"Float32"}],4);Se([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const q_=Se([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),G_=Se([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Se([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Cd=Se([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),$_=Se([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Se([{name:"triangle",components:3,type:"Uint16"}]),Se([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Se([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Se([{type:"Float32",name:"offsetX"}]),Se([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const gs=128;function hu(n,e){const{expression:i}=e;if("constant"===i.kind)return{kind:"constant",layoutSize:i.evaluate(new z(n+1))};if("source"===i.kind)return{kind:"source"};{const{zoomStops:s,interpolationType:o}=i;let d=0;for(;d<s.length&&s[d]<=n;)d++;d=Math.max(0,d-1);let h=d;for(;h<s.length&&s[h]<n+1;)h++;h=Math.min(s.length-1,h);const f=s[d],y=s[h];return"composite"===i.kind?{kind:"composite",minZoom:f,maxZoom:y,interpolationType:o}:{kind:"camera",minZoom:f,maxZoom:y,minSize:i.evaluate(new z(f)),maxSize:i.evaluate(new z(y)),interpolationType:o}}}function kc(n,{uSize:e,uSizeT:i},{lowerSize:s,upperSize:o}){return"source"===n.kind?s/gs:"composite"===n.kind?Gt(s/gs,o/gs,i):e}function Ll(n,e){let i=0,s=0;if("constant"===n.kind)s=n.layoutSize;else if("source"!==n.kind){const{interpolationType:o,minZoom:d,maxZoom:h}=n,f=o?Ee(Ti.interpolationFactor(o,e,d,h),0,1):0;"camera"===n.kind?s=Gt(n.minSize,n.maxSize,f):i=f}return{uSizeT:i,uSize:s}}var J_=Object.freeze({__proto__:null,getSizeData:hu,evaluateSizeForFeature:kc,evaluateSizeForZoom:Ll,SIZE_PACK_FACTOR:gs});function K_(n,e,i){return n.sections.forEach(s=>{s.text=function(o,d,h){const f=d.layout.get("text-transform").evaluate(h,{});return"uppercase"===f?o=o.toLocaleUpperCase():"lowercase"===f&&(o=o.toLocaleLowerCase()),O.applyArabicShaping&&(o=O.applyArabicShaping(o)),o}(s.text,e,i)}),n}const tc={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};function X_(n){return"\ufe36"===n||"\ufe48"===n||"\ufe38"===n||"\ufe44"===n||"\ufe42"===n||"\ufe3e"===n||"\ufe3c"===n||"\ufe3a"===n||"\ufe18"===n||"\ufe40"===n||"\ufe10"===n||"\ufe13"===n||"\ufe14"===n||"\uff40"===n||"\uffe3"===n||"\ufe11"===n||"\ufe12"===n}function Q_(n){return"\ufe35"===n||"\ufe47"===n||"\ufe37"===n||"\ufe43"===n||"\ufe41"===n||"\ufe3d"===n||"\ufe3b"===n||"\ufe39"===n||"\ufe17"===n||"\ufe3f"===n}var Pd=function(n,e,i,s,o){var d,h,f=8*o-s-1,y=(1<<f)-1,x=y>>1,L=-7,E=i?o-1:0,P=i?-1:1,B=n[e+E];for(E+=P,d=B&(1<<-L)-1,B>>=-L,L+=f;L>0;d=256*d+n[e+E],E+=P,L-=8);for(h=d&(1<<-L)-1,d>>=-L,L+=s;L>0;h=256*h+n[e+E],E+=P,L-=8);if(0===d)d=1-x;else{if(d===y)return h?NaN:1/0*(B?-1:1);h+=Math.pow(2,s),d-=x}return(B?-1:1)*h*Math.pow(2,d-s)},Ad=function(n,e,i,s,o,d){var h,f,y,x=8*d-o-1,L=(1<<x)-1,E=L>>1,P=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,B=s?0:d-1,Z=s?1:-1,q=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,h=L):(h=Math.floor(Math.log(e)/Math.LN2),e*(y=Math.pow(2,-h))<1&&(h--,y*=2),(e+=h+E>=1?P/y:P*Math.pow(2,1-E))*y>=2&&(h++,y/=2),h+E>=L?(f=0,h=L):h+E>=1?(f=(e*y-1)*Math.pow(2,o),h+=E):(f=e*Math.pow(2,E-1)*Math.pow(2,o),h=0));o>=8;n[i+B]=255&f,B+=Z,f/=256,o-=8);for(h=h<<o|f,x+=o;x>0;n[i+B]=255&h,B+=Z,h/=256,x-=8);n[i+B-Z]|=128*q},nc=gn;function gn(n){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(n)?n:new Uint8Array(n||0),this.pos=0,this.type=0,this.length=this.buf.length}gn.Varint=0,gn.Fixed64=1,gn.Bytes=2,gn.Fixed32=5;var _u=4294967296,Id=1/_u,Yd="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function na(n){return n.type===gn.Bytes?n.readVarint()+n.pos:n.pos+1}function Od(n,e,i){var s=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));i.realloc(s);for(var o=i.pos-1;o>=n;o--)i.buf[o+s]=i.buf[o]}function em(n,e){for(var i=0;i<n.length;i++)e.writeVarint(n[i])}function tm(n,e){for(var i=0;i<n.length;i++)e.writeSVarint(n[i])}function nm(n,e){for(var i=0;i<n.length;i++)e.writeFloat(n[i])}function im(n,e){for(var i=0;i<n.length;i++)e.writeDouble(n[i])}function rm(n,e){for(var i=0;i<n.length;i++)e.writeBoolean(n[i])}function sm(n,e){for(var i=0;i<n.length;i++)e.writeFixed32(n[i])}function am(n,e){for(var i=0;i<n.length;i++)e.writeSFixed32(n[i])}function om(n,e){for(var i=0;i<n.length;i++)e.writeFixed64(n[i])}function lm(n,e){for(var i=0;i<n.length;i++)e.writeSFixed64(n[i])}function Dc(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16)+16777216*n[e+3]}function Dl(n,e,i){n[i]=e,n[i+1]=e>>>8,n[i+2]=e>>>16,n[i+3]=e>>>24}function zd(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16)+(n[e+3]<<24)}function cm(n,e,i){e.glyphs=[],1===n&&i.readMessage(um,e)}function um(n,e,i){if(3===n){const{id:s,bitmap:o,width:d,height:h,left:f,top:y,advance:x}=i.readMessage(dm,{});e.glyphs.push({id:s,bitmap:new Na({width:d+6,height:h+6},o),metrics:{width:d,height:h,left:f,top:y,advance:x}})}else 4===n?e.ascender=i.readSVarint():5===n&&(e.descender=i.readSVarint())}function dm(n,e,i){1===n?e.id=i.readVarint():2===n?e.bitmap=i.readBytes():3===n?e.width=i.readVarint():4===n?e.height=i.readVarint():5===n?e.left=i.readSVarint():6===n?e.top=i.readSVarint():7===n&&(e.advance=i.readVarint())}function mu(n){let e=0,i=0;for(const h of n)e+=h.w*h.h,i=Math.max(i,h.w);n.sort((h,f)=>f.h-h.h);const s=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),i),h:1/0}];let o=0,d=0;for(const h of n)for(let f=s.length-1;f>=0;f--){const y=s[f];if(!(h.w>y.w||h.h>y.h)){if(h.x=y.x,h.y=y.y,d=Math.max(d,h.y+h.h),o=Math.max(o,h.x+h.w),h.w===y.w&&h.h===y.h){const x=s.pop();f<s.length&&(s[f]=x)}else h.h===y.h?(y.x+=h.w,y.w-=h.w):h.w===y.w?(y.y+=h.h,y.h-=h.h):(s.push({x:y.x+h.w,y:y.y,w:y.w-h.w,h:h.h}),y.y+=h.h,y.h-=h.h);break}}return{w:o,h:d,fill:e/(o*d)||0}}gn.prototype={destroy:function(){this.buf=null},readFields:function(n,e,i){for(i=i||this.length;this.pos<i;){var s=this.readVarint(),o=s>>3,d=this.pos;this.type=7&s,n(o,e,this),this.pos===d&&this.skip(s)}return e},readMessage:function(n,e){return this.readFields(n,e,this.readVarint()+this.pos)},readFixed32:function(){var n=Dc(this.buf,this.pos);return this.pos+=4,n},readSFixed32:function(){var n=zd(this.buf,this.pos);return this.pos+=4,n},readFixed64:function(){var n=Dc(this.buf,this.pos)+Dc(this.buf,this.pos+4)*_u;return this.pos+=8,n},readSFixed64:function(){var n=Dc(this.buf,this.pos)+zd(this.buf,this.pos+4)*_u;return this.pos+=8,n},readFloat:function(){var n=Pd(this.buf,this.pos,!0,23,4);return this.pos+=4,n},readDouble:function(){var n=Pd(this.buf,this.pos,!0,52,8);return this.pos+=8,n},readVarint:function(n){var e,i,s=this.buf;return e=127&(i=s[this.pos++]),i<128?e:(e|=(127&(i=s[this.pos++]))<<7,i<128?e:(e|=(127&(i=s[this.pos++]))<<14,i<128?e:(e|=(127&(i=s[this.pos++]))<<21,i<128?e:function(o,d,h){var f,y,x=h.buf;if(f=(112&(y=x[h.pos++]))>>4,y<128||(f|=(127&(y=x[h.pos++]))<<3,y<128)||(f|=(127&(y=x[h.pos++]))<<10,y<128)||(f|=(127&(y=x[h.pos++]))<<17,y<128)||(f|=(127&(y=x[h.pos++]))<<24,y<128)||(f|=(1&(y=x[h.pos++]))<<31,y<128))return function(n,e,i){return i?4294967296*e+(n>>>0):4294967296*(e>>>0)+(n>>>0)}(o,f,d);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(i=s[this.pos]))<<28,n,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var n=this.readVarint();return n%2==1?(n+1)/-2:n/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var n=this.readVarint()+this.pos,e=this.pos;return this.pos=n,n-e>=12&&Yd?Yd.decode(this.buf.subarray(e,n)):function(i,s,o){for(var d="",h=s;h<o;){var f,y,x,L=i[h],E=null,P=L>239?4:L>223?3:L>191?2:1;if(h+P>o)break;1===P?L<128&&(E=L):2===P?128==(192&(f=i[h+1]))&&(E=(31&L)<<6|63&f)<=127&&(E=null):3===P?(y=i[h+2],128==(192&(f=i[h+1]))&&128==(192&y)&&((E=(15&L)<<12|(63&f)<<6|63&y)<=2047||E>=55296&&E<=57343)&&(E=null)):4===P&&(y=i[h+2],x=i[h+3],128==(192&(f=i[h+1]))&&128==(192&y)&&128==(192&x)&&((E=(15&L)<<18|(63&f)<<12|(63&y)<<6|63&x)<=65535||E>=1114112)&&(E=null)),null===E?(E=65533,P=1):E>65535&&(E-=65536,d+=String.fromCharCode(E>>>10&1023|55296),E=56320|1023&E),d+=String.fromCharCode(E),h+=P}return d}(this.buf,e,n)},readBytes:function(){var n=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,n);return this.pos=n,e},readPackedVarint:function(n,e){if(this.type!==gn.Bytes)return n.push(this.readVarint(e));var i=na(this);for(n=n||[];this.pos<i;)n.push(this.readVarint(e));return n},readPackedSVarint:function(n){if(this.type!==gn.Bytes)return n.push(this.readSVarint());var e=na(this);for(n=n||[];this.pos<e;)n.push(this.readSVarint());return n},readPackedBoolean:function(n){if(this.type!==gn.Bytes)return n.push(this.readBoolean());var e=na(this);for(n=n||[];this.pos<e;)n.push(this.readBoolean());return n},readPackedFloat:function(n){if(this.type!==gn.Bytes)return n.push(this.readFloat());var e=na(this);for(n=n||[];this.pos<e;)n.push(this.readFloat());return n},readPackedDouble:function(n){if(this.type!==gn.Bytes)return n.push(this.readDouble());var e=na(this);for(n=n||[];this.pos<e;)n.push(this.readDouble());return n},readPackedFixed32:function(n){if(this.type!==gn.Bytes)return n.push(this.readFixed32());var e=na(this);for(n=n||[];this.pos<e;)n.push(this.readFixed32());return n},readPackedSFixed32:function(n){if(this.type!==gn.Bytes)return n.push(this.readSFixed32());var e=na(this);for(n=n||[];this.pos<e;)n.push(this.readSFixed32());return n},readPackedFixed64:function(n){if(this.type!==gn.Bytes)return n.push(this.readFixed64());var e=na(this);for(n=n||[];this.pos<e;)n.push(this.readFixed64());return n},readPackedSFixed64:function(n){if(this.type!==gn.Bytes)return n.push(this.readSFixed64());var e=na(this);for(n=n||[];this.pos<e;)n.push(this.readSFixed64());return n},skip:function(n){var e=7&n;if(e===gn.Varint)for(;this.buf[this.pos++]>127;);else if(e===gn.Bytes)this.pos=this.readVarint()+this.pos;else if(e===gn.Fixed32)this.pos+=4;else{if(e!==gn.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(n,e){this.writeVarint(n<<3|e)},realloc:function(n){for(var e=this.length||16;e<this.pos+n;)e*=2;if(e!==this.length){var i=new Uint8Array(e);i.set(this.buf),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(n){this.realloc(4),Dl(this.buf,n,this.pos),this.pos+=4},writeSFixed32:function(n){this.realloc(4),Dl(this.buf,n,this.pos),this.pos+=4},writeFixed64:function(n){this.realloc(8),Dl(this.buf,-1&n,this.pos),Dl(this.buf,Math.floor(n*Id),this.pos+4),this.pos+=8},writeSFixed64:function(n){this.realloc(8),Dl(this.buf,-1&n,this.pos),Dl(this.buf,Math.floor(n*Id),this.pos+4),this.pos+=8},writeVarint:function(n){(n=+n||0)>268435455||n<0?function(e,i){var s,o,d,f;if(e>=0?(s=e%4294967296|0,o=e/4294967296|0):(o=~(-e/4294967296),4294967295^(s=~(-e%4294967296))?s=s+1|0:(s=0,o=o+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");i.realloc(10),d=s,(f=i).buf[f.pos++]=127&d|128,d>>>=7,f.buf[f.pos++]=127&d|128,d>>>=7,f.buf[f.pos++]=127&d|128,d>>>=7,f.buf[f.pos++]=127&d|128,f.buf[f.pos]=127&(d>>>=7),function(d,h){var f=(7&d)<<4;h.buf[h.pos++]|=f|((d>>>=3)?128:0),d&&(h.buf[h.pos++]=127&d|((d>>>=7)?128:0),d&&(h.buf[h.pos++]=127&d|((d>>>=7)?128:0),d&&(h.buf[h.pos++]=127&d|((d>>>=7)?128:0),d&&(h.buf[h.pos++]=127&d|((d>>>=7)?128:0),d&&(h.buf[h.pos++]=127&d)))))}(o,i)}(n,this):(this.realloc(4),this.buf[this.pos++]=127&n|(n>127?128:0),n<=127||(this.buf[this.pos++]=127&(n>>>=7)|(n>127?128:0),n<=127||(this.buf[this.pos++]=127&(n>>>=7)|(n>127?128:0),n<=127||(this.buf[this.pos++]=n>>>7&127))))},writeSVarint:function(n){this.writeVarint(n<0?2*-n-1:2*n)},writeBoolean:function(n){this.writeVarint(Boolean(n))},writeString:function(n){n=String(n),this.realloc(4*n.length),this.pos++;var e=this.pos;this.pos=function(s,o,d){for(var h,f,y=0;y<o.length;y++){if((h=o.charCodeAt(y))>55295&&h<57344){if(!f){h>56319||y+1===o.length?(s[d++]=239,s[d++]=191,s[d++]=189):f=h;continue}if(h<56320){s[d++]=239,s[d++]=191,s[d++]=189,f=h;continue}h=f-55296<<10|h-56320|65536,f=null}else f&&(s[d++]=239,s[d++]=191,s[d++]=189,f=null);h<128?s[d++]=h:(h<2048?s[d++]=h>>6|192:(h<65536?s[d++]=h>>12|224:(s[d++]=h>>18|240,s[d++]=h>>12&63|128),s[d++]=h>>6&63|128),s[d++]=63&h|128)}return d}(this.buf,n,this.pos);var i=this.pos-e;i>=128&&Od(e,i,this),this.pos=e-1,this.writeVarint(i),this.pos+=i},writeFloat:function(n){this.realloc(4),Ad(this.buf,n,this.pos,!0,23,4),this.pos+=4},writeDouble:function(n){this.realloc(8),Ad(this.buf,n,this.pos,!0,52,8),this.pos+=8},writeBytes:function(n){var e=n.length;this.writeVarint(e),this.realloc(e);for(var i=0;i<e;i++)this.buf[this.pos++]=n[i]},writeRawMessage:function(n,e){this.pos++;var i=this.pos;n(e,this);var s=this.pos-i;s>=128&&Od(i,s,this),this.pos=i-1,this.writeVarint(s),this.pos+=s},writeMessage:function(n,e,i){this.writeTag(n,gn.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(n,e){e.length&&this.writeMessage(n,em,e)},writePackedSVarint:function(n,e){e.length&&this.writeMessage(n,tm,e)},writePackedBoolean:function(n,e){e.length&&this.writeMessage(n,rm,e)},writePackedFloat:function(n,e){e.length&&this.writeMessage(n,nm,e)},writePackedDouble:function(n,e){e.length&&this.writeMessage(n,im,e)},writePackedFixed32:function(n,e){e.length&&this.writeMessage(n,sm,e)},writePackedSFixed32:function(n,e){e.length&&this.writeMessage(n,am,e)},writePackedFixed64:function(n,e){e.length&&this.writeMessage(n,om,e)},writePackedSFixed64:function(n,e){e.length&&this.writeMessage(n,lm,e)},writeBytesField:function(n,e){this.writeTag(n,gn.Bytes),this.writeBytes(e)},writeFixed32Field:function(n,e){this.writeTag(n,gn.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(n,e){this.writeTag(n,gn.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(n,e){this.writeTag(n,gn.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(n,e){this.writeTag(n,gn.Fixed64),this.writeSFixed64(e)},writeVarintField:function(n,e){this.writeTag(n,gn.Varint),this.writeVarint(e)},writeSVarintField:function(n,e){this.writeTag(n,gn.Varint),this.writeSVarint(e)},writeStringField:function(n,e){this.writeTag(n,gn.Bytes),this.writeString(e)},writeFloatField:function(n,e){this.writeTag(n,gn.Fixed32),this.writeFloat(e)},writeDoubleField:function(n,e){this.writeTag(n,gn.Fixed64),this.writeDouble(e)},writeBooleanField:function(n,e){this.writeVarintField(n,Boolean(e))}};class pu{constructor(e,{pixelRatio:i,version:s,stretchX:o,stretchY:d,content:h}){this.paddedRect=e,this.pixelRatio=i,this.stretchX=o,this.stretchY=d,this.content=h,this.version=s}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Fd{constructor(e,i){const s={},o={};this.haveRenderCallbacks=[];const d=[];this.addImages(e,s,d),this.addImages(i,o,d);const{w:h,h:f}=mu(d),y=new cr({width:h||1,height:f||1});for(const x in e){const L=e[x],E=s[x].paddedRect;cr.copy(L.data,y,{x:0,y:0},{x:E.x+1,y:E.y+1},L.data)}for(const x in i){const L=i[x],E=o[x].paddedRect,P=E.x+1,B=E.y+1,Z=L.data.width,q=L.data.height;cr.copy(L.data,y,{x:0,y:0},{x:P,y:B},L.data),cr.copy(L.data,y,{x:0,y:q-1},{x:P,y:B-1},{width:Z,height:1}),cr.copy(L.data,y,{x:0,y:0},{x:P,y:B+q},{width:Z,height:1}),cr.copy(L.data,y,{x:Z-1,y:0},{x:P-1,y:B},{width:1,height:q}),cr.copy(L.data,y,{x:0,y:0},{x:P+Z,y:B},{width:1,height:q})}this.image=y,this.iconPositions=s,this.patternPositions=o}addImages(e,i,s){for(const o in e){const d=e[o],h={x:0,y:0,w:d.data.width+2,h:d.data.height+2};s.push(h),i[o]=new pu(h,d),d.hasRenderCallback&&this.haveRenderCallbacks.push(o)}}patchUpdatedImages(e,i){e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const s in e.updatedImages)this.patchUpdatedImage(this.iconPositions[s],e.getImage(s),i),this.patchUpdatedImage(this.patternPositions[s],e.getImage(s),i)}patchUpdatedImage(e,i,s){if(!e||!i||e.version===i.version)return;e.version=i.version;const[o,d]=e.tl;s.update(i.data,void 0,{x:o,y:d})}}ft("ImagePosition",pu),ft("ImageAtlas",Fd);const ur={horizontal:1,vertical:2,horizontalOnly:3};class ic{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,i){const s=new ic;return s.scale=e||1,s.fontStack=i,s}static forImage(e){const i=new ic;return i.imageName=e,i}}class El{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,i){const s=new El;for(let o=0;o<e.sections.length;o++){const d=e.sections[o];d.image?s.addImageSection(d):s.addTextSection(d,i)}return s}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSections(){return this.sections}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(e){this.text=function(i,s){let o="";for(let d=0;d<i.length;d++){const h=i.charCodeAt(d+1)||null,f=i.charCodeAt(d-1)||null;o+=!s&&(h&&Ao(h)&&!tc[i[d+1]]||f&&Ao(f)&&!tc[i[d-1]])||!tc[i[d]]?i[d]:tc[i[d]]}return o}(this.text,e)}trim(){let e=0;for(let s=0;s<this.text.length&&Ec[this.text.charCodeAt(s)];s++)e++;let i=this.text.length;for(let s=this.text.length-1;s>=0&&s>=e&&Ec[this.text.charCodeAt(s)];s--)i--;this.text=this.text.substring(e,i),this.sectionIndex=this.sectionIndex.slice(e,i)}substring(e,i){const s=new El;return s.text=this.text.substring(e,i),s.sectionIndex=this.sectionIndex.slice(e,i),s.sections=this.sections,s}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((e,i)=>Math.max(e,this.sections[i].scale),0)}addTextSection(e,i){this.text+=e.text,this.sections.push(ic.forText(e.scale,e.fontStack||i));const s=this.sections.length-1;for(let o=0;o<e.text.length;++o)this.sectionIndex.push(s)}addImageSection(e){const i=e.image?e.image.name:"";if(0===i.length)return void It("Can't add FormattedSection with an empty image.");const s=this.getNextImageSectionCharCode();s?(this.text+=String.fromCharCode(s),this.sections.push(ic.forImage(i)),this.sectionIndex.push(this.sections.length-1)):It("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function fu(n,e,i,s,o,d,h,f,y,x,L,E,P,B,Z,q){const ne=El.fromFeature(n,o);let ae;E===ur.vertical&&ne.verticalizePunctuation(P);const{processBidirectionalText:de,processStyledBidirectionalText:ye}=O;if(de&&1===ne.sections.length){ae=[];const De=de(ne.toString(),gu(ne,x,d,e,s,B,Z));for(const Ue of De){const ze=new El;ze.text=Ue,ze.sections=ne.sections;for(let ht=0;ht<Ue.length;ht++)ze.sectionIndex.push(0);ae.push(ze)}}else if(ye){ae=[];const De=ye(ne.text,ne.sectionIndex,gu(ne,x,d,e,s,B,Z));for(const Ue of De){const ze=new El;ze.text=Ue[0],ze.sectionIndex=Ue[1],ze.sections=ne.sections,ae.push(ze)}}else ae=function(De,Ue){const ze=[],ht=De.text;let st=0;for(const je of Ue)ze.push(De.substring(st,je)),st=je;return st<ht.length&&ze.push(De.substring(st,ht.length)),ze}(ne,gu(ne,x,d,e,s,B,Z));const we=[],Me={positionedLines:we,text:ne.toString(),top:L[1],bottom:L[1],left:L[0],right:L[0],writingMode:E,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(De,Ue,ze,ht,st,je,at,ot,He,_t,pt,Ot){let xn=0,At=0,an=0;const mt="right"===ot?1:"left"===ot?0:.5;let Mn=!1;for(const _n of st){const on=_n.getSections();for(const Pn of on){if(Pn.imageName)continue;const xi=Ue[Pn.fontStack];if(xi&&(Mn=void 0!==xi.ascender&&void 0!==xi.descender,!Mn))break}if(!Mn)break}let rn=0;for(const _n of st){_n.trim();const on=_n.getMaxScale(),Pn=24*(on-1),xi={positionedGlyphs:[],lineOffset:0};De.positionedLines[rn]=xi;const qn=xi.positionedGlyphs;let li=0;if(!_n.length()){At+=je,++rn;continue}let Mi=0,Yn=0;for(let bn=0;bn<_n.length();bn++){const Gn=_n.getSection(bn),$n=_n.getSectionIndex(bn),Zn=_n.getCharCode(bn);let Bn=Gn.scale,ti=null,wn=null,Di=null,Xr=24,dr=0;const Yr=!(He===ur.horizontal||!pt&&!Ua(Zn)||pt&&(Ec[Zn]||(Wn=Zn,cl(Wn)||ul(Wn)||dl(Wn)||Cr(Wn)||Co(Wn))));if(Gn.imageName){const hr=ht[Gn.imageName];if(!hr)continue;Di=Gn.imageName,De.iconsInText=De.iconsInText||!0,wn=hr.paddedRect;const Ei=hr.displaySize;Bn=24*Bn/Ot,ti={width:Ei[0],height:Ei[1],left:1,top:-3,advance:Yr?Ei[1]:Ei[0],localGlyph:!1},dr=Mn?-ti.height*Bn:24*on-17-Ei[1]*Bn,Xr=ti.advance;const ia=(Yr?Ei[0]:Ei[1])*Bn-24*on;ia>0&&ia>li&&(li=ia)}else{const hr=ze[Gn.fontStack];if(!hr)continue;hr[Zn]&&(wn=hr[Zn]);const Ei=Ue[Gn.fontStack];if(!Ei)continue;const ia=Ei.glyphs[Zn];if(!ia)continue;if(ti=ia.metrics,Xr=8203!==Zn?24:0,Mn){const Il=void 0!==Ei.ascender?Math.abs(Ei.ascender):0,Yl=void 0!==Ei.descender?Math.abs(Ei.descender):0,Ol=(Il+Yl)*Bn;Mi<Ol&&(Mi=Ol,Yn=(Il-Yl)/2*Bn),dr=-Il*Bn}else dr=24*(on-Bn)-17}Yr?(De.verticalizable=!0,qn.push({glyph:Zn,imageName:Di,x:xn,y:At+dr,vertical:Yr,scale:Bn,localGlyph:ti.localGlyph,fontStack:Gn.fontStack,sectionIndex:$n,metrics:ti,rect:wn}),xn+=Xr*Bn+_t):(qn.push({glyph:Zn,imageName:Di,x:xn,y:At+dr,vertical:Yr,scale:Bn,localGlyph:ti.localGlyph,fontStack:Gn.fontStack,sectionIndex:$n,metrics:ti,rect:wn}),xn+=ti.advance*Bn+_t)}0!==qn.length&&(an=Math.max(xn-_t,an),Mn?Zd(qn,mt,li,Yn,je*on/2):Zd(qn,mt,li,0,je/2)),xn=0;const Ni=je*on+li;xi.lineOffset=Math.max(li,Pn),At+=Ni,++rn}var Wn;const Vn=At,{horizontalAlign:ei,verticalAlign:mi}=yu(at);(function(_n,on,Pn,xi,qn,li){const Mi=(on-Pn)*qn,Yn=-li*xi;for(const Ni of _n)for(const bn of Ni.positionedGlyphs)bn.x+=Mi,bn.y+=Yn})(De.positionedLines,mt,ei,mi,an,Vn),De.top+=-mi*Vn,De.bottom=De.top+Vn,De.left+=-ei*an,De.right=De.left+an,De.hasBaseline=Mn}(Me,e,i,s,ae,h,f,y,E,x,P,q),!function(De){for(const Ue of De)if(0!==Ue.positionedGlyphs.length)return!1;return!0}(we)&&Me}const Ec={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},hm={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Rd(n,e,i,s,o,d){if(e.imageName){const h=s[e.imageName];return h?h.displaySize[0]*e.scale*24/d+o:0}{const h=i[e.fontStack],f=h&&h.glyphs[n];return f?f.metrics.advance*e.scale+o:0}}function Bd(n,e,i,s){const o=Math.pow(n-e,2);return s?n<e?o/2:2*o:o+Math.abs(i)*i}function _m(n,e,i){let s=0;return 10===n&&(s-=1e4),i&&(s+=150),40!==n&&65288!==n||(s+=50),41!==e&&65289!==e||(s+=50),s}function Ud(n,e,i,s,o,d){let h=null,f=Bd(e,i,o,d);for(const y of s){const x=Bd(e-y.x,i,o,d)+y.badness;x<=f&&(h=y,f=x)}return{index:n,x:e,priorBreak:h,badness:f}}function jd(n){return n?jd(n.priorBreak).concat(n.index):[]}function gu(n,e,i,s,o,d,h){if("point"!==d)return[];if(!n)return[];const f=[],y=function(P,B,Z,q,ne,ae){let de=0;for(let ye=0;ye<P.length();ye++){const we=P.getSection(ye);de+=Rd(P.getCharCode(ye),we,q,ne,B,ae)}return de/Math.max(1,Math.ceil(de/Z))}(n,e,i,s,o,h),x=n.text.indexOf("\u200b")>=0;let L=0;for(let P=0;P<n.length();P++){const B=n.getSection(P),Z=n.getCharCode(P);if(Ec[Z]||(L+=Rd(Z,B,s,o,e,h)),P<n.length()-1){const q=!((E=Z)<11904||!(ml(E)||Lo(E)||Gs(E)||qs(E)||So(E)||hl(E)||ko(E)||Fa(E)||_s(E)||Vs(E)||Eo(E)||Po(E)||hs(E)||_l(E)||Ws(E)||Do(E)||Ra(E)||gl(E)||fl(E)||pl(E)));(hm[Z]||q||B.imageName)&&f.push(Ud(P+1,L,y,f,_m(Z,n.getCharCode(P+1),q&&x),!1))}}var E;return jd(Ud(n.length(),L,y,f,0,!0))}function yu(n){let e=.5,i=.5;switch(n){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(n){case"bottom":case"bottom-right":case"bottom-left":i=1;break;case"top":case"top-right":case"top-left":i=0}return{horizontalAlign:e,verticalAlign:i}}function Zd(n,e,i,s,o){if(!(e||i||s||o))return;const d=n.length-1,h=n[d],f=(h.x+h.metrics.advance*h.scale)*e;for(let y=0;y<=d;y++)n[y].x-=f,n[y].y+=i+s+o}function mm(n,e,i){const{horizontalAlign:s,verticalAlign:o}=yu(i),d=e[0]-n.displaySize[0]*s,h=e[1]-n.displaySize[1]*o;return{image:n,top:h,bottom:h+n.displaySize[1],left:d,right:d+n.displaySize[0]}}function Nd(n,e,i,s,o,d){const h=n.image;let f;if(h.content){const ne=h.content,ae=h.pixelRatio||1;f=[ne[0]/ae,ne[1]/ae,h.displaySize[0]-ne[2]/ae,h.displaySize[1]-ne[3]/ae]}const y=e.left*d,x=e.right*d;let L,E,P,B;"width"===i||"both"===i?(B=o[0]+y-s[3],E=o[0]+x+s[1]):(B=o[0]+(y+x-h.displaySize[0])/2,E=B+h.displaySize[0]);const Z=e.top*d,q=e.bottom*d;return"height"===i||"both"===i?(L=o[1]+Z-s[0],P=o[1]+q+s[2]):(L=o[1]+(Z+q-h.displaySize[1])/2,P=L+h.displaySize[1]),{image:h,top:L,right:E,bottom:P,left:B,collisionPadding:f}}class Wa extends I{constructor(e,i,s,o,d){super(e,i),this.angle=o,this.z=s,void 0!==d&&(this.segment=d)}clone(){return new Wa(this.x,this.y,this.z,this.angle,this.segment)}}function Hd(n,e,i,s,o){if(void 0===e.segment)return!0;let d=e,h=e.segment+1,f=0;for(;f>-i/2;){if(h--,h<0)return!1;f-=n[h].dist(d),d=n[h]}f+=n[h].dist(n[h+1]),h++;const y=[];let x=0;for(;f<i/2;){const L=n[h],E=n[h+1];if(!E)return!1;let P=n[h-1].angleTo(L)-L.angleTo(E);for(P=Math.abs((P+3*Math.PI)%(2*Math.PI)-Math.PI),y.push({distance:f,angleDelta:P}),x+=P;f-y[0].distance>s;)x-=y.shift().angleDelta;if(x>o)return!1;h++,f+=L.dist(E)}return!0}function Wd(n){let e=0;for(let i=0;i<n.length-1;i++)e+=n[i].dist(n[i+1]);return e}function Vd(n,e,i){return n?.6*e*i:0}function qd(n,e){return Math.max(n?n.right-n.left:0,e?e.right-e.left:0)}function pm(n,e,i,s,o,d){const h=Vd(i,o,d),f=qd(i,s)*d;let y=0;const x=Wd(n)/2;for(let L=0;L<n.length-1;L++){const E=n[L],P=n[L+1],B=E.dist(P);if(y+B>x){const Z=(x-y)/B,q=Gt(E.x,P.x,Z),ne=Gt(E.y,P.y,Z),ae=new Wa(q,ne,0,P.angleTo(E),L);return!h||Hd(n,ae,f,h,e)?ae:void 0}y+=B}}function fm(n,e,i,s,o,d,h,f,y){const x=Vd(s,d,h),L=qd(s,o),E=L*h,P=0===n[0].x||n[0].x===y||0===n[0].y||n[0].y===y;return e-E<e/4&&(e=E+e/4),Gd(n,P?e/2*f%e:(L/2+2*d)*h*f%e,e,x,i,E,P,!1,y)}function Gd(n,e,i,s,o,d,h,f,y){const x=d/2,L=Wd(n);let E=0,P=e-i,B=[];for(let Z=0;Z<n.length-1;Z++){const q=n[Z],ne=n[Z+1],ae=q.dist(ne),de=ne.angleTo(q);for(;P+i<E+ae;){P+=i;const ye=(P-E)/ae,we=Gt(q.x,ne.x,ye),Me=Gt(q.y,ne.y,ye);if(we>=0&&we<y&&Me>=0&&Me<y&&P-x>=0&&P+x<=L){const De=new Wa(we,Me,0,de,Z);De._round(),s&&!Hd(n,De,d,s,o)||B.push(De)}}E+=ae}return f||B.length||h||(B=Gd(n,E/2,i,s,o,d,h,!0,y)),B}function $d(n,e,i,s,o){const d=[];for(let h=0;h<n.length;h++){const f=n[h];let y;for(let x=0;x<f.length-1;x++){let L=f[x],E=f[x+1];L.x<e&&E.x<e||(L.x<e?L=new I(e,L.y+(e-L.x)/(E.x-L.x)*(E.y-L.y))._round():E.x<e&&(E=new I(e,L.y+(e-L.x)/(E.x-L.x)*(E.y-L.y))._round()),L.y<i&&E.y<i||(L.y<i?L=new I(L.x+(i-L.y)/(E.y-L.y)*(E.x-L.x),i)._round():E.y<i&&(E=new I(L.x+(i-L.y)/(E.y-L.y)*(E.x-L.x),i)._round()),L.x>=s&&E.x>=s||(L.x>=s?L=new I(s,L.y+(s-L.x)/(E.x-L.x)*(E.y-L.y))._round():E.x>=s&&(E=new I(s,L.y+(s-L.x)/(E.x-L.x)*(E.y-L.y))._round()),L.y>=o&&E.y>=o||(L.y>=o?L=new I(L.x+(o-L.y)/(E.y-L.y)*(E.x-L.x),o)._round():E.y>=o&&(E=new I(L.x+(o-L.y)/(E.y-L.y)*(E.x-L.x),o)._round()),y&&L.equals(y[y.length-1])||(y=[L],d.push(y)),y.push(E)))))}}return d}ft("Anchor",Wa);const rc=1e20;function Jd(n,e,i,s,o,d,h,f,y){for(let x=e;x<e+s;x++)Kd(n,i*d+x,d,o,h,f,y);for(let x=i;x<i+o;x++)Kd(n,x*d+e,1,s,h,f,y)}function Kd(n,e,i,s,o,d,h){d[0]=0,h[0]=-rc,h[1]=rc,o[0]=n[e];for(let f=1,y=0,x=0;f<s;f++){o[f]=n[e+f*i];const L=f*f;do{const E=d[y];x=(o[f]-o[E]+L-E*E)/(f-E)/2}while(x<=h[y]&&--y>-1);y++,d[y]=f,h[y]=x,h[y+1]=rc}for(let f=0,y=0;f<s;f++){for(;h[y+1]<f;)y++;const x=d[y],L=f-x;n[e+f*i]=o[x]+L*L}}const vu={none:0,ideographs:1,all:2};class Sl{constructor(e,i,s){this.requestManager=e,this.localGlyphMode=i,this.localFontFamily=s,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(e){this.url=e}getGlyphs(e,i){const s=[];for(const o in e)for(const d of e[o])s.push({stack:o,id:d});lt(s,({stack:o,id:d},h)=>{let f=this.entries[o];f||(f=this.entries[o]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let y=f.glyphs[d];if(void 0!==y)return void h(null,{stack:o,id:d,glyph:y});if(y=this._tinySDF(f,o,d),y)return f.glyphs[d]=y,void h(null,{stack:o,id:d,glyph:y});const x=Math.floor(d/256);if(256*x>65535)return void h(new Error("glyphs > 65535 not supported"));if(f.ranges[x])return void h(null,{stack:o,id:d,glyph:y});let L=f.requests[x];L||(L=f.requests[x]=[],Sl.loadGlyphRange(o,x,this.url,this.requestManager,(E,P)=>{if(P){f.ascender=P.ascender,f.descender=P.descender;for(const B in P.glyphs)this._doesCharSupportLocalGlyph(+B)||(f.glyphs[+B]=P.glyphs[+B]);f.ranges[x]=!0}for(const B of L)B(E,P);delete f.requests[x]})),L.push((E,P)=>{E?h(E):P&&h(null,{stack:o,id:d,glyph:P.glyphs[d]||null})})},(o,d)=>{if(o)i(o);else if(d){const h={};for(const{stack:f,id:y,glyph:x}of d)void 0===h[f]&&(h[f]={}),void 0===h[f].glyphs&&(h[f].glyphs={}),h[f].glyphs[y]=x&&{id:x.id,bitmap:x.bitmap.clone(),metrics:x.metrics},h[f].ascender=this.entries[f].ascender,h[f].descender=this.entries[f].descender;i(null,h)}})}_doesCharSupportLocalGlyph(e){return this.localGlyphMode!==vu.none&&(this.localGlyphMode===vu.all?!!this.localFontFamily:!!this.localFontFamily&&(Vs(e)||qr(e)||hs(e)||Ra(e))||Fa(e))}_tinySDF(e,i,s){const o=this.localFontFamily;if(!o||!this._doesCharSupportLocalGlyph(s))return;let d=e.tinySDF;if(!d){let q="400";/bold/i.test(i)?q="900":/medium/i.test(i)?q="500":/light/i.test(i)&&(q="200"),d=e.tinySDF=new Sl.TinySDF({fontFamily:o,fontWeight:q,fontSize:48,buffer:6,radius:16}),d.fontWeight=q}if(this.localGlyphs[d.fontWeight][s])return this.localGlyphs[d.fontWeight][s];const h=String.fromCharCode(s),{data:f,width:y,height:x,glyphWidth:L,glyphHeight:E,glyphLeft:P,glyphTop:B,glyphAdvance:Z}=d.draw(h);return this.localGlyphs[d.fontWeight][s]={id:s,bitmap:new Na({width:y,height:x},f),metrics:{width:L/2,height:E/2,left:P/2,top:B/2-27,advance:Z/2,localGlyph:!0}}}}function Xd(n,e,i,s){const o=[],d=n.image,h=d.pixelRatio,f=d.paddedRect.w-2,y=d.paddedRect.h-2,x=n.right-n.left,L=n.bottom-n.top,E=d.stretchX||[[0,f]],P=d.stretchY||[[0,y]],B=(je,at)=>je+at[1]-at[0],Z=E.reduce(B,0),q=P.reduce(B,0),ne=f-Z,ae=y-q;let de=0,ye=Z,we=0,Me=q,De=0,Ue=ne,ze=0,ht=ae;if(d.content&&s){const je=d.content;de=Sc(E,0,je[0]),we=Sc(P,0,je[1]),ye=Sc(E,je[0],je[2]),Me=Sc(P,je[1],je[3]),De=je[0]-de,ze=je[1]-we,Ue=je[2]-je[0]-ye,ht=je[3]-je[1]-Me}const st=(je,at,ot,He)=>{const _t=Cc(je.stretch-de,ye,x,n.left),pt=Pc(je.fixed-De,Ue,je.stretch,Z),Ot=Cc(at.stretch-we,Me,L,n.top),xn=Pc(at.fixed-ze,ht,at.stretch,q),At=Cc(ot.stretch-de,ye,x,n.left),an=Pc(ot.fixed-De,Ue,ot.stretch,Z),mt=Cc(He.stretch-we,Me,L,n.top),Mn=Pc(He.fixed-ze,ht,He.stretch,q),rn=new I(_t,Ot),Wn=new I(At,Ot),Vn=new I(At,mt),ei=new I(_t,mt),mi=new I(pt/h,xn/h),_n=new I(an/h,Mn/h),on=e*Math.PI/180;if(on){const qn=Math.sin(on),li=Math.cos(on),Mi=[li,-qn,qn,li];rn._matMult(Mi),Wn._matMult(Mi),ei._matMult(Mi),Vn._matMult(Mi)}const Pn=je.stretch+je.fixed,xi=at.stretch+at.fixed;return{tl:rn,tr:Wn,bl:ei,br:Vn,tex:{x:d.paddedRect.x+1+Pn,y:d.paddedRect.y+1+xi,w:ot.stretch+ot.fixed-Pn,h:He.stretch+He.fixed-xi},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:mi,pixelOffsetBR:_n,minFontScaleX:Ue/h/x,minFontScaleY:ht/h/L,isSDF:i}};if(s&&(d.stretchX||d.stretchY)){const je=Qd(E,ne,Z),at=Qd(P,ae,q);for(let ot=0;ot<je.length-1;ot++){const He=je[ot],_t=je[ot+1];for(let pt=0;pt<at.length-1;pt++)o.push(st(He,at[pt],_t,at[pt+1]))}}else o.push(st({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:f+1},{fixed:0,stretch:y+1}));return o}function Sc(n,e,i){let s=0;for(const o of n)s+=Math.max(e,Math.min(i,o[1]))-Math.max(e,Math.min(i,o[0]));return s}function Qd(n,e,i){const s=[{fixed:-1,stretch:0}];for(const[o,d]of n){const h=s[s.length-1];s.push({fixed:o-h.stretch,stretch:h.stretch}),s.push({fixed:o-h.stretch,stretch:h.stretch+(d-o)})}return s.push({fixed:e+1,stretch:i}),s}function Cc(n,e,i,s){return n/e*i+s}function Pc(n,e,i,s){return n-e*i/s}function gm(n,e,i,s){const o=e+n.positionedLines[s].lineOffset;return 0===s?i+o/2:i+(o+(e+n.positionedLines[s-1].lineOffset))/2}Sl.loadGlyphRange=function(n,e,i,s,o){const d=256*e,h=d+255,f=s.transformRequest(s.normalizeGlyphsURL(i).replace("{fontstack}",n).replace("{range}",`${d}-${h}`),Gi.Glyphs);N(f,(y,x)=>{if(y)o(y);else if(x){const L={},E=new nc(x).readFields(cm,{});for(const P of E.glyphs)L[P.id]=P;o(null,{glyphs:L,ascender:E.ascender,descender:E.descender})}})},Sl.TinySDF=class{constructor({fontSize:n=24,buffer:e=3,radius:i=8,cutoff:s=.25,fontFamily:o="sans-serif",fontWeight:d="normal",fontStyle:h="normal"}){this.buffer=e,this.cutoff=s,this.radius=i;const f=this.size=n+4*e,y=this._createCanvas(f),x=this.ctx=y.getContext("2d",{willReadFrequently:!0});x.font=`${h} ${d} ${n}px ${o}`,x.textBaseline="alphabetic",x.textAlign="left",x.fillStyle="black",this.gridOuter=new Float64Array(f*f),this.gridInner=new Float64Array(f*f),this.f=new Float64Array(f),this.z=new Float64Array(f+1),this.v=new Uint16Array(f)}_createCanvas(n){const e=document.createElement("canvas");return e.width=e.height=n,e}draw(n){const{width:e,actualBoundingBoxAscent:i,actualBoundingBoxDescent:s,actualBoundingBoxLeft:o,actualBoundingBoxRight:d}=this.ctx.measureText(n),h=Math.floor(i),f=Math.min(this.size-this.buffer,Math.ceil(d-o)),y=Math.min(this.size-this.buffer,Math.ceil(i)+Math.ceil(s)),x=f+2*this.buffer,L=y+2*this.buffer,E=x*L,P=new Uint8ClampedArray(E),B={data:P,width:x,height:L,glyphWidth:f,glyphHeight:y,glyphTop:h,glyphLeft:0,glyphAdvance:e};if(0===f||0===y)return B;const{ctx:Z,buffer:q,gridInner:ne,gridOuter:ae}=this;Z.clearRect(q,q,f,y),Z.fillText(n,q,q+h+1);const de=Z.getImageData(q,q,f,y);ae.fill(rc,0,E),ne.fill(0,0,E);for(let ye=0;ye<y;ye++)for(let we=0;we<f;we++){const Me=de.data[4*(ye*f+we)+3]/255;if(0===Me)continue;const De=(ye+q)*x+we+q;if(1===Me)ae[De]=0,ne[De]=rc;else{const Ue=.5-Me;ae[De]=Ue>0?Ue*Ue:0,ne[De]=Ue<0?Ue*Ue:0}}Jd(ae,0,0,x,L,x,this.f,this.v,this.z),Jd(ne,q,q,f,y,x,this.f,this.v,this.z);for(let ye=0;ye<E;ye++){const we=Math.sqrt(ae[ye])-Math.sqrt(ne[ye]);P[ye]=Math.round(255-255*(we/this.radius+this.cutoff))}return B}};class ym{constructor(e=[],i=vm){if(this.data=e,this.length=this.data.length,this.compare=i,this.length>0)for(let s=(this.length>>1)-1;s>=0;s--)this._down(s)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],i=this.data.pop();return this.length--,this.length>0&&(this.data[0]=i,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:i,compare:s}=this,o=i[e];for(;e>0;){const d=e-1>>1,h=i[d];if(s(o,h)>=0)break;i[e]=h,e=d}i[e]=o}_down(e){const{data:i,compare:s}=this,o=this.length>>1,d=i[e];for(;e<o;){let h=1+(e<<1),f=i[h];const y=h+1;if(y<this.length&&s(i[y],f)<0&&(h=y,f=i[y]),s(f,d)>=0)break;i[e]=f,e=h}i[e]=d}}function vm(n,e){return n<e?-1:n>e?1:0}function xm(n,e=1,i=!1){let s=1/0,o=1/0,d=-1/0,h=-1/0;const f=n[0];for(let B=0;B<f.length;B++){const Z=f[B];(!B||Z.x<s)&&(s=Z.x),(!B||Z.y<o)&&(o=Z.y),(!B||Z.x>d)&&(d=Z.x),(!B||Z.y>h)&&(h=Z.y)}const y=Math.min(d-s,h-o);let x=y/2;const L=new ym([],Mm);if(0===y)return new I(s,o);for(let B=s;B<d;B+=y)for(let Z=o;Z<h;Z+=y)L.push(new Cl(B+x,Z+x,x,n));let E=function(B){let Z=0,q=0,ne=0;const ae=B[0];for(let de=0,ye=ae.length,we=ye-1;de<ye;we=de++){const Me=ae[de],De=ae[we],Ue=Me.x*De.y-De.x*Me.y;q+=(Me.x+De.x)*Ue,ne+=(Me.y+De.y)*Ue,Z+=3*Ue}return new Cl(q/Z,ne/Z,0,B)}(n),P=L.length;for(;L.length;){const B=L.pop();(B.d>E.d||!E.d)&&(E=B,i&&console.log("found best %d after %d probes",Math.round(1e4*B.d)/1e4,P)),B.max-E.d<=e||(x=B.h/2,L.push(new Cl(B.p.x-x,B.p.y-x,x,n)),L.push(new Cl(B.p.x+x,B.p.y-x,x,n)),L.push(new Cl(B.p.x-x,B.p.y+x,x,n)),L.push(new Cl(B.p.x+x,B.p.y+x,x,n)),P+=4)}return i&&(console.log(`num probes: ${P}`),console.log(`best distance: ${E.d}`)),E.p}function Mm(n,e){return e.max-n.max}function Cl(n,e,i,s){this.p=new I(n,e),this.h=i,this.d=function(o,d){let h=!1,f=1/0;for(let y=0;y<d.length;y++){const x=d[y];for(let L=0,E=x.length,P=E-1;L<E;P=L++){const B=x[L],Z=x[P];B.y>o.y!=Z.y>o.y&&o.x<(Z.x-B.x)*(o.y-B.y)/(Z.y-B.y)+B.x&&(h=!h),f=Math.min(f,Ju(o,B,Z))}}return(h?1:-1)*Math.sqrt(f)}(this.p,s),this.max=this.d+this.h*Math.SQRT2}const xu=Number.POSITIVE_INFINITY,bm=Math.sqrt(2);function eh(n,e){return e[1]!==xu?function(i,s,o){let d=0,h=0;switch(s=Math.abs(s),o=Math.abs(o),i){case"top-right":case"top-left":case"top":h=o-7;break;case"bottom-right":case"bottom-left":case"bottom":h=7-o}switch(i){case"top-right":case"bottom-right":case"right":d=-s;break;case"top-left":case"bottom-left":case"left":d=s}return[d,h]}(n,e[0],e[1]):function(i,s){let o=0,d=0;s<0&&(s=0);const h=s/bm;switch(i){case"top-right":case"top-left":d=h-7;break;case"bottom-right":case"bottom-left":d=7-h;break;case"bottom":d=7-s;break;case"top":d=s-7}switch(i){case"top-right":case"bottom-right":o=-h;break;case"top-left":case"bottom-left":o=h;break;case"left":o=s;break;case"right":o=-s}return[o,d]}(n,e[0])}function wm(n,e,i,s,o,d,h,f,y){n.createArrays(),n.tilePixelRatio=en/(512*n.overscaling),n.compareText={},n.iconsNeedLinear=!1;const x=n.layers[0].layout,L=n.layers[0]._unevaluatedLayout._values,E={};if("composite"===n.textSizeData.kind){const{minZoom:Z,maxZoom:q}=n.textSizeData;E.compositeTextSizes=[L["text-size"].possiblyEvaluate(new z(Z),f),L["text-size"].possiblyEvaluate(new z(q),f)]}if("composite"===n.iconSizeData.kind){const{minZoom:Z,maxZoom:q}=n.iconSizeData;E.compositeIconSizes=[L["icon-size"].possiblyEvaluate(new z(Z),f),L["icon-size"].possiblyEvaluate(new z(q),f)]}E.layoutTextSize=L["text-size"].possiblyEvaluate(new z(y+1),f),E.layoutIconSize=L["icon-size"].possiblyEvaluate(new z(y+1),f),E.textMaxSize=L["text-size"].possiblyEvaluate(new z(18),f);const P="map"===x.get("text-rotation-alignment")&&"point"!==x.get("symbol-placement"),B=x.get("text-size");for(const Z of n.features){const q=x.get("text-font").evaluate(Z,{},f).join(","),ne=B.evaluate(Z,{},f),ae=E.layoutTextSize.evaluate(Z,{},f),de=(E.layoutIconSize.evaluate(Z,{},f),{horizontal:{},vertical:void 0}),ye=Z.text;let we,Me=[0,0];if(ye){const ze=ye.toString(),ht=24*x.get("text-letter-spacing").evaluate(Z,{},f),st=24*x.get("text-line-height").evaluate(Z,{},f),je=Ba(ze)?ht:0,at=x.get("text-anchor").evaluate(Z,{},f),ot=x.get("text-variable-anchor");if(!ot){const At=x.get("text-radial-offset").evaluate(Z,{},f);Me=At?eh(at,[24*At,xu]):x.get("text-offset").evaluate(Z,{},f).map(an=>24*an)}let He=P?"center":x.get("text-justify").evaluate(Z,{},f);const _t=x.get("symbol-placement"),pt="point"===_t,Ot="point"===_t?24*x.get("text-max-width").evaluate(Z,{},f):0,xn=At=>{n.allowVerticalPlacement&&or(ze)&&(de.vertical=fu(ye,e,i,o,q,Ot,st,at,At,je,Me,ur.vertical,!0,_t,ae,ne))};if(!P&&ot){const At="auto"===He?ot.map(mt=>Mu(mt)):[He];let an=!1;for(let mt=0;mt<At.length;mt++){const Mn=At[mt];if(!de.horizontal[Mn])if(an)de.horizontal[Mn]=de.horizontal[0];else{const rn=fu(ye,e,i,o,q,Ot,st,"center",Mn,je,Me,ur.horizontal,!1,_t,ae,ne);rn&&(de.horizontal[Mn]=rn,an=1===rn.positionedLines.length)}}xn("left")}else{if("auto"===He&&(He=Mu(at)),pt||x.get("text-writing-mode").indexOf("horizontal")>=0||!or(ze)){const At=fu(ye,e,i,o,q,Ot,st,at,He,je,Me,ur.horizontal,!1,_t,ae,ne);At&&(de.horizontal[He]=At)}xn("point"===_t?"left":He)}}let De=!1;if(Z.icon&&Z.icon.name){const ze=s[Z.icon.name];ze&&(we=mm(o[Z.icon.name],x.get("icon-offset").evaluate(Z,{},f),x.get("icon-anchor").evaluate(Z,{},f)),De=ze.sdf,void 0===n.sdfIcons?n.sdfIcons=ze.sdf:n.sdfIcons!==ze.sdf&&It("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ze.pixelRatio!==n.pixelRatio||0!==x.get("icon-rotate").constantOr(1))&&(n.iconsNeedLinear=!0))}const Ue=nh(de.horizontal)||de.vertical;n.iconsInText||(n.iconsInText=!!Ue&&Ue.iconsInText),(Ue||we)&&Tm(n,Z,de,we,s,E,ae,0,Me,De,h,f)}d&&n.generateCollisionDebugBuffers(y,n.collisionBoxArray)}function Mu(n){switch(n){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Tm(n,e,i,s,o,d,h,f,y,x,L,E){let P=d.textMaxSize.evaluate(e,{},E);void 0===P&&(P=h);const B=n.layers[0].layout,Z=B.get("icon-offset").evaluate(e,{},E),q=nh(i.horizontal)||i.vertical,ne=h/24,ae=n.tilePixelRatio*P/24,de=n.tilePixelRatio*B.get("symbol-spacing"),ye=B.get("text-padding")*n.tilePixelRatio,we=B.get("icon-padding")*n.tilePixelRatio,Me=he(B.get("text-max-angle")),De="map"===B.get("text-rotation-alignment")&&"point"!==B.get("symbol-placement"),Ue="map"===B.get("icon-rotation-alignment")&&"point"!==B.get("symbol-placement"),ze=B.get("symbol-placement"),ht=de/2,st=B.get("icon-text-fit");let je;s&&"none"!==st&&(n.allowVerticalPlacement&&i.vertical&&(je=Nd(s,i.vertical,st,B.get("icon-text-fit-padding"),Z,ne)),q&&(s=Nd(s,q,st,B.get("icon-text-fit-padding"),Z,ne)));const at=(ot,He)=>{He.x<0||He.x>=en||He.y<0||He.y>=en||function(_t,pt,Ot,xn,At,an,mt,Mn,rn,Wn,Vn,ei,mi,_n,on,Pn,xi,qn,li,Mi,Yn,Ni,bn,Gn,$n){const Zn=_t.addToLineVertexArray(pt,xn);let Bn,ti,wn,Di,Xr,dr,Yr,hr=0,Ei=0,ia=0,Il=0,Yl=-1,Ol=-1;const Ms={};let Yh=ji(""),zu=0,Fu=0;if(void 0===rn._unevaluatedLayout.getValue("text-radial-offset")?[zu,Fu]=rn.layout.get("text-offset").evaluate(Yn,{},$n).map(Qi=>24*Qi):(zu=24*rn.layout.get("text-radial-offset").evaluate(Yn,{},$n),Fu=xu),_t.allowVerticalPlacement&&At.vertical){const Qi=At.vertical;if(on)dr=bu(Qi),Mn&&(Yr=bu(Mn));else{const er=rn.layout.get("text-rotate").evaluate(Yn,{},$n)+90;wn=Ac(Wn,Ot,pt,Vn,ei,mi,Qi,_n,er,Pn),Mn&&(Di=Ac(Wn,Ot,pt,Vn,ei,mi,Mn,qn,er))}}if(an){const Qi=rn.layout.get("icon-rotate").evaluate(Yn,{},$n),er="none"!==rn.layout.get("icon-text-fit"),uc=Xd(an,Qi,bn,er),Bu=Mn?Xd(Mn,Qi,bn,er):void 0;ti=Ac(Wn,Ot,pt,Vn,ei,mi,an,qn,Qi),hr=4*uc.length;const Oh=_t.iconSizeData;let Bo=null;"source"===Oh.kind?(Bo=[gs*rn.layout.get("icon-size").evaluate(Yn,{},$n)],Bo[0]>Va&&It(`${_t.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):"composite"===Oh.kind&&(Bo=[gs*Ni.compositeIconSizes[0].evaluate(Yn,{},$n),gs*Ni.compositeIconSizes[1].evaluate(Yn,{},$n)],(Bo[0]>Va||Bo[1]>Va)&&It(`${_t.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),_t.addSymbols(_t.icon,uc,Bo,Mi,li,Yn,!1,Ot,pt,Zn.lineStartIndex,Zn.lineLength,-1,Gn,$n),Yl=_t.icon.placedSymbolArray.length-1,Bu&&(Ei=4*Bu.length,_t.addSymbols(_t.icon,Bu,Bo,Mi,li,Yn,ur.vertical,Ot,pt,Zn.lineStartIndex,Zn.lineLength,-1,Gn,$n),Ol=_t.icon.placedSymbolArray.length-1)}for(const Qi in At.horizontal){const er=At.horizontal[Qi];Bn||(Yh=ji(er.text),on?Xr=bu(er):Bn=Ac(Wn,Ot,pt,Vn,ei,mi,er,_n,rn.layout.get("text-rotate").evaluate(Yn,{},$n),Pn));const uc=1===er.positionedLines.length;if(ia+=th(_t,Ot,pt,er,mt,rn,on,Yn,Pn,Zn,At.vertical?ur.horizontal:ur.horizontalOnly,uc?Object.keys(At.horizontal):[Qi],Ms,Yl,Ni,Gn,$n),uc)break}At.vertical&&(Il+=th(_t,Ot,pt,At.vertical,mt,rn,on,Yn,Pn,Zn,ur.vertical,["vertical"],Ms,Ol,Ni,Gn,$n));let Ka=-1;const Ru=(Qi,er)=>Qi?Math.max(Qi,er):er;Ka=Ru(Xr,Ka),Ka=Ru(dr,Ka),Ka=Ru(Yr,Ka);const $m=Ka>-1?1:0;_t.glyphOffsetArray.length>=qa.MAX_GLYPHS&&It("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==Yn.sortKey&&_t.addToSortKeyRanges(_t.symbolInstances.length,Yn.sortKey),_t.symbolInstances.emplaceBack(Ot.x,Ot.y,Ot.z,pt.x,pt.y,Ms.right>=0?Ms.right:-1,Ms.center>=0?Ms.center:-1,Ms.left>=0?Ms.left:-1,Ms.vertical>=0?Ms.vertical:-1,Yl,Ol,Yh,void 0!==Bn?Bn:_t.collisionBoxArray.length,void 0!==Bn?Bn+1:_t.collisionBoxArray.length,void 0!==wn?wn:_t.collisionBoxArray.length,void 0!==wn?wn+1:_t.collisionBoxArray.length,void 0!==ti?ti:_t.collisionBoxArray.length,void 0!==ti?ti+1:_t.collisionBoxArray.length,Di||_t.collisionBoxArray.length,Di?Di+1:_t.collisionBoxArray.length,Vn,ia,Il,hr,Ei,$m,0,zu,Fu,Ka)}(n,He,He,ot,i,s,o,je,n.layers[0],n.collisionBoxArray,e.index,e.sourceLayerIndex,n.index,ye,De,y,0,we,Ue,Z,e,d,x,L,E)};if("line"===ze)for(const ot of $d(e.geometry,0,0,en,en)){const He=fm(ot,de,Me,i.vertical||q,s,24,ae,n.overscaling,en);for(const _t of He){const pt=q;pt&&Lm(n,pt.text,ht,_t)||at(ot,_t)}}else if("line-center"===ze){for(const ot of e.geometry)if(ot.length>1){const He=pm(ot,Me,i.vertical||q,s,24,ae);He&&at(ot,He)}}else if("Polygon"===e.type)for(const ot of lu(e.geometry,0)){const He=xm(ot,16);at(ot[0],new Wa(He.x,He.y,0,0,void 0))}else if("LineString"===e.type)for(const ot of e.geometry)at(ot,new Wa(ot[0].x,ot[0].y,0,0,void 0));else if("Point"===e.type)for(const ot of e.geometry)for(const He of ot)at([He],new Wa(He.x,He.y,0,0,void 0))}const Va=32640;function th(n,e,i,s,o,d,h,f,y,x,L,E,P,B,Z,q,ne){const ae=function(we,Me,De,Ue,ze,ht,st,je){const at=[];if(0===Me.positionedLines.length)return at;const ot=Ue.layout.get("text-rotate").evaluate(ht,{})*Math.PI/180,He=function(At){const an=At[0],mt=At[1],Mn=an*mt;return Mn>0?[an,-mt]:Mn<0?[-an,mt]:0===an?[mt,an]:[mt,-an]}(De);let _t=Math.abs(Me.top-Me.bottom);for(const At of Me.positionedLines)_t-=At.lineOffset;const pt=Me.positionedLines.length,Ot=_t/pt;let xn=Me.top-De[1];for(let At=0;At<pt;++At){const an=Me.positionedLines[At];xn=gm(Me,Ot,xn,At);for(const mt of an.positionedGlyphs){if(!mt.rect)continue;const Mn=mt.rect||{};let rn=4,Wn=!0,Vn=1,ei=0;if(mt.imageName){const wn=st[mt.imageName];if(!wn)continue;if(wn.sdf){It("SDF images are not supported in formatted text and will be ignored.");continue}Wn=!1,Vn=wn.pixelRatio,rn=1/Vn}const mi=(ze||je)&&mt.vertical,_n=mt.metrics.advance*mt.scale/2,on=mt.metrics,Pn=mt.rect;if(null===Pn)continue;je&&Me.verticalizable&&(ei=mt.imageName?_n-mt.metrics.width*mt.scale/2:0);const xi=ze?[mt.x+_n,mt.y]:[0,0];let qn=[0,0],li=[0,0],Mi=!1;ze||(mi?(li=[mt.x+_n+He[0],mt.y+He[1]-ei],Mi=!0):qn=[mt.x+_n+De[0],mt.y+De[1]-ei]);const Yn=Pn.w*mt.scale/(Vn*(mt.localGlyph?2:1)),Ni=Pn.h*mt.scale/(Vn*(mt.localGlyph?2:1));let bn,Gn,$n,Zn;if(mi){const wn=mt.y-xn,Di=new I(-_n,_n-wn),Xr=-Math.PI/2,dr=new I(...li);bn=new I(-_n+qn[0],qn[1]),bn._rotateAround(Xr,Di)._add(dr),bn.x+=-wn+_n,bn.y-=(on.left-rn)*mt.scale;const Yr=mt.imageName?on.advance*mt.scale:24*mt.scale,hr=String.fromCharCode(mt.glyph);X_(hr)?bn.x+=(1-rn)*mt.scale:Q_(hr)?bn.x+=Yr-on.height*mt.scale+(-rn-1)*mt.scale:bn.x+=mt.imageName||on.width+2*rn===Pn.w&&on.height+2*rn===Pn.h?(Yr-Ni)/2:(Yr-(on.height+2*rn)*mt.scale)/2,Gn=new I(bn.x,bn.y-Yn),$n=new I(bn.x+Ni,bn.y),Zn=new I(bn.x+Ni,bn.y-Yn)}else{const wn=(on.left-rn)*mt.scale-_n+qn[0],Di=(-on.top-rn)*mt.scale+qn[1],Xr=wn+Yn,dr=Di+Ni;bn=new I(wn,Di),Gn=new I(Xr,Di),$n=new I(wn,dr),Zn=new I(Xr,dr)}if(ot){let wn;wn=ze?new I(0,0):Mi?new I(He[0],He[1]):new I(De[0],De[1]),bn._rotateAround(ot,wn),Gn._rotateAround(ot,wn),$n._rotateAround(ot,wn),Zn._rotateAround(ot,wn)}const Bn=new I(0,0),ti=new I(0,0);at.push({tl:bn,tr:Gn,bl:$n,br:Zn,tex:Mn,writingMode:Me.writingMode,glyphOffset:xi,sectionIndex:mt.sectionIndex,isSDF:Wn,pixelOffsetTL:Bn,pixelOffsetBR:ti,minFontScaleX:0,minFontScaleY:0})}}return at}(0,s,y,d,h,f,o,n.allowVerticalPlacement),de=n.textSizeData;let ye=null;"source"===de.kind?(ye=[gs*d.layout.get("text-size").evaluate(f,{},ne)],ye[0]>Va&&It(`${n.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):"composite"===de.kind&&(ye=[gs*Z.compositeTextSizes[0].evaluate(f,{},ne),gs*Z.compositeTextSizes[1].evaluate(f,{},ne)],(ye[0]>Va||ye[1]>Va)&&It(`${n.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),n.addSymbols(n.text,ae,ye,y,h,f,L,e,i,x.lineStartIndex,x.lineLength,B,q,ne);for(const we of E)P[we]=n.text.placedSymbolArray.length-1;return 4*ae.length}function nh(n){for(const e in n)return n[e];return null}function Ac(n,e,i,s,o,d,h,f,y,x){let L=h.top,E=h.bottom,P=h.left,B=h.right;const Z=h.collisionPadding;if(Z&&(P-=Z[0],L-=Z[1],B+=Z[2],E+=Z[3]),y){const q=new I(P,L),ne=new I(B,L),ae=new I(P,E),de=new I(B,E),ye=he(y);let we=new I(0,0);x&&(we=new I(x[0],x[1])),q._rotateAround(ye,we),ne._rotateAround(ye,we),ae._rotateAround(ye,we),de._rotateAround(ye,we),P=Math.min(q.x,ne.x,ae.x,de.x),B=Math.max(q.x,ne.x,ae.x,de.x),L=Math.min(q.y,ne.y,ae.y,de.y),E=Math.max(q.y,ne.y,ae.y,de.y)}return n.emplaceBack(e.x,e.y,e.z,i.x,i.y,P,L,B,E,f,s,o,d),n.length-1}function bu(n){n.collisionPadding&&(n.top-=n.collisionPadding[1],n.bottom+=n.collisionPadding[3]);const e=n.bottom-n.top;return e>0?Math.max(10,e):null}function Lm(n,e,i,s){const o=n.compareText;if(e in o){const d=o[e];for(let h=d.length-1;h>=0;h--)if(s.dist(d[h])<i)return!0}else o[e]=[];return o[e].push(s),!1}const km=Fo.VectorTileFeature.types,Dm=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Ic(n,e,i,s,o,d,h,f,y,x,L,E,P,B,Z,q){const ne=L?Math.min(Va,Math.round(L[0])):0,ae=L?Math.min(Va,Math.round(L[1])):0;n.emplaceBack(e,i,Math.round(32*h),Math.round(32*f),y,x,(ne<<1)+(E?1:0),ae,16*P,16*B,256*Z,256*q,s,o,d,0)}function wu(n,e,i){n.emplaceBack(e.x,e.y,i),n.emplaceBack(e.x,e.y,i),n.emplaceBack(e.x,e.y,i),n.emplaceBack(e.x,e.y,i)}function Em(n){for(const e of n.sections)if(Pr(e.text))return!0;return!1}class Tu{constructor(e){this.layoutVertexArray=new Yt,this.indexArray=new Rn,this.programConfigurations=e,this.segments=new _i,this.dynamicLayoutVertexArray=new St,this.opacityVertexArray=new qt,this.placedSymbolArray=new Ks}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,i,s,o){this.isEmpty()||(s&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,W_.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,i),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,V_.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,Dm,!0),this.opacityVertexBuffer.itemSize=1),(s||o)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}ft("SymbolBuffers",Tu);class Lu{constructor(e,i,s){this.layoutVertexArray=new e,this.layoutAttributes=i,this.indexArray=new s,this.segments=new _i,this.collisionVertexArray=new hi,this.collisionVertexArrayExt=new St}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,q_.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,G_.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}ft("CollisionBuffers",Lu);class qa{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(h=>h.id),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=eu([]),this.placementViewportMatrix=eu([]);const i=this.layers[0]._unevaluatedLayout._values;this.textSizeData=hu(this.zoom,i["text-size"]),this.iconSizeData=hu(this.zoom,i["icon-size"]);const s=this.layers[0].layout,o=s.get("symbol-sort-key"),d=s.get("symbol-z-order");this.canOverlap=s.get("text-allow-overlap")||s.get("icon-allow-overlap")||s.get("text-ignore-placement")||s.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==d&&void 0!==o.constantOr(1),this.sortFeaturesByY=("viewport-y"===d||"auto"===d&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=s.get("text-writing-mode").map(h=>ur[h]),this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id),this.sourceID=e.sourceID}createArrays(){this.text=new Tu(new Io(this.layers,this.zoom,e=>/^text/.test(e))),this.icon=new Tu(new Io(this.layers,this.zoom,e=>/^icon/.test(e))),this.glyphOffsetArray=new M,this.lineVertexArray=new A,this.symbolInstances=new m}calculateGlyphDependencies(e,i,s,o,d){for(let h=0;h<e.length;h++)if(i[e.charCodeAt(h)]=!0,o&&d){const f=tc[e.charAt(h)];f&&(i[f.charCodeAt(0)]=!0)}}populate(e,i,s,o){const d=this.layers[0],h=d.layout,f=h.get("text-font"),y=h.get("text-field"),x=h.get("icon-image"),L=("constant"!==y.value.kind||y.value.value instanceof ni&&!y.value.value.isEmpty()||y.value.value.toString().length>0)&&("constant"!==f.value.kind||f.value.value.length>0),E="constant"!==x.value.kind||!!x.value.value||Object.keys(x.parameters).length>0,P=h.get("symbol-sort-key");if(this.features=[],!L&&!E)return;const B=i.iconDependencies,Z=i.glyphDependencies,q=i.availableImages,ne=new z(this.zoom);for(const{feature:ae,id:de,index:ye,sourceLayerIndex:we}of e){const Me=d._featureFilter.needGeometry,De=zo(ae,Me);if(!d._featureFilter.filter(ne,De,s))continue;let Ue,ze;if(Me||(De.geometry=ta(ae,s,o)),L){const st=d.getValueAndResolveTokens("text-field",De,s,q),je=ni.factory(st);Em(je)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===S()||this.hasRTLText&&O.isParsed())&&(Ue=K_(je,d,De))}if(E){const st=d.getValueAndResolveTokens("icon-image",De,s,q);ze=st instanceof ii?st:ii.fromString(st)}if(!Ue&&!ze)continue;const ht=this.sortFeaturesByKey?P.evaluate(De,{},s):void 0;if(this.features.push({id:de,text:Ue,icon:ze,index:ye,sourceLayerIndex:we,geometry:De.geometry,properties:ae.properties,type:km[ae.type],sortKey:ht}),ze&&(B[ze.name]=!0),Ue){const st=f.evaluate(De,{},s).join(","),je="map"===h.get("text-rotation-alignment")&&"point"!==h.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(ur.vertical)>=0;for(const at of Ue.sections)if(at.image)B[at.image.name]=!0;else{const ot=or(Ue.toString()),He=at.fontStack||st,_t=Z[He]=Z[He]||{};this.calculateGlyphDependencies(at.text,_t,je,this.allowVerticalPlacement,ot)}}}"line"===h.get("symbol-placement")&&(this.features=function(ae){const de={},ye={},we=[];let Me=0;function De(st){we.push(ae[st]),Me++}function Ue(st,je,at){const ot=ye[st];return delete ye[st],ye[je]=ot,we[ot].geometry[0].pop(),we[ot].geometry[0]=we[ot].geometry[0].concat(at[0]),ot}function ze(st,je,at){const ot=de[je];return delete de[je],de[st]=ot,we[ot].geometry[0].shift(),we[ot].geometry[0]=at[0].concat(we[ot].geometry[0]),ot}function ht(st,je,at){const ot=at?je[0][je[0].length-1]:je[0][0];return`${st}:${ot.x}:${ot.y}`}for(let st=0;st<ae.length;st++){const je=ae[st],at=je.geometry,ot=je.text?je.text.toString():null;if(!ot){De(st);continue}const He=ht(ot,at),_t=ht(ot,at,!0);if(He in ye&&_t in de&&ye[He]!==de[_t]){const pt=ze(He,_t,at),Ot=Ue(He,_t,we[pt].geometry);delete de[He],delete ye[_t],ye[ht(ot,we[Ot].geometry,!0)]=Ot,we[pt].geometry=null}else He in ye?Ue(He,_t,at):_t in de?ze(He,_t,at):(De(st),de[He]=Me-1,ye[_t]=Me-1)}return we.filter(st=>st.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ae,de)=>ae.sortKey-de.sortKey)}update(e,i,s,o){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,i,this.layers,s,o),this.icon.programConfigurations.updatePaintArrays(e,i,this.layers,s,o))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,i){const s=this.lineVertexArray.length;if(void 0!==e.segment){let o=e.dist(i[e.segment+1]),d=e.dist(i[e.segment]);const h={};for(let f=e.segment+1;f<i.length;f++)h[f]={x:i[f].x,y:i[f].y,tileUnitDistanceFromAnchor:o},f<i.length-1&&(o+=i[f+1].dist(i[f]));for(let f=e.segment||0;f>=0;f--)h[f]={x:i[f].x,y:i[f].y,tileUnitDistanceFromAnchor:d},f>0&&(d+=i[f-1].dist(i[f]));for(let f=0;f<i.length;f++){const y=h[f];this.lineVertexArray.emplaceBack(y.x,y.y,y.tileUnitDistanceFromAnchor)}}return{lineStartIndex:s,lineLength:this.lineVertexArray.length-s}}addSymbols(e,i,s,o,d,h,f,y,x,L,E,P,B,Z){const q=e.indexArray,ne=e.layoutVertexArray,ae=e.segments.prepareSegment(4*i.length,ne,q,this.canOverlap?h.sortKey:void 0),de=this.glyphOffsetArray.length,ye=ae.vertexLength,we=this.allowVerticalPlacement&&f===ur.vertical?Math.PI/2:0,Me=h.text&&h.text.sections;for(let De=0;De<i.length;De++){const{tl:Ue,tr:ze,bl:ht,br:st,tex:je,pixelOffsetTL:at,pixelOffsetBR:ot,minFontScaleX:He,minFontScaleY:_t,glyphOffset:pt,isSDF:Ot,sectionIndex:xn}=i[De],At=ae.vertexLength,an=pt[1];Ic(ne,y.x,y.y,y.z,x.x,x.y,Ue.x,an+Ue.y,je.x,je.y,s,Ot,at.x,at.y,He,_t),Ic(ne,y.x,y.y,y.z,x.x,x.y,ze.x,an+ze.y,je.x+je.w,je.y,s,Ot,ot.x,at.y,He,_t),Ic(ne,y.x,y.y,y.z,x.x,x.y,ht.x,an+ht.y,je.x,je.y+je.h,s,Ot,at.x,ot.y,He,_t),Ic(ne,y.x,y.y,y.z,x.x,x.y,st.x,an+st.y,je.x+je.w,je.y+je.h,s,Ot,ot.x,ot.y,He,_t),wu(e.dynamicLayoutVertexArray,y,we),q.emplaceBack(At,At+1,At+2),q.emplaceBack(At+1,At+2,At+3),ae.vertexLength+=4,ae.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(pt[0]),De!==i.length-1&&xn===i[De+1].sectionIndex||e.programConfigurations.populatePaintArrays(ne.length,h,h.index,{},B,Z,Me&&Me[xn])}e.placedSymbolArray.emplaceBack(y.x,y.y,y.z,x.x,x.y,de,this.glyphOffsetArray.length-de,ye,L,E,x.segment,s?s[0]:0,s?s[1]:0,o[0],o[1],f,0,!1,0,P,0)}_commitLayoutVertex(e,i,s,o,d,h,f){e.emplaceBack(i,s,o,d,h,Math.round(f.x),Math.round(f.y))}_addCollisionDebugVertices(e,i,s,o,d,h,f){const y=s.segments.prepareSegment(4,s.layoutVertexArray,s.indexArray),x=y.vertexLength,L=f.tileAnchorX,E=f.tileAnchorY;for(let B=0;B<4;B++)s.collisionVertexArray.emplaceBack(0,0,0,0);s.collisionVertexArrayExt.emplaceBack(i,-e.padding,-e.padding),s.collisionVertexArrayExt.emplaceBack(i,e.padding,-e.padding),s.collisionVertexArrayExt.emplaceBack(i,e.padding,e.padding),s.collisionVertexArrayExt.emplaceBack(i,-e.padding,e.padding),this._commitLayoutVertex(s.layoutVertexArray,o,d,h,L,E,new I(e.x1,e.y1)),this._commitLayoutVertex(s.layoutVertexArray,o,d,h,L,E,new I(e.x2,e.y1)),this._commitLayoutVertex(s.layoutVertexArray,o,d,h,L,E,new I(e.x2,e.y2)),this._commitLayoutVertex(s.layoutVertexArray,o,d,h,L,E,new I(e.x1,e.y2)),y.vertexLength+=4;const P=s.indexArray;P.emplaceBack(x,x+1),P.emplaceBack(x+1,x+2),P.emplaceBack(x+2,x+3),P.emplaceBack(x+3,x),y.primitiveLength+=4}_addTextDebugCollisionBoxes(e,i,s,o,d,h){for(let f=o;f<d;f++){const y=s.get(f),x=this.getSymbolInstanceTextSize(e,h,i,f);this._addCollisionDebugVertices(y,x,this.textCollisionBox,y.projectedAnchorX,y.projectedAnchorY,y.projectedAnchorZ,h)}}_addIconDebugCollisionBoxes(e,i,s,o,d,h){for(let f=o;f<d;f++){const y=s.get(f),x=this.getSymbolInstanceIconSize(e,i,f);this._addCollisionDebugVertices(y,x,this.iconCollisionBox,y.projectedAnchorX,y.projectedAnchorY,y.projectedAnchorZ,h)}}generateCollisionDebugBuffers(e,i){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Lu(Xn,Cd.members,vn),this.iconCollisionBox=new Lu(Xn,Cd.members,vn);const s=Ll(this.iconSizeData,e),o=Ll(this.textSizeData,e);for(let d=0;d<this.symbolInstances.length;d++){const h=this.symbolInstances.get(d);this._addTextDebugCollisionBoxes(o,e,i,h.textBoxStartIndex,h.textBoxEndIndex,h),this._addTextDebugCollisionBoxes(o,e,i,h.verticalTextBoxStartIndex,h.verticalTextBoxEndIndex,h),this._addIconDebugCollisionBoxes(s,e,i,h.iconBoxStartIndex,h.iconBoxEndIndex,h),this._addIconDebugCollisionBoxes(s,e,i,h.verticalIconBoxStartIndex,h.verticalIconBoxEndIndex,h)}}getSymbolInstanceTextSize(e,i,s,o){const d=this.text.placedSymbolArray.get(i.rightJustifiedTextSymbolIndex>=0?i.rightJustifiedTextSymbolIndex:i.centerJustifiedTextSymbolIndex>=0?i.centerJustifiedTextSymbolIndex:i.leftJustifiedTextSymbolIndex>=0?i.leftJustifiedTextSymbolIndex:i.verticalPlacedTextSymbolIndex>=0?i.verticalPlacedTextSymbolIndex:o),h=kc(this.textSizeData,e,d)/24;return this.tilePixelRatio*h}getSymbolInstanceIconSize(e,i,s){const o=this.icon.placedSymbolArray.get(s),d=kc(this.iconSizeData,e,o);return this.tilePixelRatio*d}_commitDebugCollisionVertexUpdate(e,i,s){e.emplaceBack(i,-s,-s),e.emplaceBack(i,s,-s),e.emplaceBack(i,s,s),e.emplaceBack(i,-s,s)}_updateTextDebugCollisionBoxes(e,i,s,o,d,h){for(let f=o;f<d;f++){const y=s.get(f),x=this.getSymbolInstanceTextSize(e,h,i,f);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,x,y.padding)}}_updateIconDebugCollisionBoxes(e,i,s,o,d){for(let h=o;h<d;h++){const f=s.get(h),y=this.getSymbolInstanceIconSize(e,i,h);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,y,f.padding)}}updateCollisionDebugBuffers(e,i){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const s=Ll(this.iconSizeData,e),o=Ll(this.textSizeData,e);for(let d=0;d<this.symbolInstances.length;d++){const h=this.symbolInstances.get(d);this._updateTextDebugCollisionBoxes(o,e,i,h.textBoxStartIndex,h.textBoxEndIndex,h),this._updateTextDebugCollisionBoxes(o,e,i,h.verticalTextBoxStartIndex,h.verticalTextBoxEndIndex,h),this._updateIconDebugCollisionBoxes(s,e,i,h.iconBoxStartIndex,h.iconBoxEndIndex),this._updateIconDebugCollisionBoxes(s,e,i,h.verticalIconBoxStartIndex,h.verticalIconBoxEndIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(e,i,s,o,d,h,f,y,x){const L={};for(let E=i;E<s;E++){const P=e.get(E);L.textBox={x1:P.x1,y1:P.y1,x2:P.x2,y2:P.y2,padding:P.padding,projectedAnchorX:P.projectedAnchorX,projectedAnchorY:P.projectedAnchorY,projectedAnchorZ:P.projectedAnchorZ,tileAnchorX:P.tileAnchorX,tileAnchorY:P.tileAnchorY},L.textFeatureIndex=P.featureIndex;break}for(let E=o;E<d;E++){const P=e.get(E);L.verticalTextBox={x1:P.x1,y1:P.y1,x2:P.x2,y2:P.y2,padding:P.padding,projectedAnchorX:P.projectedAnchorX,projectedAnchorY:P.projectedAnchorY,projectedAnchorZ:P.projectedAnchorZ,tileAnchorX:P.tileAnchorX,tileAnchorY:P.tileAnchorY},L.verticalTextFeatureIndex=P.featureIndex;break}for(let E=h;E<f;E++){const P=e.get(E);L.iconBox={x1:P.x1,y1:P.y1,x2:P.x2,y2:P.y2,padding:P.padding,projectedAnchorX:P.projectedAnchorX,projectedAnchorY:P.projectedAnchorY,projectedAnchorZ:P.projectedAnchorZ,tileAnchorX:P.tileAnchorX,tileAnchorY:P.tileAnchorY},L.iconFeatureIndex=P.featureIndex;break}for(let E=y;E<x;E++){const P=e.get(E);L.verticalIconBox={x1:P.x1,y1:P.y1,x2:P.x2,y2:P.y2,padding:P.padding,projectedAnchorX:P.projectedAnchorX,projectedAnchorY:P.projectedAnchorY,projectedAnchorZ:P.projectedAnchorZ,tileAnchorX:P.tileAnchorX,tileAnchorY:P.tileAnchorY},L.verticalIconFeatureIndex=P.featureIndex;break}return L}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let i=0;i<this.symbolInstances.length;i++){const s=this.symbolInstances.get(i);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,s.textBoxStartIndex,s.textBoxEndIndex,s.verticalTextBoxStartIndex,s.verticalTextBoxEndIndex,s.iconBoxStartIndex,s.iconBoxEndIndex,s.verticalIconBoxStartIndex,s.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,i){const s=e.placedSymbolArray.get(i),o=s.vertexStartIndex+4*s.numGlyphs;for(let d=s.vertexStartIndex;d<o;d+=4)e.indexArray.emplaceBack(d,d+1,d+2),e.indexArray.emplaceBack(d+1,d+2,d+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const i=Math.sin(e),s=Math.cos(e),o=[],d=[],h=[];for(let f=0;f<this.symbolInstances.length;++f){h.push(f);const y=this.symbolInstances.get(f);o.push(0|Math.round(i*y.tileAnchorX+s*y.tileAnchorY)),d.push(y.featureIndex)}return h.sort((f,y)=>o[f]-o[y]||d[y]-d[f]),h}addToSortKeyRanges(e,i){const s=this.sortKeyRanges[this.sortKeyRanges.length-1];s&&s.sortKey===i?s.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:i,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const i of this.symbolInstanceIndexes){const s=this.symbolInstances.get(i);this.featureSortOrder.push(s.featureIndex),[s.rightJustifiedTextSymbolIndex,s.centerJustifiedTextSymbolIndex,s.leftJustifiedTextSymbolIndex].forEach((o,d,h)=>{o>=0&&h.indexOf(o)===d&&this.addIndicesForPlacedSymbol(this.text,o)}),s.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,s.verticalPlacedTextSymbolIndex),s.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,s.placedIconSymbolIndex),s.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,s.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}ft("SymbolBucket",qa,{omit:["layers","collisionBoxArray","features","compareText"]}),qa.MAX_GLYPHS=65535,qa.addDynamicAttributes=wu;const Sm=new Re({"symbol-placement":new X(xe.layout_symbol["symbol-placement"]),"symbol-spacing":new X(xe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new X(xe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ce(xe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new X(xe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new X(xe.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new X(xe.layout_symbol["icon-ignore-placement"]),"icon-optional":new X(xe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new X(xe.layout_symbol["icon-rotation-alignment"]),"icon-size":new ce(xe.layout_symbol["icon-size"]),"icon-text-fit":new X(xe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new X(xe.layout_symbol["icon-text-fit-padding"]),"icon-image":new ce(xe.layout_symbol["icon-image"]),"icon-rotate":new ce(xe.layout_symbol["icon-rotate"]),"icon-padding":new X(xe.layout_symbol["icon-padding"]),"icon-keep-upright":new X(xe.layout_symbol["icon-keep-upright"]),"icon-offset":new ce(xe.layout_symbol["icon-offset"]),"icon-anchor":new ce(xe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new X(xe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new X(xe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new X(xe.layout_symbol["text-rotation-alignment"]),"text-field":new ce(xe.layout_symbol["text-field"]),"text-font":new ce(xe.layout_symbol["text-font"]),"text-size":new ce(xe.layout_symbol["text-size"]),"text-max-width":new ce(xe.layout_symbol["text-max-width"]),"text-line-height":new ce(xe.layout_symbol["text-line-height"]),"text-letter-spacing":new ce(xe.layout_symbol["text-letter-spacing"]),"text-justify":new ce(xe.layout_symbol["text-justify"]),"text-radial-offset":new ce(xe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new X(xe.layout_symbol["text-variable-anchor"]),"text-anchor":new ce(xe.layout_symbol["text-anchor"]),"text-max-angle":new X(xe.layout_symbol["text-max-angle"]),"text-writing-mode":new X(xe.layout_symbol["text-writing-mode"]),"text-rotate":new ce(xe.layout_symbol["text-rotate"]),"text-padding":new X(xe.layout_symbol["text-padding"]),"text-keep-upright":new X(xe.layout_symbol["text-keep-upright"]),"text-transform":new ce(xe.layout_symbol["text-transform"]),"text-offset":new ce(xe.layout_symbol["text-offset"]),"text-allow-overlap":new X(xe.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new X(xe.layout_symbol["text-ignore-placement"]),"text-optional":new X(xe.layout_symbol["text-optional"])});var ku={paint:new Re({"icon-opacity":new ce(xe.paint_symbol["icon-opacity"]),"icon-color":new ce(xe.paint_symbol["icon-color"]),"icon-halo-color":new ce(xe.paint_symbol["icon-halo-color"]),"icon-halo-width":new ce(xe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ce(xe.paint_symbol["icon-halo-blur"]),"icon-translate":new X(xe.paint_symbol["icon-translate"]),"icon-translate-anchor":new X(xe.paint_symbol["icon-translate-anchor"]),"text-opacity":new ce(xe.paint_symbol["text-opacity"]),"text-color":new ce(xe.paint_symbol["text-color"],{runtimeType:An,getOverride:n=>n.textColor,hasOverride:n=>!!n.textColor}),"text-halo-color":new ce(xe.paint_symbol["text-halo-color"]),"text-halo-width":new ce(xe.paint_symbol["text-halo-width"]),"text-halo-blur":new ce(xe.paint_symbol["text-halo-blur"]),"text-translate":new X(xe.paint_symbol["text-translate"]),"text-translate-anchor":new X(xe.paint_symbol["text-translate-anchor"])}),layout:Sm};class ih{constructor(e){this.type=e.property.overrides?e.property.overrides.runtimeType:$i,this.defaultValue=e}evaluate(e){if(e.formattedSection){const i=this.defaultValue.property.overrides;if(i&&i.hasOverride(e.formattedSection))return i.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}ft("FormatSectionOverride",ih,{omit:["defaultValue"]});class Yc extends Jr{constructor(e){super(e,ku)}recalculate(e,i){super.recalculate(e,i),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const s=this.layout.get("text-writing-mode");if(s){const o=[];for(const d of s)o.indexOf(d)<0&&o.push(d);this.layout._values["text-writing-mode"]=o}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(e,i,s,o){const d=this.layout.get(e).evaluate(i,{},s,o),h=this._unevaluatedLayout._values[e];return h.isDataDriven()||Bi(h.value)||!d?d:(f=i.properties,d.replace(/{([^{}]+)}/g,(x,L)=>L in f?String(f[L]):""));var f}createBucket(e){return new qa(e)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const e of ku.paint.overridableProperties){if(!Yc.hasPaintOverride(this.layout,e))continue;const i=this.paint.get(e),s=new ih(i),o=new Ys(s,i.property.specification);let d=null;d="constant"===i.value.kind||"source"===i.value.kind?new Tr("source",o):new Sa("composite",o,i.value.zoomStops,i.value._interpolationType),this.paint._values[e]=new re(i.property,d,i.parameters)}}_handleOverridablePaintPropertyUpdate(e,i,s){return!(!this.layout||i.isDataDriven()||s.isDataDriven())&&Yc.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,i){const s=e.get("text-field"),o=ku.paint.properties[i];let d=!1;const h=f=>{for(const y of f)if(o.overrides&&o.overrides.hasOverride(y))return void(d=!0)};if("constant"===s.value.kind&&s.value.value instanceof ni)h(s.value.value.sections);else if("source"===s.value.kind){const f=x=>{d||(x instanceof Br&&Ln(x.value)===es?h(x.value.sections):x instanceof Ds?h(x.sections):x.eachChild(f))},y=s.value;y._styleExpression&&f(y._styleExpression.expression)}return d}getProgramConfiguration(e){return new ea(this,e)}}var Cm={paint:new Re({"background-color":new X(xe.paint_background["background-color"]),"background-pattern":new Ae(xe.paint_background["background-pattern"]),"background-opacity":new X(xe.paint_background["background-opacity"])})},Pm={paint:new Re({"raster-opacity":new X(xe.paint_raster["raster-opacity"]),"raster-hue-rotate":new X(xe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new X(xe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new X(xe.paint_raster["raster-brightness-max"]),"raster-saturation":new X(xe.paint_raster["raster-saturation"]),"raster-contrast":new X(xe.paint_raster["raster-contrast"]),"raster-resampling":new X(xe.paint_raster["raster-resampling"]),"raster-fade-duration":new X(xe.paint_raster["raster-fade-duration"])})};class Am extends Jr{constructor(e){super(e,{}),this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){}serialize(){}onAdd(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)}onRemove(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)}}var Im={paint:new Re({"sky-type":new X(xe.paint_sky["sky-type"]),"sky-atmosphere-sun":new X(xe.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new X(xe.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new X(xe.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new X(xe.paint_sky["sky-gradient-radius"]),"sky-gradient":new Ce(xe.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new X(xe.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new X(xe.paint_sky["sky-atmosphere-color"]),"sky-opacity":new X(xe.paint_sky["sky-opacity"])})};function Du(n,e,i){const s=bl(0,0,1),o=cd(tu());return function(d,h,f){f*=.5;var y=h[0],x=h[1],L=h[2],E=h[3],P=Math.sin(f),B=Math.cos(f);d[0]=y*B-L*P,d[1]=x*B+E*P,d[2]=L*B+y*P,d[3]=E*B-x*P}(o,o,i?-he(n)+Math.PI:he(n)),ud(o,o,-he(e)),ld(s,s,o),od(s,s)}const Ym={circle:class extends Jr{constructor(n){super(n,Qh)}createBucket(n){return new Kc(n)}queryRadius(n){const e=n;return Ml("circle-radius",this,e)+Ml("circle-stroke-width",this,e)+gc(this.paint.get("circle-translate"))}queryIntersectsFeature(n,e,i,s,o,d,h,f){const y=ed(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),d.angle,n.pixelToTileUnitsFactor),x=this.paint.get("circle-radius").evaluate(e,i)+this.paint.get("circle-stroke-width").evaluate(e,i);return hd(n,s,d,h,f,"map"===this.paint.get("circle-pitch-alignment"),"map"===this.paint.get("circle-pitch-scale"),y,x)}getProgramIds(){return["circle"]}getProgramConfiguration(n){return new ea(this,n)}},heatmap:class extends Jr{createBucket(n){return new md(n)}constructor(n){super(n,o_),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(n){"heatmap-color"===n&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=ru({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(n){return Ml("heatmap-radius",this,n)}queryIntersectsFeature(n,e,i,s,o,d,h,f){const y=this.paint.get("heatmap-radius").evaluate(e,i);return hd(n,s,d,h,f,!0,!0,new I(0,0),y)}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(n){return new ea(this,n)}},hillshade:class extends Jr{constructor(n){super(n,l_)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}getProgramConfiguration(n){return new ea(this,n)}},fill:class extends Jr{constructor(n){super(n,L_)}getProgramIds(){const n=this.paint.get("fill-pattern"),e=n&&n.constantOr(1),i=[e?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&i.push(e&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),i}getProgramConfiguration(n){return new ea(this,n)}recalculate(n,e){super.recalculate(n,e);const i=this.paint._values["fill-outline-color"];"constant"===i.value.kind&&void 0===i.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(n){return new Tc(n)}queryRadius(){return gc(this.paint.get("fill-translate"))}queryIntersectsFeature(n,e,i,s,o,d){return!n.queryGeometry.isAboveHorizon&&$u(Qu(n.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),d.angle,n.pixelToTileUnitsFactor),s)}isTileClipped(){return!0}},"fill-extrusion":class extends Jr{constructor(n){super(n,z_)}createBucket(n){return new du(n)}queryRadius(){return gc(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(n){return new ea(this,n)}queryIntersectsFeature(n,e,i,s,o,d,h,f,y){const x=ed(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),d.angle,n.pixelToTileUnitsFactor),L=this.paint.get("fill-extrusion-height").evaluate(e,i),E=this.paint.get("fill-extrusion-base").evaluate(e,i),P=[0,0],B=f&&d.elevation,Z=d.elevation?d.elevation.exaggeration():1;if(B){const ae=n.tile.getBucket(this).centroidVertexArray,de=y+1;if(de<ae.length){const ye=ae.get(de);P[0]=ye.a_centroid_pos0,P[1]=ye.a_centroid_pos1}}if(0===P[0]&&1===P[1])return!1;const q=(ae=s,de=E,ye=L,we=x,Me=h,(De=B?f:null)?function(st,je,at,ot,He,_t,pt,Ot,xn){const At=[],an=[],mt=[0,0,0,1];for(const Mn of st){const rn=[],Wn=[];for(const Vn of Mn){const ei=Vn.x+ot.x,mi=Vn.y+ot.y,_n=F_(ei,mi,je,at,_t,pt,Ot,xn);mt[0]=ei,mt[1]=mi,mt[2]=_n.base,mt[3]=1,Gl(mt,mt,He),mt[3]=Math.max(mt[3],1e-5);const on=kd([mt[0]/mt[3],mt[1]/mt[3],mt[2]/mt[3]]);mt[0]=ei,mt[1]=mi,mt[2]=_n.top,mt[3]=1,Gl(mt,mt,He),mt[3]=Math.max(mt[3],1e-5);const Pn=kd([mt[0]/mt[3],mt[1]/mt[3],mt[2]/mt[3]]);rn.push(on),Wn.push(Pn)}At.push(rn),an.push(Wn)}return[At,an]}(ae,de,ye,we,Me,De,P,Z,d.center.lat):function(st,je,at,ot,He){const _t=[],pt=[],Ot=He[8]*je,xn=He[9]*je,At=He[10]*je,an=He[11]*je,mt=He[8]*at,Mn=He[9]*at,rn=He[10]*at,Wn=He[11]*at;for(const Vn of st){const ei=[],mi=[];for(const _n of Vn){const on=_n.x+ot.x,Pn=_n.y+ot.y,xi=He[0]*on+He[4]*Pn+He[12],qn=He[1]*on+He[5]*Pn+He[13],li=He[2]*on+He[6]*Pn+He[14],Mi=He[3]*on+He[7]*Pn+He[15],Yn=xi+Ot,Ni=qn+xn,bn=li+At,Gn=Math.max(Mi+an,1e-5),$n=xi+mt,Zn=qn+Mn,Bn=li+rn,ti=Math.max(Mi+Wn,1e-5),wn=new I(Yn/Gn,Ni/Gn);wn.z=bn/Gn,ei.push(wn);const Di=new I($n/ti,Zn/ti);Di.z=Bn/ti,mi.push(Di)}_t.push(ei),pt.push(mi)}return[_t,pt]}(ae,de,ye,we,Me)),ne=n.queryGeometry;var ae,de,ye,we,Me,De;return function(ae,de,ye){let we=1/0;$u(ye,de)&&(we=Ld(ye,de[0]));for(let Me=0;Me<de.length;Me++){const De=de[Me],Ue=ae[Me];for(let ze=0;ze<De.length-1;ze++){const ht=De[ze],st=[ht,De[ze+1],Ue[ze+1],Ue[ze],ht];Gu(ye,st)&&(we=Math.min(we,Ld(ye,st)))}}return we!==1/0&&we}(q[0],q[1],ne.isPointQuery()?ne.screenBounds:ne.screenGeometry)}},line:class extends Jr{constructor(n){super(n,Dd),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(n){if("line-gradient"===n){const e=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=e._styleExpression&&e._styleExpression.expression instanceof dn,this.gradientVersion=(this.gradientVersion+1)%oe}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(n,e){super.recalculate(n,e),this.paint._values["line-floorwidth"]=Ed.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,n)}createBucket(n){return new Lc(n)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(n){return new ea(this,n)}queryRadius(n){const e=n,i=Sd(Ml("line-width",this,e),Ml("line-gap-width",this,e)),s=Ml("line-offset",this,e);return i/2+Math.abs(s)+gc(this.paint.get("line-translate"))}queryIntersectsFeature(n,e,i,s,o,d){if(n.queryGeometry.isAboveHorizon)return!1;const h=Qu(n.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),d.angle,n.pixelToTileUnitsFactor),f=n.pixelToTileUnitsFactor/2*Sd(this.paint.get("line-width").evaluate(e,i),this.paint.get("line-gap-width").evaluate(e,i)),y=this.paint.get("line-offset").evaluate(e,i);return y&&(s=function(x,L){const E=[],P=new I(0,0);for(let B=0;B<x.length;B++){const Z=x[B],q=[];for(let ne=0;ne<Z.length;ne++){const ae=Z[ne-1],de=Z[ne],ye=Z[ne+1],we=0===ne?P:de.sub(ae)._unit()._perp(),Me=ne===Z.length-1?P:ye.sub(de)._unit()._perp(),De=we._add(Me)._unit();De._mult(1/(De.x*Me.x+De.y*Me.y)),q.push(De._mult(L)._add(de))}E.push(q)}return E}(s,y*n.pixelToTileUnitsFactor)),function(x,L,E){for(let P=0;P<L.length;P++){const B=L[P];if(x.length>=3)for(let Z=0;Z<B.length;Z++)if(xl(x,B[Z]))return!0;if($h(x,B,E))return!0}return!1}(h,s,f)}isTileClipped(){return!0}},symbol:Yc,background:class extends Jr{constructor(n){super(n,Cm)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends Jr{constructor(n){super(n,Pm)}getProgramIds(){return["raster"]}},sky:class extends Jr{constructor(n){super(n,Im),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(n){"sky-gradient"===n?this._updateColorRamp():"sky-atmosphere-sun"!==n&&"sky-atmosphere-halo-color"!==n&&"sky-atmosphere-color"!==n&&"sky-atmosphere-sun-intensity"!==n||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=ru({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(n){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const e=n.style.light.properties.get("position");return this._lightPosition.azimuthal!==e.azimuthal||this._lightPosition.polar!==e.polar}}getCenter(n,e){const i=this.paint.get("sky-type");if("atmosphere"===i){const s=this.paint.get("sky-atmosphere-sun"),o=!s,d=n.style.light,h=d.properties.get("position");return o&&"viewport"===d.properties.get("anchor")&&It("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),o?Du(h.azimuthal,90-h.polar,e):Du(s[0],90-s[1],e)}if("gradient"===i){const s=this.paint.get("sky-gradient-center");return Du(s[0],90-s[1],e)}}is3D(){return!1}isSky(){return!0}markSkyboxValid(n){this._skyboxInvalidated=!1,this._lightPosition=n.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const n=this.paint.get("sky-type");return"atmosphere"===n?["skyboxCapture","skybox"]:"gradient"===n?["skyboxGradient"]:null}}},{HTMLImageElement:rh,HTMLCanvasElement:sh,HTMLVideoElement:ah,ImageData:oh,ImageBitmap:Oc}=W;class zc{constructor(e,i,s,o){this.context=e,this.format=s,this.texture=e.gl.createTexture(),this.update(i,o)}update(e,i,s){const{width:o,height:d}=e,{context:h}=this,{gl:f}=h;if(f.bindTexture(f.TEXTURE_2D,this.texture),h.pixelStoreUnpackFlipY.set(!1),h.pixelStoreUnpack.set(1),h.pixelStoreUnpackPremultiplyAlpha.set(this.format===f.RGBA&&(!i||!1!==i.premultiply)),s||this.size&&this.size[0]===o&&this.size[1]===d){const{x:y,y:x}=s||{x:0,y:0};e instanceof rh||e instanceof sh||e instanceof ah||e instanceof oh||Oc&&e instanceof Oc?f.texSubImage2D(f.TEXTURE_2D,0,y,x,f.RGBA,f.UNSIGNED_BYTE,e):f.texSubImage2D(f.TEXTURE_2D,0,y,x,o,d,f.RGBA,f.UNSIGNED_BYTE,e.data)}else this.size=[o,d],e instanceof rh||e instanceof sh||e instanceof ah||e instanceof oh||Oc&&e instanceof Oc?f.texImage2D(f.TEXTURE_2D,0,this.format,this.format,f.UNSIGNED_BYTE,e):f.texImage2D(f.TEXTURE_2D,0,this.format,o,d,0,this.format,f.UNSIGNED_BYTE,e.data);this.useMipmap=Boolean(i&&i.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&f.generateMipmap(f.TEXTURE_2D)}bind(e,i){const{context:s}=this,{gl:o}=s;o.bindTexture(o.TEXTURE_2D,this.texture),e!==this.filter&&(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,e),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,this.useMipmap?e===o.NEAREST?o.NEAREST_MIPMAP_NEAREST:o.LINEAR_MIPMAP_NEAREST:e),this.filter=e),i!==this.wrap&&(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,i),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,i),this.wrap=i)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}class Eu{constructor(e,i){this.width=e,this.height=i,this.nextRow=0,this.image=new Na({width:e,height:i}),this.positions={},this.uploaded=!1}getDash(e,i){const s=this.getKey(e,i);return this.positions[s]}trim(){const e=this.width,i=this.height=et(this.nextRow);this.image.resize({width:e,height:i})}getKey(e,i){return e.join(",")+i}getDashRanges(e,i,s){const o=[];let d=e.length%2==1?-e[e.length-1]*s:0,h=e[0]*s,f=!0;o.push({left:d,right:h,isDash:f,zeroLength:0===e[0]});let y=e[0];for(let x=1;x<e.length;x++){f=!f;const L=e[x];d=y*s,y+=L,h=y*s,o.push({left:d,right:h,isDash:f,zeroLength:0===L})}return o}addRoundDash(e,i,s){const o=i/2;for(let d=-s;d<=s;d++){const h=this.width*(this.nextRow+s+d);let f=0,y=e[f];for(let x=0;x<this.width;x++){x/y.right>1&&(y=e[++f]);const L=Math.abs(x-y.left),E=Math.abs(x-y.right),P=Math.min(L,E);let B;const Z=d/s*(o+1);if(y.isDash){const q=o-Math.abs(Z);B=Math.sqrt(P*P+q*q)}else B=o-Math.sqrt(P*P+Z*Z);this.image.data[h+x]=Math.max(0,Math.min(255,B+128))}}}addRegularDash(e,i){for(let y=e.length-1;y>=0;--y){const x=e[y],L=e[y+1];x.zeroLength?e.splice(y,1):L&&L.isDash===x.isDash&&(L.left=x.left,e.splice(y,1))}const s=e[0],o=e[e.length-1];s.isDash===o.isDash&&(s.left=o.left-this.width,o.right=s.right+this.width);const d=this.width*this.nextRow;let h=0,f=e[h];for(let y=0;y<this.width;y++){y/f.right>1&&(f=e[++h]);const x=Math.abs(y-f.left),L=Math.abs(y-f.right),E=Math.min(x,L);this.image.data[d+y]=Math.max(0,Math.min(255,(f.isDash?E:-E)+i+128))}}addDash(e,i){const s=this.getKey(e,i);if(this.positions[s])return this.positions[s];const o="round"===i,d=o?7:0,h=2*d+1;if(this.nextRow+h>this.height)return It("LineAtlas out of space"),null;0===e.length&&e.push(1);let f=0;for(let L=0;L<e.length;L++)e[L]<0&&(It("Negative value is found in line dasharray, replacing values with 0"),e[L]=0),f+=e[L];if(0!==f){const L=this.width/f,E=this.getDashRanges(e,this.width,L);o?this.addRoundDash(E,L,d):this.addRegularDash(E,"square"===i?.5*L:0)}const y=this.nextRow+d;this.nextRow+=h;const x={tl:[y,d],br:[f,0]};return this.positions[s]=x,x}}ft("LineAtlas",Eu);class Om{constructor(e){this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const zm=W.performance;function lh(n){const e=n?n.url.toString():void 0;return zm.getEntriesByName(e)}class Fm{constructor(){this.tasks={},this.taskQueue=[],dt(["process"],this),this.invoker=new Om(this.process),this.nextId=0}add(e,i){const s=this.nextId++,o=function({type:d,isSymbolTile:h,zoom:f}){return f=f||0,"message"===d?0:"maybePrepare"!==d||h?"parseTile"!==d||h?"parseTile"===d&&h?300-f:"maybePrepare"===d&&h?400-f:500:200-f:100-f}(i);if(0===o){yn();try{e()}finally{}return{cancel:()=>{}}}return this.tasks[s]={fn:e,metadata:i,priority:o,id:s},this.taskQueue.push(s),this.invoker.trigger(),{cancel:()=>{delete this.tasks[s]}}}process(){yn();try{if(this.taskQueue=this.taskQueue.filter(s=>!!this.tasks[s]),!this.taskQueue.length)return;const e=this.pick();if(null===e)return;const i=this.tasks[e];if(delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),!i)return;i.fn()}finally{}}pick(){let e=null,i=1/0;for(let o=0;o<this.taskQueue.length;o++){const d=this.tasks[this.taskQueue[o]];d.priority<i&&(i=d.priority,e=o)}if(null===e)return null;const s=this.taskQueue[e];return this.taskQueue.splice(e,1),s}remove(){this.invoker.remove()}}function Fc(n,e){const i=Math.pow(2,-n.z),s=n.x*i,o=(n.x+1)*i,d=n.y*i,h=(n.y+1)*i;if("mercator"===e.name)return{scale:1<<n.z,x:n.x,y:n.y,x2:n.x+1,y2:n.y+1,projection:e};const f=Oo(s),y=Oo(o),x=fs(d),L=fs(h),E=e.project(f,x),P=e.project(y,x),B=e.project(y,L),Z=e.project(f,L);let q=Math.min(E.x,P.x,B.x,Z.x),ne=Math.min(E.y,P.y,B.y,Z.y),ae=Math.max(E.x,P.x,B.x,Z.x),de=Math.max(E.y,P.y,B.y,Z.y);const ye=i/16;function we(De,Ue,ze,ht,st,je){const at=(ze+st)/2,ot=(ht+je)/2,He=e.project(Oo(at),fs(ot)),_t=Math.max(0,q-He.x,ne-He.y,He.x-ae,He.y-de);q=Math.min(q,He.x),ae=Math.max(ae,He.x),ne=Math.min(ne,He.y),de=Math.max(de,He.y),_t>ye&&(we(De,He,ze,ht,at,ot),we(He,Ue,at,ot,st,je))}we(E,P,s,d,o,d),we(P,B,o,d,o,h),we(B,Z,o,h,s,h),we(Z,E,s,h,s,d),q-=ye,ne-=ye,ae+=ye,de+=ye;const Me=1/Math.max(ae-q,de-ne);return{scale:Me,x:q*Me,y:ne*Me,x2:ae*Me,y2:de*Me,projection:e}}function ch(n,e,i){var s=2*Math.PI*6378137/256/Math.pow(2,i);return[n*s-2*Math.PI*6378137/2,e*s-2*Math.PI*6378137/2]}class Su{constructor(e,i,s){this.z=e,this.x=i,this.y=s,this.key=sc(0,e,e,i,s)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,i){const s=(d=this.y,h=this.z,f=ch(256*(o=this.x),256*(d=Math.pow(2,h)-d-1),h),y=ch(256*(o+1),256*(d+1),h),f[0]+","+f[1]+","+y[0]+","+y[1]);var o,d,h,f,y;const x=function(L,E,P){let B,Z="";for(let q=L;q>0;q--)B=1<<q-1,Z+=(E&B?1:0)+(P&B?2:0);return Z}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===i?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",x).replace("{bbox-epsg-3857}",s)}toString(){return`${this.z}/${this.x}/${this.y}`}}class uh{constructor(e,i){this.wrap=e,this.canonical=i,this.key=sc(e,i.z,i.z,i.x,i.y)}}class Zi{constructor(e,i,s,o,d){this.overscaledZ=e,this.wrap=i,this.canonical=new Su(s,+o,+d),this.key=0===i&&e===s?this.canonical.key:sc(i,e,s,o,d)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){const i=this.canonical.z-e;return e>this.canonical.z?new Zi(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Zi(e,this.wrap,e,this.canonical.x>>i,this.canonical.y>>i)}calculateScaledKey(e,i=!0){if(this.overscaledZ===e&&i)return this.key;if(e>this.canonical.z)return sc(this.wrap*+i,e,this.canonical.z,this.canonical.x,this.canonical.y);{const s=this.canonical.z-e;return sc(this.wrap*+i,e,e,this.canonical.x>>s,this.canonical.y>>s)}}isChildOf(e){if(e.wrap!==this.wrap)return!1;const i=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>i&&e.canonical.y===this.canonical.y>>i}children(e){if(this.overscaledZ>=e)return[new Zi(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const i=this.canonical.z+1,s=2*this.canonical.x,o=2*this.canonical.y;return[new Zi(i,this.wrap,i,s,o),new Zi(i,this.wrap,i,s+1,o),new Zi(i,this.wrap,i,s,o+1),new Zi(i,this.wrap,i,s+1,o+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new Zi(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new Zi(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new uh(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function sc(n,e,i,s,o){const d=1<<Math.min(i,22);let h=d*(o%d)+s%d;return n&&i<22&&(h+=d*d*((n<0?-2*n-1:2*n)%(1<<2*(22-i)))),16*(32*h+i)+(e-i)}ft("CanonicalTileID",Su),ft("OverscaledTileID",Zi,{omit:["projMatrix"]});class dh{constructor(e){this._stringToNumber={},this._numberToString=[];for(let i=0;i<e.length;i++){const s=e[i];this._stringToNumber[s]=i,this._numberToString[i]=s}}encode(e){return this._stringToNumber[e]}decode(e){return this._numberToString[e]}}class hh{constructor(e,i,s,o,d){this.type="Feature",this._vectorTileFeature=e,e._z=i,e._x=s,e._y=o,this.properties=e.properties,this.id=d}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={geometry:this.geometry};for(const i in this)"_geometry"!==i&&"_vectorTileFeature"!==i&&(e[i]=this[i]);return e}}var Rm=Se([{name:"a_pos",type:"Int16",components:2}]);const Ga=new Uint16Array(8184);for(let n=0;n<2046;n++){let e=n+2,i=0,s=0,o=0,d=0,h=0,f=0;for(1&e?o=d=h=32:i=s=f=32;(e>>=1)>1;){const x=i+o>>1,L=s+d>>1;1&e?(o=i,d=s,i=h,s=f):(i=o,s=d,o=h,d=f),h=x,f=L}const y=4*n;Ga[y+0]=i,Ga[y+1]=s,Ga[y+2]=o,Ga[y+3]=d}const vs=new Uint16Array(2178),$a=new Uint8Array(1089),Rc=new Uint16Array(1089);function _h(n){return 0===n?-.03125:32===n?.03125:0}var Cu=Se([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const mh={type:2,extent:en,loadGeometry:()=>[[new I(0,0),new I(8193,0),new I(8193,8193),new I(0,8193),new I(0,0)]]};class ph{constructor(e,i,s,o,d){this.tileID=e,this.uid=Ye(),this.uses=0,this.tileSize=i,this.tileZoom=s,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=d,this.expiredRequestCount=0,this.state="loading",o&&o.transform&&(this.projection=o.transform.projection)}registerFadeDuration(e){const i=e+this.timeAdded;i<Dn.now()||this.fadeEndTime&&i<this.fadeEndTime||(this.fadeEndTime=i)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}get tileTransform(){return this._tileTransform||(this._tileTransform=Fc(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(e,i,s){if(this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(o,d){const h={};if(!d)return h;for(const f of o){const y=f.layerIds.map(x=>d.getLayer(x)).filter(Boolean);if(0!==y.length){f.layers=y,f.stateDependentLayerIds&&(f.stateDependentLayers=f.stateDependentLayerIds.map(x=>y.filter(L=>L.id===x)[0]));for(const x of y)h[x.id]=f}}return h}(e.buckets,i.style),this.hasSymbolBuckets=!1;for(const o in this.buckets){const d=this.buckets[o];if(d instanceof qa){if(this.hasSymbolBuckets=!0,!s)break;d.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const o in this.buckets){const d=this.buckets[o];if(d instanceof qa&&d.hasRTLText){this.hasRTLText=!0,O.isLoading()||O.isLoaded()||"deferred"!==S()||Y();break}}this.queryPadding=0;for(const o in this.buckets){const d=this.buckets[o];this.queryPadding=Math.max(this.queryPadding,i.style.getLayer(o).queryRadius(d))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage),e.lineAtlas&&(this.lineAtlas=e.lineAtlas)}else this.collisionBoxArray=new oi}unloadVectorData(){if(this.hasData()){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugIndexBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(e){return this.buckets[e.id]}upload(e){for(const s in this.buckets){const o=this.buckets[s];o.uploadPending()&&o.upload(e)}const i=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new zc(e,this.imageAtlas.image,i.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new zc(e,this.glyphAtlasImage,i.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new zc(e,this.lineAtlas.image,i.ALPHA),this.lineAtlas.uploaded=!0)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,i,s,o,d,h,f,y){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:o,pixelPosMatrix:f,transform:h,params:d,tileTransform:this.tileTransform},e,i,s):{}}querySourceFeatures(e,i){const s=this.latestFeatureIndex;if(!s||!s.rawTileData)return;const o=s.loadVTLayers(),d=i?i.sourceLayer:"",h=o._geojsonTileLayer||o[d];if(!h)return;const f=cs(i&&i.filter),{z:y,x,y:L}=this.tileID.canonical,E={z:y,x,y:L};for(let P=0;P<h.length;P++){const B=h.feature(P);if(f.needGeometry){const ne=zo(B,!0);if(!f.filter(new z(this.tileID.overscaledZ),ne,this.tileID.canonical))continue}else if(!f.filter(new z(this.tileID.overscaledZ),B))continue;const Z=s.getId(B,d),q=new hh(B,y,x,L,Z);q.tile=E,e.push(q)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const i=this.expirationTime;if(e.cacheControl){const s=yt(e.cacheControl);s["max-age"]&&(this.expirationTime=Date.now()+1e3*s["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const s=Date.now();let o=!1;if(this.expirationTime>s)o=!1;else if(i)if(this.expirationTime<i)o=!0;else{const d=this.expirationTime-i;d?this.expirationTime=s+Math.max(d,3e4):o=!0}else o=!0;o?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,i){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length||!i)return;const s=this.latestFeatureIndex.loadVTLayers(),o=i.style.listImages();for(const d in this.buckets){if(!i.style.hasLayer(d))continue;const h=this.buckets[d],f=h.layers[0].sourceLayer||"_geojsonTileLayer",y=s[f],x=e[f];if(!y||!x||0===Object.keys(x).length)continue;if(h.update(x,y,o,this.imageAtlas&&this.imageAtlas.patternPositions||{}),h instanceof Lc||h instanceof Tc){const E=i.style._getSourceCache(h.layers[0].source);i._terrain&&i._terrain.enabled&&E&&h.programConfigurations.needsUpload&&i._terrain._clearRenderCacheForTile(E.id,this.tileID)}const L=i&&i.style&&i.style.getLayer(d);L&&(this.queryPadding=Math.max(this.queryPadding,L.queryRadius(h)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Dn.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=Dn.now()+e}setDependencies(e,i){const s={};for(const o of i)s[o]=!0;this.dependencies[e]=s}hasDependency(e,i){for(const s of e){const o=this.dependencies[s];if(o)for(const d of i)if(o[d])return!0}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(e,i){if(!i||"mercator"===i.name||this._tileDebugBuffer)return;const s=ta(mh,this.tileID.canonical,this.tileTransform)[0],o=new gt,d=new Qn;for(let h=0;h<s.length;h++){const{x:f,y}=s[h];o.emplaceBack(f,y),d.emplaceBack(h)}d.emplaceBack(0),this._tileDebugIndexBuffer=e.createIndexBuffer(d),this._tileDebugBuffer=e.createVertexBuffer(o,Cu.members),this._tileDebugSegments=_i.simpleSegment(0,0,o.length,d.length)}_makeTileBoundsBuffers(e,i){if(this._tileBoundsBuffer||!i||"mercator"===i.name)return;const s=ta(mh,this.tileID.canonical,this.tileTransform)[0];let o,d;if(this.isRaster){const h=function(f,y){const x=Fc(f,y),L=Math.pow(2,f.z);for(let ne=0;ne<33;ne++)for(let ae=0;ae<33;ae++){const de=Oo((f.x+(ae+_h(ae))/32)/L),ye=fs((f.y+(ne+_h(ne))/32)/L),we=y.project(de,ye),Me=33*ne+ae;vs[2*Me+0]=Math.round((we.x*x.scale-x.x)*en),vs[2*Me+1]=Math.round((we.y*x.scale-x.y)*en)}$a.fill(0),Rc.fill(0);for(let ne=2045;ne>=0;ne--){const ae=4*ne,de=Ga[ae+0],ye=Ga[ae+1],we=Ga[ae+2],Me=Ga[ae+3],De=de+we>>1,Ue=ye+Me>>1,ze=De+Ue-ye,ht=Ue+de-De,st=33*ye+de,je=33*Me+we,at=33*Ue+De,ot=Math.hypot((vs[2*st+0]+vs[2*je+0])/2-vs[2*at+0],(vs[2*st+1]+vs[2*je+1])/2-vs[2*at+1])>=16;if($a[at]=$a[at]||(ot?1:0),ne<1022){const He=33*(ye+ht>>1)+(de+ze>>1),_t=33*(Me+ht>>1)+(we+ze>>1);$a[at]=$a[at]||$a[He]||$a[_t]}}const E=new Dt,P=new Rn;let B=0;function Z(ne,ae){const de=33*ae+ne;return 0===Rc[de]&&(E.emplaceBack(vs[2*de+0],vs[2*de+1],ne*en/32,ae*en/32),Rc[de]=++B),Rc[de]-1}function q(ne,ae,de,ye,we,Me){const De=ne+de>>1,Ue=ae+ye>>1;if(Math.abs(ne-we)+Math.abs(ae-Me)>1&&$a[33*Ue+De])q(we,Me,ne,ae,De,Ue),q(de,ye,we,Me,De,Ue);else{const ze=Z(ne,ae),ht=Z(de,ye),st=Z(we,Me);P.emplaceBack(ze,ht,st)}}return q(0,0,32,32,32,0),q(32,32,0,0,0,32),{vertices:E,indices:P}}(this.tileID.canonical,i);o=h.vertices,d=h.indices}else{o=new Dt,d=new Rn;for(const{x:f,y}of s)o.emplaceBack(f,y,0,0);const h=vc(o.int16,void 0,4);for(let f=0;f<h.length;f+=3)d.emplaceBack(h[f],h[f+1],h[f+2])}this._tileBoundsBuffer=e.createVertexBuffer(o,Cu.members),this._tileBoundsIndexBuffer=e.createIndexBuffer(d),this._tileBoundsSegments=_i.simpleSegment(0,0,o.length,d.length)}}class Bm{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,i,s){const o=String(i);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][o]=this.stateChanges[e][o]||{},Ke(this.stateChanges[e][o],s),null===this.deletedStates[e]){this.deletedStates[e]={};for(const d in this.state[e])d!==o&&(this.deletedStates[e][d]=null)}else if(this.deletedStates[e]&&null===this.deletedStates[e][o]){this.deletedStates[e][o]={};for(const d in this.state[e][o])s[d]||(this.deletedStates[e][o][d]=null)}else for(const d in s)this.deletedStates[e]&&this.deletedStates[e][o]&&null===this.deletedStates[e][o][d]&&delete this.deletedStates[e][o][d]}removeFeatureState(e,i,s){if(null===this.deletedStates[e])return;const o=String(i);if(this.deletedStates[e]=this.deletedStates[e]||{},s&&void 0!==i)null!==this.deletedStates[e][o]&&(this.deletedStates[e][o]=this.deletedStates[e][o]||{},this.deletedStates[e][o][s]=null);else if(void 0!==i)if(this.stateChanges[e]&&this.stateChanges[e][o])for(s in this.deletedStates[e][o]={},this.stateChanges[e][o])this.deletedStates[e][o][s]=null;else this.deletedStates[e][o]=null;else this.deletedStates[e]=null}getState(e,i){const s=String(i),o=Ke({},(this.state[e]||{})[s],(this.stateChanges[e]||{})[s]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){const d=this.deletedStates[e][i];if(null===d)return{};for(const h in d)delete o[h]}return o}initializeTileState(e,i){e.setFeatureState(this.state,i)}coalesceChanges(e,i){const s={};for(const o in this.stateChanges){this.state[o]=this.state[o]||{};const d={};for(const h in this.stateChanges[o])this.state[o][h]||(this.state[o][h]={}),Ke(this.state[o][h],this.stateChanges[o][h]),d[h]=this.state[o][h];s[o]=d}for(const o in this.deletedStates){this.state[o]=this.state[o]||{};const d={};if(null===this.deletedStates[o])for(const h in this.state[o])d[h]={},this.state[o][h]={};else for(const h in this.deletedStates[o]){if(null===this.deletedStates[o][h])this.state[o][h]={};else for(const f of Object.keys(this.deletedStates[o][h]))delete this.state[o][h][f];d[h]=this.state[o][h]}s[o]=s[o]||{},Ke(s[o],d)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(s).length)for(const o in e)e[o].setFeatureState(s,i)}}class fh{constructor(e){this.size=e,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(e,i){const s=this.toIdx(e,i);return{min:this.minimums[s],max:this.maximums[s]}}isLeaf(e,i){return this.leaves[this.toIdx(e,i)]}toIdx(e,i){return i*this.size+e}}function gh(n,e,i,s){let o=0,d=Number.MAX_VALUE;for(let h=0;h<3;h++)if(Math.abs(s[h])<1e-15){if(i[h]<n[h]||i[h]>e[h])return null}else{const f=1/s[h];let y=(n[h]-i[h])*f,x=(e[h]-i[h])*f;if(y>x){const L=y;y=x,x=L}if(y>o&&(o=y),x<d&&(d=x),o>d)return null}return o}function yh(n,e,i,s,o,d,h,f,y,x,L){const E=s-n,P=o-e,B=d-i,Z=h-n,q=f-e,ne=y-i,ae=L[1]*ne-L[2]*q,de=L[2]*Z-L[0]*ne,ye=L[0]*q-L[1]*Z,we=E*ae+P*de+B*ye;if(Math.abs(we)<1e-15)return null;const Me=1/we,De=x[0]-n,Ue=x[1]-e,ze=x[2]-i,ht=(De*ae+Ue*de+ze*ye)*Me;if(ht<0||ht>1)return null;const st=Ue*B-ze*P,je=ze*E-De*B,at=De*P-Ue*E,ot=(L[0]*st+L[1]*je+L[2]*at)*Me;return ot<0||ht+ot>1?null:(Z*st+q*je+ne*at)*Me}function vh(n,e,i){return(n-e)/(i-e)}function xh(n,e,i,s,o,d,h,f,y){const x=1<<i,L=d-s,E=h-o,P=(n+1)/x*L+s,B=(e+0)/x*E+o,Z=(e+1)/x*E+o;f[0]=(n+0)/x*L+s,f[1]=B,y[0]=P,y[1]=Z}class Mh{constructor(e){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=e,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const i=function(d){const h=Math.ceil(Math.log2(d.dim/8)),f=[];let y=Math.ceil(Math.pow(2,h));const x=1/y,L=(B,Z,q,ne,ae)=>{const de=ne?1:0,ye=(B+1)*q-de,we=Z*q,Me=(Z+1)*q-de;ae[0]=B*q,ae[1]=we,ae[2]=ye,ae[3]=Me};let E=new fh(y);const P=[];for(let B=0;B<y*y;B++){L(B%y,Math.floor(B/y),x,!1,P);const Z=Ja(P[0],P[1],d),q=Ja(P[2],P[1],d),ne=Ja(P[2],P[3],d),ae=Ja(P[0],P[3],d);E.minimums.push(Math.min(Z,q,ne,ae)),E.maximums.push(Math.max(Z,q,ne,ae)),E.leaves.push(1)}for(f.push(E),y/=2;y>=1;y/=2){const B=f[f.length-1];E=new fh(y);for(let Z=0;Z<y*y;Z++){L(Z%y,Math.floor(Z/y),2,!0,P);const q=B.getElevation(P[0],P[1]),ne=B.getElevation(P[2],P[1]),ae=B.getElevation(P[2],P[3]),de=B.getElevation(P[0],P[3]),ye=B.isLeaf(P[0],P[1]),we=B.isLeaf(P[2],P[1]),Me=B.isLeaf(P[2],P[3]),De=B.isLeaf(P[0],P[3]),Ue=Math.min(q.min,ne.min,ae.min,de.min),ze=Math.max(q.max,ne.max,ae.max,de.max),ht=ye&&we&&Me&&De;E.maximums.push(ze),E.minimums.push(Ue),E.leaves.push(ze-Ue<=5&&ht?1:0)}f.push(E)}return f}(this.dem),s=i.length-1,o=i[s];this._addNode(o.minimums[0],o.maximums[0],o.leaves[0]),this._construct(i,0,0,s,0)}raycastRoot(e,i,s,o,d,h,f=1){return gh([e,i,-100],[s,o,this.maximums[0]*f],d,h)}raycast(e,i,s,o,d,h,f=1){if(!this.nodeCount)return null;const y=this.raycastRoot(e,i,s,o,d,h,f);if(null==y)return null;const x=[],L=[],E=[],P=[],B=[{idx:0,t:y,nodex:0,nodey:0,depth:0}];for(;B.length>0;){const{idx:Z,t:q,nodex:ne,nodey:ae,depth:de}=B.pop();if(this.leaves[Z]){xh(ne,ae,de,e,i,s,o,E,P);const we=1<<de,Me=(ne+0)/we,De=(ne+1)/we,Ue=(ae+0)/we,ze=(ae+1)/we,ht=Ja(Me,Ue,this.dem)*f,st=Ja(De,Ue,this.dem)*f,je=Ja(De,ze,this.dem)*f,at=Ja(Me,ze,this.dem)*f,ot=yh(E[0],E[1],ht,P[0],E[1],st,P[0],P[1],je,d,h),He=yh(P[0],P[1],je,E[0],P[1],at,E[0],E[1],ht,d,h),_t=Math.min(null!==ot?ot:Number.MAX_VALUE,null!==He?He:Number.MAX_VALUE);if(_t!==Number.MAX_VALUE)return _t;{const pt=ad([],d,h,q);if(bh(ht,st,at,je,vh(pt[0],E[0],P[0]),vh(pt[1],E[1],P[1]))>=pt[2])return q}continue}let ye=0;for(let we=0;we<this._siblingOffset.length;we++){xh((ne<<1)+this._siblingOffset[we][0],(ae<<1)+this._siblingOffset[we][1],de+1,e,i,s,o,E,P),E[2]=-100,P[2]=this.maximums[this.childOffsets[Z]+we]*f;const Me=gh(E,P,d,h);if(null!=Me){const De=Me;x[we]=De;let Ue=!1;for(let ze=0;ze<ye&&!Ue;ze++)De>=x[L[ze]]&&(L.splice(ze,0,we),Ue=!0);Ue||(L[ye]=we),ye++}}for(let we=0;we<ye;we++){const Me=L[we];B.push({idx:this.childOffsets[Z]+Me,t:x[Me],nodex:(ne<<1)+this._siblingOffset[Me][0],nodey:(ae<<1)+this._siblingOffset[Me][1],depth:de+1})}}return null}_addNode(e,i,s){return this.minimums.push(e),this.maximums.push(i),this.leaves.push(s),this.childOffsets.push(0),this.nodeCount++}_construct(e,i,s,o,d){if(1===e[o].isLeaf(i,s))return;this.childOffsets[d]||(this.childOffsets[d]=this.nodeCount);const h=o-1,f=e[h];let y,x=0;for(let L=0;L<this._siblingOffset.length;L++){const E=2*i+this._siblingOffset[L][0],P=2*s+this._siblingOffset[L][1],B=f.getElevation(E,P),Z=f.isLeaf(E,P),q=this._addNode(B.min,B.max,Z);Z&&(x|=1<<L),y||(y=q)}for(let L=0;L<this._siblingOffset.length;L++)x&1<<L||this._construct(e,2*i+this._siblingOffset[L][0],2*s+this._siblingOffset[L][1],h,y+L)}}function bh(n,e,i,s,o,d){return Gt(Gt(n,i,d),Gt(e,s,d),o)}function Ja(n,e,i){const s=i.dim,o=Ee(n*s-.5,0,s-1),d=Ee(e*s-.5,0,s-1),h=Math.floor(o),f=Math.floor(d),y=Math.min(h+1,s-1),x=Math.min(f+1,s-1);return bh(i.get(h,f),i.get(y,f),i.get(h,x),i.get(y,x),o-h,d-f)}const wh={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class Bc{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(e,i,s,o=!1,d=!1){if(this.uid=e,i.height!==i.width)throw new RangeError("DEM tiles must be square");if(s&&"mapbox"!==s&&"terrarium"!==s)return It(`"${s}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=i.height;const h=this.dim=i.height-2;if(this.data=new Uint32Array(i.data.buffer),this.encoding=s||"mapbox",this.borderReady=o,!o){for(let f=0;f<h;f++)this.data[this._idx(-1,f)]=this.data[this._idx(0,f)],this.data[this._idx(h,f)]=this.data[this._idx(h-1,f)],this.data[this._idx(f,-1)]=this.data[this._idx(f,0)],this.data[this._idx(f,h)]=this.data[this._idx(f,h-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(h,-1)]=this.data[this._idx(h-1,0)],this.data[this._idx(-1,h)]=this.data[this._idx(0,h-1)],this.data[this._idx(h,h)]=this.data[this._idx(h-1,h-1)],d&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Mh(this)}get(e,i,s=!1){const o=new Uint8Array(this.data.buffer);s&&(e=Ee(e,-1,this.dim),i=Ee(i,-1,this.dim));const d=4*this._idx(e,i);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(o[d],o[d+1],o[d+2])}static getUnpackVector(e){return wh[e]}get unpackVector(){return wh[this.encoding]}_idx(e,i){if(e<-1||e>=this.dim+1||i<-1||i>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(i+1)*this.stride+(e+1)}_unpackMapbox(e,i,s){return(256*e*256+256*i+s)/10-1e4}_unpackTerrarium(e,i,s){return 256*e+i+s/256-32768}static pack(e,i){const s=[0,0,0,0],o=Bc.getUnpackVector(i);let d=Math.floor((e+o[3])/o[2]);return s[2]=d%256,d=Math.floor(d/256),s[1]=d%256,d=Math.floor(d/256),s[0]=d,s}getPixels(){return new cr({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(e,i,s){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let o=i*this.dim,d=i*this.dim+this.dim,h=s*this.dim,f=s*this.dim+this.dim;switch(i){case-1:o=d-1;break;case 1:d=o+1}switch(s){case-1:h=f-1;break;case 1:f=h+1}const y=-i*this.dim,x=-s*this.dim;for(let L=h;L<f;L++)for(let E=o;E<d;E++)this.data[this._idx(E,L)]=e.data[this._idx(E+y,L+x)]}onDeserialize(){this._tree&&(this._tree.dem=this)}}ft("DEMData",Bc),ft("DemMinMaxQuadTree",Mh,{omit:["dem"]});class Um{constructor(e,i){this.max=e,this.onRemove=i,this.reset()}reset(){for(const e in this.data)for(const i of this.data[e])i.timeout&&clearTimeout(i.timeout),this.onRemove(i.value);return this.data={},this.order=[],this}add(e,i,s){const o=e.wrapped().key;void 0===this.data[o]&&(this.data[o]=[]);const d={value:i,timeout:void 0};if(void 0!==s&&(d.timeout=setTimeout(()=>{this.remove(e,d)},s)),this.data[o].push(d),this.order.push(o),this.order.length>this.max){const h=this._getAndRemoveByKey(this.order[0]);h&&this.onRemove(h)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const i=this.data[e].shift();return i.timeout&&clearTimeout(i.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),i.value}getByKey(e){const i=this.data[e];return i?i[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,i){if(!this.has(e))return this;const s=e.wrapped().key,o=void 0===i?0:this.data[s].indexOf(i),d=this.data[s][o];return this.data[s].splice(o,1),d.timeout&&clearTimeout(d.timeout),0===this.data[s].length&&delete this.data[s],this.onRemove(d.value),this.order.splice(this.order.indexOf(s),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const i=this._getAndRemoveByKey(this.order[0]);i&&this.onRemove(i)}return this}filter(e){const i=[];for(const s in this.data)for(const o of this.data[s])e(o.value)||i.push(o);for(const s of i)this.remove(s.value.tileID,s)}}class Pl{constructor(e,i,s){this.func=e,this.mask=i,this.range=s}}Pl.ReadOnly=!1,Pl.ReadWrite=!0,Pl.disabled=new Pl(519,Pl.ReadOnly,[0,1]);class Au{constructor(e,i,s,o,d,h){this.test=e,this.ref=i,this.mask=s,this.fail=o,this.depthFail=d,this.pass=h}}Au.disabled=new Au({func:519,mask:0},0,0,7680,7680,7680);class xs{constructor(e,i,s){this.blendFunction=e,this.blendColor=i,this.mask=s}}xs.Replace=[1,0],xs.disabled=new xs(xs.Replace,Vt.transparent,[!1,!1,!1,!1]),xs.unblended=new xs(xs.Replace,Vt.transparent,[!0,!0,!0,!0]),xs.alphaBlended=new xs([1,771],Vt.transparent,[!0,!0,!0,!0]);class Kr{constructor(e,i,s){this.enable=e,this.mode=i,this.frontFace=s}}Kr.disabled=new Kr(!1,1029,2305),Kr.backCCW=new Kr(!0,1029,2305),Kr.backCW=new Kr(!0,1029,2304),Kr.frontCW=new Kr(!0,1028,2304),Kr.frontCCW=new Kr(!0,1028,2305);class Ro extends it{constructor(e,i,s){super(),this.id=e,this._onlySymbols=s,i.on("data",o=>{"source"===o.dataType&&"metadata"===o.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===o.dataType&&"content"===o.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),i.on("error",()=>{this._sourceErrored=!0}),this._source=i,this._tiles={},this._cache=new Um(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Bm}onAdd(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const e in this._tiles){const i=this._tiles[e];if("loaded"!==i.state&&"errored"!==i.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(e,i){return e.isSymbolTile=this._onlySymbols,this._source.loadTile(e,i)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,()=>{})}_abortTile(e){if(this._source.abortTile)return this._source.abortTile(e,()=>{})}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const i in this._tiles){const s=this._tiles[i];s.upload(e),s.prepare(this.map.style.imageManager)}}getIds(){return We(this._tiles).map(e=>e.tileID).sort(Th).map(e=>e.key)}getRenderableIds(e){const i=[];for(const s in this._tiles)this._isIdRenderable(+s,e)&&i.push(this._tiles[s]);return e?i.sort((s,o)=>{const d=s.tileID,h=o.tileID,f=new I(d.canonical.x,d.canonical.y)._rotate(this.transform.angle),y=new I(h.canonical.x,h.canonical.y)._rotate(this.transform.angle);return d.overscaledZ-h.overscaledZ||y.y-f.y||y.x-f.x}).map(s=>s.tileID.key):i.map(s=>s.tileID).sort(Th).map(s=>s.key)}hasRenderableParent(e){const i=this.findLoadedParent(e,0);return!!i&&this._isIdRenderable(i.tileID.key)}_isIdRenderable(e,i){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(i||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const e in this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(+e,"reloading")}}_reloadTile(e,i){const s=this._tiles[e];s&&("loading"!==s.state&&(s.state=i),this._loadTile(s,this._tileLoaded.bind(this,s,e,i)))}_tileLoaded(e,i,s,o){if(o)return e.state="errored",void(404!==o.status?this._source.fire(new xt(o,{tile:e})):this.update(this.transform));e.timeAdded=Dn.now(),"expired"===s&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(i,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new qe("data",{dataType:"source",tile:e,coord:e.tileID,sourceCacheId:this.id}))}_backfillDEM(e){const i=this.getRenderableIds();for(let o=0;o<i.length;o++){const d=i[o];if(e.neighboringTiles&&e.neighboringTiles[d]){const h=this.getTileByID(d);s(e,h),s(h,e)}}function s(o,d){if(!o.dem||o.dem.borderReady)return;o.needsHillshadePrepare=!0,o.needsDEMTextureUpload=!0;let h=d.tileID.canonical.x-o.tileID.canonical.x;const f=d.tileID.canonical.y-o.tileID.canonical.y,y=Math.pow(2,o.tileID.canonical.z),x=d.tileID.key;0===h&&0===f||Math.abs(f)>1||(Math.abs(h)>1&&(1===Math.abs(h+y)?h+=y:1===Math.abs(h-y)&&(h-=y)),d.dem&&o.dem&&(o.dem.backfillBorder(d.dem,h,f),o.neighboringTiles&&o.neighboringTiles[x]&&(o.neighboringTiles[x].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,i,s,o){for(const d in this._tiles){let h=this._tiles[d];if(o[d]||!h.hasData()||h.tileID.overscaledZ<=i||h.tileID.overscaledZ>s)continue;let f=h.tileID;for(;h&&h.tileID.overscaledZ>i+1;){const x=h.tileID.scaledTo(h.tileID.overscaledZ-1);h=this._tiles[x.key],h&&h.hasData()&&(f=x)}let y=f;for(;y.overscaledZ>i;)if(y=y.scaledTo(y.overscaledZ-1),e[y.key]){o[f.key]=f;break}}}findLoadedParent(e,i){if(e.key in this._loadedParentTiles){const s=this._loadedParentTiles[e.key];return s&&s.tileID.overscaledZ>=i?s:null}for(let s=e.overscaledZ-1;s>=i;s--){const o=e.scaledTo(s),d=this._getLoadedTile(o);if(d)return d}}_getLoadedTile(e){const i=this._tiles[e.key];return i&&i.hasData()?i:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}updateCacheSize(e,i){i=i||this._source.tileSize;const s=Math.ceil(e.width/i)+1,o=Math.ceil(e.height/i)+1,d=Math.floor(s*o*5),h="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,d):d;this._cache.setMaxSize(h)}handleWrapJump(e){const i=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,i){const s={};for(const o in this._tiles){const d=this._tiles[o];d.tileID=d.tileID.unwrapTo(d.tileID.wrap+i),s[d.tileID.key]=d}this._tiles=s;for(const o in this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(const o in this._tiles)this._setTileReloadTimer(+o,this._tiles[o])}}update(e,i,s){if(this.transform=e,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!s)return;let o;this.updateCacheSize(e,i),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?o=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(f=>new Zi(f.canonical.z,f.wrap,f.canonical.z,f.canonical.x,f.canonical.y)):(o=e.coveringTiles({tileSize:i||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!s,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(o=o.filter(f=>this._source.hasTile(f)))):o=[];const d=this._updateRetainedTiles(o);if(Lh(this._source.type)&&0!==o.length){const f={},y={},x=Object.keys(d);for(const E of x){const P=d[E],B=this._tiles[E];if(!B||B.fadeEndTime&&B.fadeEndTime<=Dn.now())continue;const Z=this.findLoadedParent(P,Math.max(P.overscaledZ-Ro.maxOverzooming,this._source.minzoom));Z&&(this._addTile(Z.tileID),f[Z.tileID.key]=Z.tileID),y[E]=P}const L=o[o.length-1].overscaledZ;for(const E in this._tiles){const P=this._tiles[E];if(d[E]||!P.hasData())continue;let B=P.tileID;for(;B.overscaledZ>L;){B=B.scaledTo(B.overscaledZ-1);const Z=this._tiles[B.key];if(Z&&Z.hasData()&&y[B.key]){d[E]=P.tileID;break}}}for(const E in f)d[E]||(this._coveredTiles[E]=!0,d[E]=f[E])}for(const f in d)this._tiles[f].clearFadeHold();const h=function(f,y){const x=[];for(const L in f)L in y||x.push(L);return x}(this._tiles,d);for(const f of h){const y=this._tiles[f];y.hasSymbolBuckets&&!y.holdingForFade()?y.setHoldDuration(this.map._fadeDuration):y.hasSymbolBuckets&&!y.symbolFadeFinished()||this._removeTile(+f)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e)}_updateRetainedTiles(e){const i={};if(0===e.length)return i;const s={},o=e.reduce((x,L)=>Math.min(x,L.overscaledZ),1/0),d=e[0].overscaledZ,h=Math.max(d-Ro.maxOverzooming,this._source.minzoom),f=Math.max(d+Ro.maxUnderzooming,this._source.minzoom),y={};for(const x of e){const L=this._addTile(x);i[x.key]=x,L.hasData()||o<this._source.maxzoom&&(y[x.key]=x)}this._retainLoadedChildren(y,o,f,i);for(const x of e){let L=this._tiles[x.key];if(L.hasData())continue;if(x.canonical.z>=this._source.maxzoom){const P=x.children(this._source.maxzoom)[0],B=this.getTile(P);if(B&&B.hasData()){i[P.key]=P;continue}}else{const P=x.children(this._source.maxzoom);if(i[P[0].key]&&i[P[1].key]&&i[P[2].key]&&i[P[3].key])continue}let E=L.wasRequested();for(let P=x.overscaledZ-1;P>=h;--P){const B=x.scaledTo(P);if(s[B.key]||(s[B.key]=!0,L=this.getTile(B),!L&&E&&(L=this._addTile(B)),L&&(i[B.key]=B,E=L.wasRequested(),L.hasData())))break}}return i}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const i=[];let s,o=this._tiles[e].tileID;for(;o.overscaledZ>0;){if(o.key in this._loadedParentTiles){s=this._loadedParentTiles[o.key];break}i.push(o.key);const d=o.scaledTo(o.overscaledZ-1);if(s=this._getLoadedTile(d),s)break;o=d}for(const d of i)this._loadedParentTiles[d]=s}}_addTile(e){let i=this._tiles[e.key];if(i)return i;i=this._cache.getAndRemove(e),i&&(this._setTileReloadTimer(e.key,i),i.tileID=e,this._state.initializeTileState(i,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,i)));const s=Boolean(i);if(!s){const o=this.map?this.map.painter:null;i=new ph(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,o,"raster"===this._source.type||"raster-dem"===this._source.type),this._loadTile(i,this._tileLoaded.bind(this,i,e.key,i.state))}return i?(i.uses++,this._tiles[e.key]=i,s||this._source.fire(new qe("dataloading",{tile:i,coord:i.tileID,dataType:"source"})),i):null}_setTileReloadTimer(e,i){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const s=i.getExpiryTimeout();s&&(this._timers[e]=setTimeout(()=>{this._reloadTile(e,"expired"),delete this._timers[e]},s))}_removeTile(e){const i=this._tiles[e];i&&(i.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),i.uses>0||(i.hasData()&&"reloading"!==i.state?this._cache.add(i.tileID,i,i.getExpiryTimeout()):(i.aborted=!0,this._abortTile(i),this._unloadTile(i))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(+e);this._source._clear&&this._source._clear(),this._cache.reset()}tilesIn(e,i,s){const o=[],d=this.transform;if(!d)return o;for(const h in this._tiles){const f=this._tiles[h];if(s&&f.clearQueryDebugViz(),f.holdingForFade())continue;const y=e.containsTile(f,d,i);y&&o.push(y)}return o}getVisibleCoordinates(e){const i=this.getRenderableIds(e).map(s=>this._tiles[s].tileID);for(const s of i)s.projMatrix=this.transform.calculateProjMatrix(s.toUnwrapped());return i}hasTransition(){if(this._source.hasTransition())return!0;if(Lh(this._source.type))for(const e in this._tiles){const i=this._tiles[e];if(void 0!==i.fadeEndTime&&i.fadeEndTime>=Dn.now())return!0}return!1}setFeatureState(e,i,s){this._state.updateState(e=e||"_geojsonTileLayer",i,s)}removeFeatureState(e,i,s){this._state.removeFeatureState(e=e||"_geojsonTileLayer",i,s)}getFeatureState(e,i){return this._state.getState(e=e||"_geojsonTileLayer",i)}setDependencies(e,i,s){const o=this._tiles[e];o&&o.setDependencies(i,s)}reloadTilesForDependencies(e,i){for(const s in this._tiles)this._tiles[s].hasDependency(e,i)&&this._reloadTile(+s,"reloading");this._cache.filter(s=>!s.hasDependency(e,i))}}function Th(n,e){const i=Math.abs(2*n.wrap)-+(n.wrap<0),s=Math.abs(2*e.wrap)-+(e.wrap<0);return n.overscaledZ-e.overscaledZ||s-i||e.canonical.y-n.canonical.y||e.canonical.x-n.canonical.x}function Lh(n){return"raster"===n||"image"===n||"video"===n}Ro.maxOverzooming=10,Ro.maxUnderzooming=3;class Uc{constructor(e,i,s){this._demTile=e,this._dem=this._demTile.dem,this._scale=i,this._offset=s}static create(e,i,s){const o=s||e.findDEMTileFor(i);if(!o||!o.dem)return;const d=o.dem,h=o.tileID,f=1<<i.canonical.z-h.canonical.z;return new Uc(o,o.tileSize/en/f,[(i.canonical.x/f-h.canonical.x)*d.dim,(i.canonical.y/f-h.canonical.y)*d.dim])}tileCoordToPixel(e,i){const s=i*this._scale+this._offset[1],o=Math.floor(e*this._scale+this._offset[0]),d=Math.floor(s);return new I(o,d)}getElevationAt(e,i,s,o){const d=e*this._scale+this._offset[0],h=i*this._scale+this._offset[1],f=Math.floor(d),y=Math.floor(h),x=this._dem;return o=!!o,s?Gt(Gt(x.get(f,y,o),x.get(f,y+1,o),h-y),Gt(x.get(f+1,y,o),x.get(f+1,y+1,o),h-y),d-f):x.get(f,y,o)}getElevationAtPixel(e,i,s){return this._dem.get(e,i,!!s)}getMeterToDEM(e){return(1<<this._demTile.tileID.canonical.z)*qc(1,e)*this._dem.stride}}class kh{constructor(e,i){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Vr(en,16,0),this.featureIndexArray=new V,this.promoteId=i}insert(e,i,s,o,d,h=0){const f=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(s,o,d,h);const y=this.grid;for(let x=0;x<i.length;x++){const L=i[x],E=[1/0,1/0,-1/0,-1/0];for(let P=0;P<L.length;P++){const B=L[P];E[0]=Math.min(E[0],B.x),E[1]=Math.min(E[1],B.y),E[2]=Math.max(E[2],B.x),E[3]=Math.max(E[3],B.y)}E[0]<en&&E[1]<en&&E[2]>=0&&E[3]>=0&&y.insert(f,E[0],E[1],E[2],E[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Fo.VectorTile(new nc(this.rawTileData)).layers,this.sourceLayerCoder=new dh(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const e in this.vtLayers)this.vtFeatures[e]=[]}return this.vtLayers}query(e,i,s,o){this.loadVTLayers();const d=e.params||{},h=cs(d.filter),f=e.tileResult,y=e.transform,x=f.bufferedTilespaceBounds,L=this.grid.query(x.min.x,x.min.y,x.max.x,x.max.y,(Z,q,ne,ae)=>Xu(f.bufferedTilespaceGeometry,Z,q,ne,ae));L.sort(jm);let E=null;y.elevation&&L.length>0&&(E=Uc.create(y.elevation,this.tileID));const P={};let B;for(let Z=0;Z<L.length;Z++){const q=L[Z];if(q===B)continue;B=q;const ne=this.featureIndexArray.get(q);let ae=null;this.loadMatchingFeature(P,ne,h,d.layers,d.availableImages,i,s,o,(de,ye,we,Me=0)=>(ae||(ae=ta(de,this.tileID.canonical,e.tileTransform)),ye.queryIntersectsFeature(f,de,we,ae,this.z,e.transform,e.pixelPosMatrix,E,Me)))}return P}loadMatchingFeature(e,i,s,o,d,h,f,y,x){const{featureIndex:L,bucketIndex:E,sourceLayerIndex:P,layoutVertexArrayOffset:B}=i,Z=this.bucketLayerIDs[E];if(o&&!function(de,ye){for(let we=0;we<de.length;we++)if(ye.indexOf(de[we])>=0)return!0;return!1}(o,Z))return;const q=this.sourceLayerCoder.decode(P),ne=this.vtLayers[q].feature(L);if(s.needGeometry){const de=zo(ne,!0);if(!s.filter(new z(this.tileID.overscaledZ),de,this.tileID.canonical))return}else if(!s.filter(new z(this.tileID.overscaledZ),ne))return;const ae=this.getId(ne,q);for(let de=0;de<Z.length;de++){const ye=Z[de];if(o&&o.indexOf(ye)<0)continue;const we=h[ye];if(!we)continue;let Me={};void 0!==ae&&y&&(Me=y.getState(we.sourceLayer||"_geojsonTileLayer",ae));const De=Ke({},f[ye]);De.paint=Dh(De.paint,we.paint,ne,Me,d),De.layout=Dh(De.layout,we.layout,ne,Me,d);const Ue=!x||x(ne,we,Me,B);if(!Ue)continue;const ze=new hh(ne,this.z,this.x,this.y,ae);ze.layer=De;let ht=e[ye];void 0===ht&&(ht=e[ye]=[]),ht.push({featureIndex:L,feature:ze,intersectionZ:Ue})}}lookupSymbolFeatures(e,i,s,o,d,h,f,y){const x={};this.loadVTLayers();const L=cs(d);for(const E of e)this.loadMatchingFeature(x,{bucketIndex:s,sourceLayerIndex:o,featureIndex:E,layoutVertexArrayOffset:0},L,h,f,y,i);return x}loadFeature(e){const{featureIndex:i,sourceLayerIndex:s}=e;this.loadVTLayers();const o=this.sourceLayerCoder.decode(s),d=this.vtFeatures[o];if(d[i])return d[i];const h=this.vtLayers[o].feature(i);return d[i]=h,h}hasLayer(e){for(const i of this.bucketLayerIDs)for(const s of i)if(e===s)return!0;return!1}getId(e,i){let s=e.id;return this.promoteId&&(s=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[i]],"boolean"==typeof s&&(s=Number(s))),s}}function Dh(n,e,i,s,o){return Rt(n,(d,h)=>{const f=e instanceof le?e.get(h):null;return f&&f.evaluate?f.evaluate(i,s,o):f})}function jm(n,e){return e-n}ft("FeatureIndex",kh,{omit:["rawTileData","sourceLayerCoder"]});class Eh{constructor(e){const i={},s=[];for(const f in e){const y=e[f],x=i[f]={};for(const L in y.glyphs){const E=y.glyphs[+L];if(!E||0===E.bitmap.width||0===E.bitmap.height)continue;const P=E.metrics.localGlyph?2:1,B={x:0,y:0,w:E.bitmap.width+2*P,h:E.bitmap.height+2*P};s.push(B),x[L]=B}}const{w:o,h:d}=mu(s),h=new Na({width:o||1,height:d||1});for(const f in e){const y=e[f];for(const x in y.glyphs){const L=y.glyphs[+x];if(!L||0===L.bitmap.width||0===L.bitmap.height)continue;const E=i[f][x],P=L.metrics.localGlyph?2:1;Na.copy(L.bitmap,h,{x:0,y:0},{x:E.x+P,y:E.y+P},L.bitmap)}}this.image=h,this.positions=i}}ft("GlyphAtlas",Eh);class Zm{constructor(e){this.tileID=new Zi(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.tileZoom=e.tileZoom,this.uid=e.uid,this.zoom=e.zoom,this.canonical=e.tileID.canonical,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId,this.enableTerrain=!!e.enableTerrain,this.isSymbolTile=e.isSymbolTile,e.projection&&(this.tileTransform=Fc(e.tileID.canonical,e.projection))}parse(e,i,s,o,d){this.status="parsing",this.data=e,this.collisionBoxArray=new oi;const h=new dh(Object.keys(e.layers).sort()),f=new kh(this.tileID,this.promoteId);f.bucketLayerIDs=[];const y={},x=new Eu(256,256),L={featureIndex:f,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:x,availableImages:s},E=i.familiesBySource[this.source];for(const Me in E){const De=e.layers[Me];if(!De)continue;let Ue=!1,ze=!1;for(const je of E[Me])"symbol"===je[0].type?Ue=!0:ze=!0;if(!0===this.isSymbolTile&&!Ue||!1===this.isSymbolTile&&!ze)continue;1===De.version&&It(`Vector tile source "${this.source}" layer "${Me}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const ht=h.encode(Me),st=[];for(let je=0;je<De.length;je++){const at=De.feature(je),ot=f.getId(at,Me);st.push({feature:at,id:ot,index:je,sourceLayerIndex:ht})}for(const je of E[Me]){const at=je[0];void 0!==this.isSymbolTile&&"symbol"===at.type!==this.isSymbolTile||at.minzoom&&this.zoom<Math.floor(at.minzoom)||at.maxzoom&&this.zoom>=at.maxzoom||"none"!==at.visibility&&(Ou(je,this.zoom,s),(y[at.id]=at.createBucket({index:f.bucketLayerIDs.length,layers:je,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ht,sourceID:this.source,enableTerrain:this.enableTerrain,availableImages:s})).populate(st,L,this.tileID.canonical,this.tileTransform),f.bucketLayerIDs.push(je.map(ot=>ot.id)))}}let P,B,Z,q;x.trim();const ne={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},ae=Rt(L.glyphDependencies,Me=>Object.keys(Me).map(Number));Object.keys(ae).length?o.send("getGlyphs",{uid:this.uid,stacks:ae},(Me,De)=>{P||(P=Me,B=De,we.call(this))},void 0,!1,ne):B={};const de=Object.keys(L.iconDependencies);de.length?o.send("getImages",{icons:de,source:this.source,tileID:this.tileID,type:"icons"},(Me,De)=>{P||(P=Me,Z=De,we.call(this))},void 0,!1,ne):Z={};const ye=Object.keys(L.patternDependencies);function we(){if(P)return d(P);if(B&&Z&&q){const Me=new Eh(B),De=new Fd(Z,q);for(const Ue in y){const ze=y[Ue];ze instanceof qa?(Ou(ze.layers,this.zoom,s),wm(ze,B,Me.positions,Z,De.iconPositions,this.showCollisionBoxes,s,this.tileID.canonical,this.tileZoom)):ze.hasPattern&&(ze instanceof Lc||ze instanceof Tc||ze instanceof du)&&(Ou(ze.layers,this.zoom,s),ze.addFeatures(L,this.tileID.canonical,De.patternPositions,s))}this.status="done",d(null,{buckets:We(y).filter(Ue=>!Ue.isEmpty()),featureIndex:f,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Me.image,lineAtlas:x,imageAtlas:De,glyphMap:this.returnDependencies?B:null,iconMap:this.returnDependencies?Z:null,glyphPositions:this.returnDependencies?Me.positions:null})}}ye.length?o.send("getImages",{icons:ye,source:this.source,tileID:this.tileID,type:"patterns"},(Me,De)=>{P||(P=Me,q=De,we.call(this))},void 0,!1,ne):q={},we.call(this)}}function Ou(n,e,i){const s=new z(e);for(const o of n)o.recalculate(s,i)}class Sh{constructor(e){this.entries={},this.scheduler=e}request(e,i,s,o){const d=this.entries[e]=this.entries[e]||{callbacks:[]};if(d.result){const[h,f]=d.result;return this.scheduler?this.scheduler.add(()=>{o(h,f)},i):o(h,f),()=>{}}return d.callbacks.push(o),d.cancel||(d.cancel=s((h,f)=>{d.result=[h,f];for(const y of d.callbacks)this.scheduler?this.scheduler.add(()=>{y(h,f)},i):y(h,f);setTimeout(()=>delete this.entries[e],3e3)})),()=>{d.result||(d.callbacks=d.callbacks.filter(h=>h!==o),d.callbacks.length||(d.cancel(),delete this.entries[e]))}}}function Ch(n,e,i){const s=JSON.stringify(n.request);return n.data&&(this.deduped.entries[s]={result:[null,n.data]}),this.deduped.request(s,{type:"parseTile",isSymbolTile:n.isSymbolTile,zoom:n.tileZoom},o=>{const d=N(n.request,(h,f,y,x)=>{h?o(h):f&&o(null,{vectorTile:i?void 0:new Fo.VectorTile(new nc(f)),rawData:f,cacheControl:y,expires:x})});return()=>{d.cancel(),o()}},e)}var Nm={name:"albers",range:[4,7],center:[-96,37.5],parallels:[29.5,45.5],conic:!0,initializeConstants(){if(this.constants&&dd(this.parallels,this.constants.parallels))return;const n=Math.sin(he(this.parallels[0])),e=(n+Math.sin(he(this.parallels[1])))/2,i=1+n*(2*e-n),s=Math.sqrt(i)/e;this.constants={n:e,c:i,r0:s,parallels:this.parallels}},project(n,e){this.initializeConstants();const i=he(n-this.center[0]),s=he(e),{n:o,c:d,r0:h}=this.constants,f=Math.sqrt(d-2*o*Math.sin(s))/o;return{x:f*Math.sin(i*o),y:f*Math.cos(i*o)-h}},unproject(n,e){this.initializeConstants();const{n:i,c:s,r0:o}=this.constants,d=o+e;let h=Math.atan2(n,Math.abs(d))*Math.sign(d);d*i<0&&(h-=Math.PI*Math.sign(n)*Math.sign(d));const f=he(this.center[0])*i;h=Pe(h,-Math.PI-f,Math.PI-f);const y=ge(h/i)+this.center[0],x=Math.asin(Ee((s-(n*n+d*d)*i*i)/(2*i),-1,1)),L=Ee(ge(x),-85.051129,Za);return new hn(y,L)}};const ac=1.340264,oc=-.081106,lc=893e-6,cc=.003796,jc=Math.sqrt(3)/2;var Hm={name:"equalEarth",center:[0,0],range:[3.5,7],project(n,e){e=e/180*Math.PI,n=n/180*Math.PI;const i=Math.asin(jc*Math.sin(e)),s=i*i,o=s*s*s;return{x:.5*(n*Math.cos(i)/(jc*(ac+3*oc*s+o*(7*lc+9*cc*s)))/Math.PI+.5),y:1-.5*(i*(ac+oc*s+o*(lc+cc*s))/Math.PI+1)}},unproject(n,e){n=(2*n-.5)*Math.PI;let i=e=(2*(1-e)-1)*Math.PI,s=i*i,o=s*s*s;for(let x,L,E,P=0;P<12&&(L=i*(ac+oc*s+o*(lc+cc*s))-e,E=ac+3*oc*s+o*(7*lc+9*cc*s),x=L/E,i=Ee(i-x,-Math.PI/3,Math.PI/3),s=i*i,o=s*s*s,!(Math.abs(x)<1e-12));++P);const d=jc*n*(ac+3*oc*s+o*(7*lc+9*cc*s))/Math.cos(i),h=Math.asin(Math.sin(i)/jc),f=Ee(180*d/Math.PI,-180,180),y=Ee(180*h/Math.PI,-85.051129,Za);return new hn(f,y)}},Wm={name:"equirectangular",wrap:!0,center:[0,0],range:[3.5,7],project:(n,e)=>({x:.5+n/360,y:.5-e/360}),unproject(n,e){const i=360*(n-.5),s=Ee(360*(.5-e),-85.051129,Za);return new hn(i,s)}};const Al=Math.PI/2;function Zc(n){return Math.tan((Al+n)/2)}var Vm={name:"lambertConformalConic",range:[3.5,7],center:[0,30],parallels:[30,30],conic:!0,initializeConstants(){if(this.constants&&dd(this.parallels,this.constants.parallels))return;const n=he(this.parallels[0]),e=he(this.parallels[1]),i=Math.cos(n),s=n===e?Math.sin(n):Math.log(i/Math.cos(e))/Math.log(Zc(e)/Zc(n)),o=i*Math.pow(Zc(n),s)/s;this.constants={n:s,f:o,parallels:this.parallels}},project(n,e){this.initializeConstants(),e=he(e),n=he(n-this.center[0]);const i=1e-6,{n:s,f:o}=this.constants;o>0?e<-Al+i&&(e=-Al+i):e>Al-i&&(e=Al-i);const d=o/Math.pow(Zc(e),s),h=d*Math.sin(s*n),f=o-d*Math.cos(s*n);return{x:.5*(h/Math.PI+.5),y:1-.5*(f/Math.PI+.5)}},unproject(n,e){this.initializeConstants(),n=(2*n-.5)*Math.PI,e=(2*(1-e)-.5)*Math.PI;const{n:i,f:s}=this.constants,o=s-e,d=Math.sign(o),h=Math.sign(i)*Math.sqrt(n*n+o*o);let f=Math.atan2(n,Math.abs(o))*d;o*i<0&&(f-=Math.PI*Math.sign(n)*d);const y=Ee(ge(f/i)+this.center[0],-180,180),x=Ee(ge(2*Math.atan(Math.pow(s/h,1/i))-Al),-85.051129,Za);return new hn(y,x)}},qm={name:"mercator",wrap:!0,center:[0,0],project:(n,e)=>({x:Wc(n),y:Vc(e)}),unproject(n,e){const i=Oo(n),s=fs(e);return new hn(i,s)}};const Ph=he(Za);var Gm={name:"naturalEarth",center:[0,0],range:[3.5,7],project(n,e){const i=(e=he(e))*e,s=i*i;return{x:.5*((n=he(n))*(.8707-.131979*i+s*(s*(.003971*i-.001529*s)-.013791))/Math.PI+.5),y:1-.5*(e*(1.007226+i*(.015085+s*(.028874*i-.044475-.005916*s)))/Math.PI+1)}},unproject(n,e){n=(2*n-.5)*Math.PI;let i=e=(2*(1-e)-1)*Math.PI,s=25,o=0,d=i*i;do{d=i*i;const y=d*d;o=(i*(1.007226+d*(.015085+y*(.028874*d-.044475-.005916*y)))-e)/(1.007226+d*(.045255+y*(.259866*d-.311325-.005916*11*y))),i=Ee(i-o,-Ph,Ph)}while(Math.abs(o)>1e-6&&--s>0);d=i*i;const h=Ee(ge(n/(.8707+d*(d*(d*d*d*(.003971-.001529*d)-.013791)-.131979))),-180,180),f=ge(i);return new hn(h,f)}};const Ah=he(Za),Ih={albers:Nm,equalEarth:Hm,equirectangular:Wm,lambertConformalConic:Vm,mercator:qm,naturalEarth:Gm,winkelTripel:{name:"winkelTripel",center:[0,0],range:[3.5,7],project(n,e){e=he(e),n=he(n);const i=Math.cos(e),s=2/Math.PI,o=Math.acos(i*Math.cos(n/2)),d=Math.sin(o)/o,h=.5*(n*s+2*i*Math.sin(n/2)/d)||0,f=.5*(e+Math.sin(e)/d)||0;return{x:.5*(h/Math.PI+.5),y:1-.5*(f/Math.PI+1)}},unproject(n,e){let i=n=(2*n-.5)*Math.PI,s=e=(2*(1-e)-1)*Math.PI,o=25;const d=1e-6;let h=0,f=0;do{const y=Math.cos(s),x=Math.sin(s),L=2*x*y,E=x*x,P=y*y,B=Math.cos(i/2),Z=Math.sin(i/2),q=2*B*Z,ne=Z*Z,ae=1-P*B*B,de=ae?1/ae:0,ye=ae?Math.acos(y*B)*Math.sqrt(1/ae):0,we=.5*(2*ye*y*Z+2*i/Math.PI)-n,Me=.5*(ye*x+s)-e,De=.5*de*(P*ne+ye*y*B*E)+1/Math.PI,Ue=de*(q*L/4-ye*x*Z),ze=.125*de*(L*Z-ye*x*P*q),ht=.5*de*(E*B+ye*ne*y)+.5,st=Ue*ze-ht*De;h=(Me*Ue-we*ht)/st,f=(we*ze-Me*De)/st,i=Ee(i-h,-Math.PI,Math.PI),s=Ee(s-f,-Ah,Ah)}while((Math.abs(h)>d||Math.abs(f)>d)&&--o>0);return new hn(ge(i),ge(s))}}};r.ARRAY_TYPE=Oi,r.AUTH_ERR_MSG=Jn,r.Actor=class{constructor(n,e,i){this.target=n,this.parent=e,this.mapId=i,this.callbacks={},this.cancelCallbacks={},dt(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=yn()?n:W,this.scheduler=new Fm}send(n,e,i,s,o=!1,d){const h=Math.round(1e18*Math.random()).toString(36).substring(0,10);i&&(i.metadata=d,this.callbacks[h]=i);const f=zt(this.globalScope)?void 0:[];return this.target.postMessage({id:h,type:n,hasCallback:!!i,targetMapId:s,mustQueue:o,sourceMapId:this.mapId,data:Ns(e,f)},f),{cancel:()=>{i&&delete this.callbacks[h],this.target.postMessage({id:h,type:"<cancel>",targetMapId:s,sourceMapId:this.mapId})}}}receive(n){const e=n.data,i=e.id;if(i&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){const s=this.cancelCallbacks[i];delete this.cancelCallbacks[i],s&&s.cancel()}else if(e.mustQueue||yn()){const s=this.callbacks[i];this.cancelCallbacks[i]=this.scheduler.add(()=>this.processTask(i,e),s&&s.metadata||{type:"message"})}else this.processTask(i,e)}processTask(n,e){if("<response>"===e.type){const i=this.callbacks[n];delete this.callbacks[n],i&&(e.error?i(Hs(e.error)):i(null,Hs(e.data)))}else{const i=zt(this.globalScope)?void 0:[],s=e.hasCallback?(d,h)=>{delete this.cancelCallbacks[n],this.target.postMessage({id:n,type:"<response>",sourceMapId:this.mapId,error:d?Ns(d):null,data:Ns(h,i)},i)}:d=>{},o=Hs(e.data);if(this.parent[e.type])this.parent[e.type](e.sourceMapId,o,s);else if(this.parent.getWorkerSource){const d=e.type.split(".");this.parent.getWorkerSource(e.sourceMapId,d[0],o.source)[d[1]](o,s)}else s(new Error(`Could not find function ${e.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},r.CanonicalTileID=Su,r.Color=Vt,r.ColorMode=xs,r.CullFaceMode=Kr,r.DEMData=Bc,r.DataConstantProperty=X,r.DedupedRequest=Sh,r.DepthMode=Pl,r.EXTENT=en,r.Elevation=class{getAtPointOrZero(n,e=0){return this.getAtPoint(n,e)||0}getAtPoint(n,e,i=!0){null==e&&(e=null);const s=this._source();if(!s||n.y<0||n.y>1)return e;const o=s.getSource().maxzoom,d=1<<o,h=Math.floor(n.x),f=n.x-h,y=new Zi(o,h,o,Math.floor(f*d),Math.floor(n.y*d)),x=this.findDEMTileFor(y);if(!x||!x.dem)return e;const L=x.dem,E=1<<x.tileID.canonical.z,P=(f*E-x.tileID.canonical.x)*L.dim,B=(n.y*E-x.tileID.canonical.y)*L.dim,Z=Math.floor(P),q=Math.floor(B);return(i?this.exaggeration():1)*Gt(Gt(L.get(Z,q),L.get(Z,q+1),B-q),Gt(L.get(Z+1,q),L.get(Z+1,q+1),B-q),P-Z)}getAtTileOffset(n,e,i){const s=1<<n.canonical.z;return this.getAtPointOrZero(new pc(n.wrap+(n.canonical.x+e/en)/s,(n.canonical.y+i/en)/s))}getForTilePoints(n,e,i,s){const o=Uc.create(this,n,s);return!!o&&(e.forEach(d=>{d[2]=this.exaggeration()*o.getElevationAt(d[0],d[1],i)}),!0)}getMinMaxForTile(n){const e=this.findDEMTileFor(n);if(!e||!e.dem)return null;const i=e.dem.tree,s=e.tileID,o=1<<n.canonical.z-s.canonical.z;let d=n.canonical.x/o-s.canonical.x,h=n.canonical.y/o-s.canonical.y,f=0;for(let y=0;y<n.canonical.z-s.canonical.z&&!i.leaves[f];y++){d*=2,h*=2;const x=2*Math.floor(h)+Math.floor(d);f=i.childOffsets[f]+x,d%=1,h%=1}return{min:this.exaggeration()*i.minimums[f],max:this.exaggeration()*i.maximums[f]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(n,e,i){throw new Error("Pure virtual method called.")}pointCoordinate(n){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(n){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},r.ErrorEvent=xt,r.EvaluationParameters=z,r.Event=qe,r.Evented=it,r.GlyphManager=Sl,r.ImagePosition=pu,r.LineAtlas=Eu,r.LngLat=hn,r.LngLatBounds=Yo,r.LocalGlyphMode=vu,r.MAX_MERCATOR_LATITUDE=Za,r.MAX_SAFE_INTEGER=oe,r.MercatorCoordinate=pc,r.ONE_EM=24,r.OverscaledTileID=Zi,r.Properties=Re,r.RGBAImage=cr,r.RequestManager=class{constructor(n,e,i){this._transformRequestFn=n,this._customAccessToken=e,this._silenceAuthErrors=!!i,this._createSkuToken()}_createSkuToken(){const n=function(){let e="";for(let i=0;i<10;i++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",In,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=n.token,this._skuTokenExpiresAt=n.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(n,e){return this._transformRequestFn&&this._transformRequestFn(n,e)||{url:n}}normalizeStyleURL(n,e){if(!fi(n))return n;const i=Si(n);return i.path=`/styles/v1${i.path}`,this._makeAPIURL(i,this._customAccessToken||e)}normalizeGlyphsURL(n,e){if(!fi(n))return n;const i=Si(n);return i.path=`/fonts/v1${i.path}`,this._makeAPIURL(i,this._customAccessToken||e)}normalizeSourceURL(n,e){if(!fi(n))return n;const i=Si(n);return i.path=`/v4/${i.authority}.json`,i.params.push("secure"),this._makeAPIURL(i,this._customAccessToken||e)}normalizeSpriteURL(n,e,i,s){const o=Si(n);return fi(n)?(o.path=`/styles/v1${o.path}/sprite${e}${i}`,this._makeAPIURL(o,this._customAccessToken||s)):(o.path+=`${e}${i}`,Hn(o))}normalizeTileURL(n,e,i){if(this._isSkuTokenExpired()&&this._createSkuToken(),n&&!fi(n))return n;const s=Si(n);s.path=s.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${e||i&&"raster"!==s.authority&&512===i?"@2x":""}${En.supported?".webp":"$1"}`),"raster"===s.authority?s.path=`/${Ht.RASTER_URL_PREFIX}${s.path}`:(s.path=s.path.replace(/^.+\/v4\//,"/"),s.path=`/${Ht.TILE_URL_VERSION}${s.path}`);const o=this._customAccessToken||function(d){for(const h of d){const f=h.match(/^access_token=(.*)$/);if(f)return f[1]}return null}(s.params)||Ht.ACCESS_TOKEN;return Ht.REQUIRE_ACCESS_TOKEN&&o&&this._skuToken&&s.params.push(`sku=${this._skuToken}`),this._makeAPIURL(s,o)}canonicalizeTileURL(n,e){const i=Si(n);if(!i.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!i.path.match(/\.[\w]+$/))return n;let s="mapbox://";i.path.match(/^\/raster\/v1\//)?s+=`raster/${i.path.replace(`/${Ht.RASTER_URL_PREFIX}/`,"")}`:s+=`tiles/${i.path.replace(`/${Ht.TILE_URL_VERSION}/`,"")}`;let o=i.params;return e&&(o=o.filter(d=>!d.match(/^access_token=/))),o.length&&(s+=`?${o.join("&")}`),s}canonicalizeTileset(n,e){const i=!!e&&fi(e),s=[];for(const o of n.tiles||[])tr(o)?s.push(this.canonicalizeTileURL(o,i)):s.push(o);return s}_makeAPIURL(n,e){const i="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",s=Si(Ht.API_URL);if(n.protocol=s.protocol,n.authority=s.authority,"http"===n.protocol){const o=n.params.indexOf("secure");o>=0&&n.params.splice(o,1)}if("/"!==s.path&&(n.path=`${s.path}${n.path}`),!Ht.REQUIRE_ACCESS_TOKEN)return Hn(n);if(e=e||Ht.ACCESS_TOKEN,!this._silenceAuthErrors){if(!e)throw new Error(`An API access token is required to use Mapbox GL. ${i}`);if("s"===e[0])throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${i}`)}return n.params=n.params.filter(o=>-1===o.indexOf("access_token")),n.params.push(`access_token=${e||""}`),Hn(n)}},r.ResourceType=Gi,r.SegmentVector=_i,r.SourceCache=Ro,r.StencilMode=Au,r.StructArrayLayout1ui2=Qn,r.StructArrayLayout2f1f2i16=ai,r.StructArrayLayout2i4=gt,r.StructArrayLayout2ui4=vn,r.StructArrayLayout3f12=St,r.StructArrayLayout3ui6=Rn,r.StructArrayLayout4i8=Dt,r.Texture=zc,r.Tile=ph,r.Transitionable=Q,r.Uniform1f=_c,r.Uniform1i=class extends Xs{constructor(n,e){super(n,e),this.current=0}set(n){this.current!==n&&(this.current=n,this.gl.uniform1i(this.location,n))}},r.Uniform2f=class extends Xs{constructor(n,e){super(n,e),this.current=[0,0]}set(n){n[0]===this.current[0]&&n[1]===this.current[1]||(this.current=n,this.gl.uniform2f(this.location,n[0],n[1]))}},r.Uniform3f=class extends Xs{constructor(n,e){super(n,e),this.current=[0,0,0]}set(n){n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]||(this.current=n,this.gl.uniform3f(this.location,n[0],n[1],n[2]))}},r.Uniform4f=ju,r.UniformColor=Zu,r.UniformMatrix2f=class extends Xs{constructor(n,e){super(n,e),this.current=Bh}set(n){for(let e=0;e<4;e++)if(n[e]!==this.current[e]){this.current=n,this.gl.uniformMatrix2fv(this.location,!1,n);break}}},r.UniformMatrix3f=class extends Xs{constructor(n,e){super(n,e),this.current=Rh}set(n){for(let e=0;e<9;e++)if(n[e]!==this.current[e]){this.current=n,this.gl.uniformMatrix3fv(this.location,!1,n);break}}},r.UniformMatrix4f=class extends Xs{constructor(n,e){super(n,e),this.current=Fh}set(n){if(n[12]!==this.current[12]||n[0]!==this.current[0])return this.current=n,void this.gl.uniformMatrix4fv(this.location,!1,n);for(let e=1;e<16;e++)if(n[e]!==this.current[e]){this.current=n,this.gl.uniformMatrix4fv(this.location,!1,n);break}}},r.UnwrappedTileID=uh,r.ValidationError=Oe,r.VectorTileWorkerSource=class extends it{constructor(n,e,i,s,o){super(),this.actor=n,this.layerIndex=e,this.availableImages=i,this.loadVectorData=o||Ch,this.loading={},this.loaded={},this.deduped=new Sh(n.scheduler),this.isSpriteLoaded=s,this.scheduler=n.scheduler}loadTile(n,e){const i=n.uid,s=n&&n.request,o=s&&s.collectResourceTiming,d=this.loading[i]=new Zm(n);d.abort=this.loadVectorData(n,(h,f)=>{const y=!this.loading[i];if(delete this.loading[i],y||h||!f)return d.status="done",y||(this.loaded[i]=d),e(h);const x=f.rawData,L={};f.expires&&(L.expires=f.expires),f.cacheControl&&(L.cacheControl=f.cacheControl),d.vectorTile=f.vectorTile||new Fo.VectorTile(new nc(x));const E=()=>{d.parse(d.vectorTile,this.layerIndex,this.availableImages,this.actor,(P,B)=>{if(P||!B)return e(P);const Z={};if(o){const q=lh(s);q.length>0&&(Z.resourceTiming=JSON.parse(JSON.stringify(q)))}e(null,Ke({rawTileData:x.slice(0)},B,L,Z))})};this.isSpriteLoaded?E():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(E,{type:"parseTile",isSymbolTile:n.isSymbolTile,zoom:n.tileZoom}):E()}),this.loaded=this.loaded||{},this.loaded[i]=d})}reloadTile(n,e){const i=this.loaded,s=n.uid,o=this;if(i&&i[s]){const d=i[s];d.showCollisionBoxes=n.showCollisionBoxes,d.enableTerrain=!!n.enableTerrain;const h=(f,y)=>{const x=d.reloadCallback;x&&(delete d.reloadCallback,d.parse(d.vectorTile,o.layerIndex,this.availableImages,o.actor,x)),e(f,y)};"parsing"===d.status?d.reloadCallback=h:"done"===d.status&&(d.vectorTile?d.parse(d.vectorTile,this.layerIndex,this.availableImages,this.actor,h):h())}}abortTile(n,e){const i=n.uid,s=this.loading[i];s&&(s.abort&&s.abort(),delete this.loading[i]),e()}removeTile(n,e){const i=this.loaded,s=n.uid;i&&i[s]&&delete i[s],e()}},r.WritingMode=ur,r.ZoomHistory=ll,r.add=function(n,e,i){return n[0]=e[0]+i[0],n[1]=e[1]+i[1],n[2]=e[2]+i[2],n},r.addDynamicAttributes=wu,r.altitudeFromMercatorZ=Gc,r.asyncAll=lt,r.bezier=j,r.bindAll=dt,r.boundsAttributes=Cu,r.bufferConvexPolygon=function(n,e){const i=[];for(let s=0;s<n.length;s++){const o=Pe(s-1,-1,n.length-1),d=Pe(s+1,-1,n.length-1),h=n[s],f=n[d],y=n[o].sub(h).unit(),x=f.sub(h).unit(),L=x.angleWithSep(y.x,y.y),E=y.add(x).unit().mult(-1*e/Math.sin(L/2));i.push(h.add(E))}return i},r.cacheEntryPossiblyAdded=function(n){zr++,zr>pr&&(n.getActor().send("enforceCacheSizeLimit",un),zr=0)},r.clamp=Ee,r.clearTileCache=function(n){const e=W.caches.delete(Qr);n&&e.catch(n).then(()=>n())},r.clipLine=$d,r.clone=function(n){var e=new Oi(3);return e[0]=n[0],e[1]=n[1],e[2]=n[2],e},r.clone$1=function(n){var e=new Oi(16);return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e},r.clone$2=nn,r.collisionCircleLayout=$_,r.config=Ht,r.conjugate=function(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=e[3],n},r.copy=function(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n},r.create=yc,r.create$1=function(){var n=new Oi(16);return Oi!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0),n[0]=1,n[5]=1,n[10]=1,n[15]=1,n},r.create$2=td,r.createExpression=os,r.createLayout=Se,r.createStyleLayer=function(n){return"custom"===n.type?new Am(n):new Ym[n.type](n)},r.cross=function(n,e,i){var s=e[0],o=e[1],d=e[2],h=i[0],f=i[1],y=i[2];return n[0]=o*y-d*f,n[1]=d*h-s*y,n[2]=s*f-o*h,n},r.degToRad=he,r.div=function(n,e,i){return n[0]=e[0]/i[0],n[1]=e[1]/i[1],n[2]=e[2]/i[2],n},r.dot=function(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]},r.dot$1=function(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]},r.ease=Je,r.easeCubicInOut=$e,r.emitValidationErrors=Us,r.endsWith=Mt,r.enforceCacheSizeLimit=function(n){qi(),gi&&gi.then(e=>{e.keys().then(i=>{for(let s=0;s<i.length-n;s++)e.delete(i[s])})})},r.evaluateSizeForFeature=kc,r.evaluateSizeForZoom=Ll,r.evaluateVariableOffset=eh,r.evented=w,r.exactEquals=function(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]&&n[3]===e[3]},r.exactEquals$1=function(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]},r.exported=Dn,r.exported$1=En,r.extend=Ke,r.filterObject=tn,r.fromMat4=function(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[4],n[4]=e[5],n[5]=e[6],n[6]=e[8],n[7]=e[9],n[8]=e[10],n},r.fromQuat=function(n,e){var i=e[0],s=e[1],o=e[2],d=e[3],h=i+i,f=s+s,y=o+o,x=i*h,L=s*h,E=s*f,P=o*h,B=o*f,Z=o*y,q=d*h,ne=d*f,ae=d*y;return n[0]=1-E-Z,n[1]=L+ae,n[2]=P-ne,n[3]=0,n[4]=L-ae,n[5]=1-x-Z,n[6]=B+q,n[7]=0,n[8]=P+ne,n[9]=B-q,n[10]=1-x-E,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n},r.fromRotation=function(n,e){var i=Math.sin(e),s=Math.cos(e);return n[0]=s,n[1]=i,n[2]=0,n[3]=-i,n[4]=s,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n},r.fromScaling=function(n,e){return n[0]=e[0],n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=e[1],n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=e[2],n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n},r.furthestTileCorner=function(n){const e=Math.round((n+45+360)%360/90)%4;return Ie[e]},r.getAABBPointSquareDist=function(n,e,i){let s=0;for(let o=0;o<2;++o){const d=i?i[o]:0;n[o]>d&&(s+=(n[o]-d)*(n[o]-d)),e[o]<d&&(s+=(d-e[o])*(d-e[o]))}return s},r.getAnchorAlignment=yu,r.getAnchorJustification=Mu,r.getBounds=function(n){let e=1/0,i=1/0,s=-1/0,o=-1/0;for(const d of n)e=Math.min(e,d.x),i=Math.min(i,d.y),s=Math.max(s,d.x),o=Math.max(o,d.y);return{min:new I(e,i),max:new I(s,o)}},r.getImage=Te,r.getJSON=function(n,e){return F(Ke(n,{type:"json"}),e)},r.getMapSessionAPI=ws,r.getPerformanceMeasurement=lh,r.getProjection=function(n){const e=Ih[n.name];if(!e)throw new Error(`Invalid projection name: ${n.name}`);return e.conic?function(i,s){if(s.parallels&&Math.abs(s.parallels[0]+s.parallels[1])<.01){let o=function(d){const h=Math.max(.01,Math.cos(he(d))),f=1/(2*Math.max(Math.PI*h,1/h));return{wrap:!0,project(y,x){const L=he(y)*h,E=Math.sin(he(x))/h;return{x:L*f+.5,y:-E*f+.5}},unproject(y,x){const L=-(x-.5)/f,E=Ee(ge((y-.5)/f)/h,-180,180),P=Math.asin(Ee(L*h,-1,1)),B=Ee(ge(P),-85.051129,Za);return new hn(E,B)}}}(s.parallels[0]);if("lambertConformalConic"===s.name){const{project:d,unproject:h}=Ih.mercator;o={wrap:!0,project:d,unproject:h}}return Ke({},i,s,o)}return Ke({},i,s)}(e,n):e},r.getRTLTextPluginStatus=S,r.getReferrer=ee,r.getTilePoint=function(n,{x:e,y:i},s=0){return new I(((e-s)*n.scale-n.x)*en,(i*n.scale-n.y)*en)},r.getTileVec3=function(n,e,i=0){return bl(((e.x-i)*n.scale-n.x)*en,(e.y*n.scale-n.y)*en,Gc(e.z,e.y))},r.getVideo=function(n,e){const i=W.document.createElement("video");i.muted=!0,i.onloadstart=function(){e(null,i)};for(let s=0;s<n.length;s++){const o=W.document.createElement("source");me(n[s])||(i.crossOrigin="Anonymous"),o.src=n[s],i.appendChild(o)}return{cancel:()=>{}}},r.identity=eu,r.identity$1=cd,r.invert=function(n,e){var i=e[0],s=e[1],o=e[2],d=e[3],h=e[4],f=e[5],y=e[6],x=e[7],L=e[8],E=e[9],P=e[10],B=e[11],Z=e[12],q=e[13],ne=e[14],ae=e[15],de=i*f-s*h,ye=i*y-o*h,we=i*x-d*h,Me=s*y-o*f,De=s*x-d*f,Ue=o*x-d*y,ze=L*q-E*Z,ht=L*ne-P*Z,st=L*ae-B*Z,je=E*ne-P*q,at=E*ae-B*q,ot=P*ae-B*ne,He=de*ot-ye*at+we*je+Me*st-De*ht+Ue*ze;return He?(n[0]=(f*ot-y*at+x*je)*(He=1/He),n[1]=(o*at-s*ot-d*je)*He,n[2]=(q*Ue-ne*De+ae*Me)*He,n[3]=(P*De-E*Ue-B*Me)*He,n[4]=(y*st-h*ot-x*ht)*He,n[5]=(i*ot-o*st+d*ht)*He,n[6]=(ne*we-Z*Ue-ae*ye)*He,n[7]=(L*Ue-P*we+B*ye)*He,n[8]=(h*at-f*st+x*ze)*He,n[9]=(s*st-i*at-d*ze)*He,n[10]=(Z*De-q*we+ae*de)*He,n[11]=(E*we-L*De-B*de)*He,n[12]=(f*ht-h*je-y*ze)*He,n[13]=(i*je-s*ht+o*ze)*He,n[14]=(q*ye-Z*Me-ne*de)*He,n[15]=(L*Me-E*ye+P*de)*He,n):null},r.isMapAuthenticated=function(n){return On.has(n)},r.isMapboxURL=fi,r.latFromMercatorY=fs,r.len=i_,r.length=id,r.length$1=function(n){return Math.hypot(n[0],n[1],n[2],n[3])},r.loadVectorTile=Ch,r.makeRequest=F,r.mercatorXfromLng=Wc,r.mercatorYfromLat=Vc,r.mercatorZfromAltitude=qc,r.mul=function(n,e,i){return n[0]=e[0]*i[0],n[1]=e[1]*i[1],n[2]=e[2]*i[2],n[3]=e[3]*i[3],n},r.mul$1=e_,r.mul$2=n_,r.multiply=nd,r.multiply$1=sd,r.nextPowerOfTwo=et,r.normalize=od,r.normalize$1=function(n,e){var i=e[0],s=e[1],o=e[2],d=e[3],h=i*i+s*s+o*o+d*d;return h>0&&(h=1/Math.sqrt(h)),n[0]=i*h,n[1]=s*h,n[2]=o*h,n[3]=d*h,n},r.number=Gt,r.ortho=function(n,e,i,s,o,d,h){var f=1/(e-i),y=1/(s-o),x=1/(d-h);return n[0]=-2*f,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*y,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*x,n[11]=0,n[12]=(e+i)*f,n[13]=(o+s)*y,n[14]=(h+d)*x,n[15]=1,n},r.pbf=nc,r.perspective=function(n,e,i,s,o){var d,h=1/Math.tan(e/2);return n[0]=h/i,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=h,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,null!=o&&o!==1/0?(n[10]=(o+s)*(d=1/(s-o)),n[14]=2*o*s*d):(n[10]=-1,n[14]=-2*s),n},r.pick=function(n,e){const i={};for(let s=0;s<e.length;s++){const o=e[s];o in n&&(i[o]=n[o])}return i},r.plugin=O,r.pointGeometry=I,r.polygonIntersectsBox=Xu,r.polygonIntersectsPolygon=Gu,r.polygonizeBounds=function(n,e,i=0,s=!0){const o=new I(i,i),d=n.sub(o),h=e.add(o),f=[d,new I(h.x,d.y),h,new I(d.x,h.y)];return s&&f.push(d),f},r.posAttributes=Rm,r.postMapLoadEvent=Xa,r.postTurnstileEvent=mr,r.potpack=mu,r.prevPowerOfTwo=function(n){return n<=1?1:Math.pow(2,Math.floor(Math.log(n)/Math.LN2))},r.radToDeg=ge,r.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],r.registerForPluginStateChange=function(n){return n({pluginStatus:l,pluginURL:_}),w.on("pluginStateChange",n),n},r.removeAuthState=function(n){On.delete(n)},r.renderColorRamp=ru,r.rotateX=function(n,e,i){var s=Math.sin(i),o=Math.cos(i),d=e[4],h=e[5],f=e[6],y=e[7],x=e[8],L=e[9],E=e[10],P=e[11];return e!==n&&(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[4]=d*o+x*s,n[5]=h*o+L*s,n[6]=f*o+E*s,n[7]=y*o+P*s,n[8]=x*o-d*s,n[9]=L*o-h*s,n[10]=E*o-f*s,n[11]=P*o-y*s,n},r.rotateX$1=ud,r.rotateY=function(n,e,i){var s=Math.sin(i),o=Math.cos(i),d=e[0],h=e[1],f=e[2],y=e[3],x=e[8],L=e[9],E=e[10],P=e[11];return e!==n&&(n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=d*o-x*s,n[1]=h*o-L*s,n[2]=f*o-E*s,n[3]=y*o-P*s,n[8]=d*s+x*o,n[9]=h*s+L*o,n[10]=f*s+E*o,n[11]=y*s+P*o,n},r.rotateZ=function(n,e,i){var s=Math.sin(i),o=Math.cos(i),d=e[0],h=e[1],f=e[2],y=e[3],x=e[4],L=e[5],E=e[6],P=e[7];return e!==n&&(n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=d*o+x*s,n[1]=h*o+L*s,n[2]=f*o+E*s,n[3]=y*o+P*s,n[4]=x*o-d*s,n[5]=L*o-h*s,n[6]=E*o-f*s,n[7]=P*o-y*s,n},r.rotateZ$1=function(n,e,i){i*=.5;var s=e[0],o=e[1],d=e[2],h=e[3],f=Math.sin(i),y=Math.cos(i);return n[0]=s*y+o*f,n[1]=o*y-s*f,n[2]=d*y+h*f,n[3]=h*y-d*f,n},r.scale=function(n,e,i){return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n},r.scale$1=function(n,e,i){var s=i[0],o=i[1],d=i[2];return n[0]=e[0]*s,n[1]=e[1]*s,n[2]=e[2]*s,n[3]=e[3]*s,n[4]=e[4]*o,n[5]=e[5]*o,n[6]=e[6]*o,n[7]=e[7]*o,n[8]=e[8]*d,n[9]=e[9]*d,n[10]=e[10]*d,n[11]=e[11]*d,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n},r.scale$2=function(n,e,i){return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n[3]=e[3]*i,n},r.scaleAndAdd=ad,r.setCacheLimits=function(n,e){un=n,pr=e},r.setRTLTextPlugin=function(n,e,i=!1){if(l===Gr||l===c||l===t)throw new Error("setRTLTextPlugin cannot be called multiple times.");_=Dn.resolveURL(n),l=Gr,a=e,v(),i||Y()},r.smoothstep=function(n,e,i){return(i=Ee((i-n)/(e-n),0,1))*i*(3-2*i)},r.spec=xe,r.storeAuthState=function(n,e){e?On.add(n):On.delete(n)},r.sub=t_,r.subtract=rd,r.symbolSize=J_,r.tileTransform=Fc,r.transformMat3=function(n,e,i){var s=e[0],o=e[1],d=e[2];return n[0]=s*i[0]+o*i[3]+d*i[6],n[1]=s*i[1]+o*i[4]+d*i[7],n[2]=s*i[2]+o*i[5]+d*i[8],n},r.transformMat4=Gl,r.transformMat4$1=function(n,e,i){var s=e[0],o=e[1],d=e[2],h=i[3]*s+i[7]*o+i[11]*d+i[15];return n[0]=(i[0]*s+i[4]*o+i[8]*d+i[12])/(h=h||1),n[1]=(i[1]*s+i[5]*o+i[9]*d+i[13])/h,n[2]=(i[2]*s+i[6]*o+i[10]*d+i[14])/h,n},r.transformQuat=ld,r.translate=function(n,e,i){var s,o,d,h,f,y,x,L,E,P,B,Z,q=i[0],ne=i[1],ae=i[2];return e===n?(n[12]=e[0]*q+e[4]*ne+e[8]*ae+e[12],n[13]=e[1]*q+e[5]*ne+e[9]*ae+e[13],n[14]=e[2]*q+e[6]*ne+e[10]*ae+e[14],n[15]=e[3]*q+e[7]*ne+e[11]*ae+e[15]):(o=e[1],d=e[2],h=e[3],f=e[4],y=e[5],x=e[6],L=e[7],E=e[8],P=e[9],B=e[10],Z=e[11],n[0]=s=e[0],n[1]=o,n[2]=d,n[3]=h,n[4]=f,n[5]=y,n[6]=x,n[7]=L,n[8]=E,n[9]=P,n[10]=B,n[11]=Z,n[12]=s*q+f*ne+E*ae+e[12],n[13]=o*q+y*ne+P*ae+e[13],n[14]=d*q+x*ne+B*ae+e[14],n[15]=h*q+L*ne+Z*ae+e[15]),n},r.triggerPluginCompletionEvent=p,r.uniqueId=Ye,r.validateCustomStyleLayer=function(n){const e=[],i=n.id;return void 0===i&&e.push({message:`layers.${i}: missing required property "id"`}),void 0===n.render&&e.push({message:`layers.${i}: missing required method "render"`}),n.renderingMode&&"2d"!==n.renderingMode&&"3d"!==n.renderingMode&&e.push({message:`layers.${i}: property "renderingMode" must be either "2d" or "3d"`}),e},r.validateFog=za,r.validateLight=al,r.validateStyle=Sr,r.values=We,r.vectorTile=Fo,r.version=T,r.warnOnce=It,r.window=W,r.wrap=Pe}),u(0,function(r){function T(ee){const F=typeof ee;if("number"===F||"boolean"===F||"string"===F||null==ee)return JSON.stringify(ee);if(Array.isArray(ee)){let se="[";for(const me of ee)se+=`${T(me)},`;return`${se}]`}const N=Object.keys(ee).sort();let te="{";for(let se=0;se<N.length;se++)te+=`${JSON.stringify(N[se])}:${T(ee[N[se]])},`;return`${te}}`}function k(ee){let F="";for(const N of r.refProperties)F+=`/${T(ee[N])}`;return F}class C{constructor(F){this.keyCache={},F&&this.replace(F)}replace(F){this._layerConfigs={},this._layers={},this.update(F,[])}update(F,N){for(const se of F)this._layerConfigs[se.id]=se,(this._layers[se.id]=r.createStyleLayer(se)).compileFilter(),this.keyCache[se.id]&&delete this.keyCache[se.id];for(const se of N)delete this.keyCache[se],delete this._layerConfigs[se],delete this._layers[se];this.familiesBySource={};const te=function(se,me){const ue={};for(let fe=0;fe<se.length;fe++){const Te=me&&me[se[fe].id]||k(se[fe]);me&&(me[se[fe].id]=Te);let Ze=ue[Te];Ze||(Ze=ue[Te]=[]),Ze.push(se[fe])}const Le=[];for(const fe in ue)Le.push(ue[fe]);return Le}(r.values(this._layerConfigs),this.keyCache);for(const se of te){const me=se.map(Qe=>this._layers[Qe.id]),ue=me[0];if("none"===ue.visibility)continue;const Le=ue.source||"";let fe=this.familiesBySource[Le];fe||(fe=this.familiesBySource[Le]={});const Te=ue.sourceLayer||"_geojsonTileLayer";let Ze=fe[Te];Ze||(Ze=fe[Te]=[]),Ze.push(me)}}}const{ImageBitmap:I}=r.window;class U{loadTile(F,N){const{uid:te,encoding:se,rawImageData:me,padding:ue,buildQuadTree:Le}=F,fe=I&&me instanceof I?this.getImageData(me,ue):me;N(null,new r.DEMData(te,fe,se,ue<1,Le))}getImageData(F,N){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(F.width,F.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=F.width,this.offscreenCanvas.height=F.height,this.offscreenCanvasContext.drawImage(F,0,0,F.width,F.height);const te=this.offscreenCanvasContext.getImageData(-N,-N,F.width+2*N,F.height+2*N);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new r.RGBAImage({width:te.width,height:te.height},te.data)}}var W=function ee(F,N){var te,se=F&&F.type;if("FeatureCollection"===se)for(te=0;te<F.features.length;te++)ee(F.features[te],N);else if("GeometryCollection"===se)for(te=0;te<F.geometries.length;te++)ee(F.geometries[te],N);else if("Feature"===se)ee(F.geometry,N);else if("Polygon"===se)oe(F.coordinates,N);else if("MultiPolygon"===se)for(te=0;te<F.coordinates.length;te++)oe(F.coordinates[te],N);return F};function oe(ee,F){if(0!==ee.length){be(ee[0],F);for(var N=1;N<ee.length;N++)be(ee[N],!F)}}function be(ee,F){for(var N=0,te=0,se=0,me=ee.length,ue=me-1;se<me;ue=se++){var Le=(ee[se][0]-ee[ue][0])*(ee[ue][1]+ee[se][1]),fe=N+Le;te+=Math.abs(N)>=Math.abs(Le)?N-fe+Le:Le-fe+N,N=fe}N+te>=0!=!!F&&ee.reverse()}const G=r.vectorTile.VectorTileFeature.prototype.toGeoJSON;class he{constructor(F){this._feature=F,this.extent=r.EXTENT,this.type=F.type,this.properties=F.tags,"id"in F&&!isNaN(F.id)&&(this.id=parseInt(F.id,10))}loadGeometry(){if(1===this._feature.type){const F=[];for(const N of this._feature.geometry)F.push([new r.pointGeometry(N[0],N[1])]);return F}{const F=[];for(const N of this._feature.geometry){const te=[];for(const se of N)te.push(new r.pointGeometry(se[0],se[1]));F.push(te)}return F}}toGeoJSON(F,N,te){return G.call(this,F,N,te)}}class ge{constructor(F){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=r.EXTENT,this.length=F.length,this._features=F}feature(F){return new he(this._features[F])}}var Ie=r.vectorTile.VectorTileFeature,$e=j;function j(ee,F){this.options=F||{},this.features=ee,this.length=ee.length}function Je(ee,F){this.id="number"==typeof ee.id?ee.id:void 0,this.type=ee.type,this.rawGeometry=1===ee.type?[ee.geometry]:ee.geometry,this.properties=ee.tags,this.extent=F||4096}j.prototype.feature=function(ee){return new Je(this.features[ee],this.options.extent)},Je.prototype.loadGeometry=function(){var ee=this.rawGeometry;this.geometry=[];for(var F=0;F<ee.length;F++){for(var N=ee[F],te=[],se=0;se<N.length;se++)te.push(new r.pointGeometry(N[se][0],N[se][1]));this.geometry.push(te)}return this.geometry},Je.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ee=this.geometry,F=1/0,N=-1/0,te=1/0,se=-1/0,me=0;me<ee.length;me++)for(var ue=ee[me],Le=0;Le<ue.length;Le++){var fe=ue[Le];F=Math.min(F,fe.x),N=Math.max(N,fe.x),te=Math.min(te,fe.y),se=Math.max(se,fe.y)}return[F,te,N,se]},Je.prototype.toGeoJSON=Ie.prototype.toGeoJSON;var Ee=lt,Pe=$e;function lt(ee){var F=new r.pbf;return function(N,te){for(var se in N.layers)te.writeMessage(3,We,N.layers[se])}(ee,F),F.finish()}function We(ee,F){var N;F.writeVarintField(15,ee.version||1),F.writeStringField(1,ee.name||""),F.writeVarintField(5,ee.extent||4096);var te={keys:[],values:[],keycache:{},valuecache:{}};for(N=0;N<ee.length;N++)te.feature=ee.feature(N),F.writeMessage(2,Ke,te);var se=te.keys;for(N=0;N<se.length;N++)F.writeStringField(3,se[N]);var me=te.values;for(N=0;N<me.length;N++)F.writeMessage(4,vt,me[N])}function Ke(ee,F){var N=ee.feature;void 0!==N.id&&F.writeVarintField(1,N.id),F.writeMessage(2,Xe,ee),F.writeVarintField(3,N.type),F.writeMessage(4,et,N)}function Xe(ee,F){var N=ee.feature,te=ee.keys,se=ee.values,me=ee.keycache,ue=ee.valuecache;for(var Le in N.properties){var fe=N.properties[Le],Te=me[Le];if(null!==fe){void 0===Te&&(te.push(Le),me[Le]=Te=te.length-1),F.writeVarint(Te);var Ze=typeof fe;"string"!==Ze&&"boolean"!==Ze&&"number"!==Ze&&(fe=JSON.stringify(fe));var Qe=Ze+":"+fe,qe=ue[Qe];void 0===qe&&(se.push(fe),ue[Qe]=qe=se.length-1),F.writeVarint(qe)}}}function Ye(ee,F){return(F<<3)+(7&ee)}function tt(ee){return ee<<1^ee>>31}function et(ee,F){for(var N=ee.loadGeometry(),te=ee.type,se=0,me=0,ue=N.length,Le=0;Le<ue;Le++){var fe=N[Le],Te=1;1===te&&(Te=fe.length),F.writeVarint(Ye(1,Te));for(var Ze=3===te?fe.length-1:fe.length,Qe=0;Qe<Ze;Qe++){1===Qe&&1!==te&&F.writeVarint(Ye(2,Ze-1));var qe=fe[Qe].x-se,xt=fe[Qe].y-me;F.writeVarint(tt(qe)),F.writeVarint(tt(xt)),se+=qe,me+=xt}3===te&&F.writeVarint(Ye(7,1))}}function vt(ee,F){var N=typeof ee;"string"===N?F.writeStringField(1,ee):"boolean"===N?F.writeBooleanField(7,ee):"number"===N&&(ee%1!=0?F.writeDoubleField(3,ee):ee<0?F.writeSVarintField(6,ee):F.writeVarintField(5,ee))}function dt(ee,F,N,te,se,me){if(se-te<=N)return;const ue=te+se>>1;Mt(ee,F,ue,te,se,me%2),dt(ee,F,N,te,ue-1,me+1),dt(ee,F,N,ue+1,se,me+1)}function Mt(ee,F,N,te,se,me){for(;se>te;){if(se-te>600){const Te=se-te+1,Ze=N-te+1,Qe=Math.log(Te),qe=.5*Math.exp(2*Qe/3),xt=.5*Math.sqrt(Qe*qe*(Te-qe)/Te)*(Ze-Te/2<0?-1:1);Mt(ee,F,N,Math.max(te,Math.floor(N-Ze*qe/Te+xt)),Math.min(se,Math.floor(N+(Te-Ze)*qe/Te+xt)),me)}const ue=F[2*N+me];let Le=te,fe=se;for(Rt(ee,F,te,N),F[2*se+me]>ue&&Rt(ee,F,te,se);Le<fe;){for(Rt(ee,F,Le,fe),Le++,fe--;F[2*Le+me]<ue;)Le++;for(;F[2*fe+me]>ue;)fe--}F[2*te+me]===ue?Rt(ee,F,te,fe):(fe++,Rt(ee,F,fe,se)),fe<=N&&(te=fe+1),N<=fe&&(se=fe-1)}}function Rt(ee,F,N,te){tn(ee,N,te),tn(F,2*N,2*te),tn(F,2*N+1,2*te+1)}function tn(ee,F,N){const te=ee[F];ee[F]=ee[N],ee[N]=te}function nn(ee,F,N,te){const se=ee-N,me=F-te;return se*se+me*me}Ee.fromVectorTileJs=lt,Ee.fromGeojsonVt=function(ee,F){F=F||{};var N={};for(var te in ee)N[te]=new $e(ee[te].features,F),N[te].name=te,N[te].version=F.version,N[te].extent=F.extent;return lt({layers:N})},Ee.GeoJSONWrapper=Pe;const ln=ee=>ee[0],It=ee=>ee[1];class mn{constructor(F,N=ln,te=It,se=64,me=Float64Array){this.nodeSize=se,this.points=F;const ue=F.length<65536?Uint16Array:Uint32Array,Le=this.ids=new ue(F.length),fe=this.coords=new me(2*F.length);for(let Te=0;Te<F.length;Te++)Le[Te]=Te,fe[2*Te]=N(F[Te]),fe[2*Te+1]=te(F[Te]);dt(Le,fe,se,0,Le.length-1,0)}range(F,N,te,se){return function(me,ue,Le,fe,Te,Ze,Qe){const qe=[0,me.length-1,0],xt=[];let it,xe;for(;qe.length;){const Oe=qe.pop(),Tt=qe.pop(),Ut=qe.pop();if(Tt-Ut<=Qe){for(let Kt=Ut;Kt<=Tt;Kt++)it=ue[2*Kt],xe=ue[2*Kt+1],it>=Le&&it<=Te&&xe>=fe&&xe<=Ze&&xt.push(me[Kt]);continue}const kt=Math.floor((Ut+Tt)/2);it=ue[2*kt],xe=ue[2*kt+1],it>=Le&&it<=Te&&xe>=fe&&xe<=Ze&&xt.push(me[kt]);const jt=(Oe+1)%2;(0===Oe?Le<=it:fe<=xe)&&(qe.push(Ut),qe.push(kt-1),qe.push(jt)),(0===Oe?Te>=it:Ze>=xe)&&(qe.push(kt+1),qe.push(Tt),qe.push(jt))}return xt}(this.ids,this.coords,F,N,te,se,this.nodeSize)}within(F,N,te){return function(se,me,ue,Le,fe,Te){const Ze=[0,se.length-1,0],Qe=[],qe=fe*fe;for(;Ze.length;){const xt=Ze.pop(),it=Ze.pop(),xe=Ze.pop();if(it-xe<=Te){for(let jt=xe;jt<=it;jt++)nn(me[2*jt],me[2*jt+1],ue,Le)<=qe&&Qe.push(se[jt]);continue}const Oe=Math.floor((xe+it)/2),Tt=me[2*Oe],Ut=me[2*Oe+1];nn(Tt,Ut,ue,Le)<=qe&&Qe.push(se[Oe]);const kt=(xt+1)%2;(0===xt?ue-fe<=Tt:Le-fe<=Ut)&&(Ze.push(xe),Ze.push(Oe-1),Ze.push(kt)),(0===xt?ue+fe>=Tt:Le+fe>=Ut)&&(Ze.push(Oe+1),Ze.push(it),Ze.push(kt))}return Qe}(this.ids,this.coords,F,N,te,this.nodeSize)}}const Nn={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ee=>ee},yn=Math.fround||(yt=new Float32Array(1),ee=>(yt[0]=+ee,yt[0]));var yt;class Lt{constructor(F){this.options=Ht(Object.create(Nn),F),this.trees=new Array(this.options.maxZoom+1)}load(F){const{log:N,minZoom:te,maxZoom:se,nodeSize:me}=this.options;N&&console.time("total time");const ue=`prepare ${F.length} points`;N&&console.time(ue),this.points=F;let Le=[];for(let fe=0;fe<F.length;fe++)F[fe].geometry&&Le.push(Ge(F[fe],fe));this.trees[se+1]=new mn(Le,En,Sn,me,Float32Array),N&&console.timeEnd(ue);for(let fe=se;fe>=te;fe--){const Te=+Date.now();Le=this._cluster(Le,fe),this.trees[fe]=new mn(Le,En,Sn,me,Float32Array),N&&console.log("z%d: %d clusters in %dms",fe,Le.length,+Date.now()-Te)}return N&&console.timeEnd("total time"),this}getClusters(F,N){let te=((F[0]+180)%360+360)%360-180;const se=Math.max(-90,Math.min(90,F[1]));let me=180===F[2]?180:((F[2]+180)%360+360)%360-180;const ue=Math.max(-90,Math.min(90,F[3]));if(F[2]-F[0]>=360)te=-180,me=180;else if(te>me){const Ze=this.getClusters([te,se,180,ue],N),Qe=this.getClusters([-180,se,me,ue],N);return Ze.concat(Qe)}const Le=this.trees[this._limitZoom(N)],fe=Le.range(Cn(te),Dn(ue),Cn(me),Dn(se)),Te=[];for(const Ze of fe){const Qe=Le.points[Ze];Te.push(Qe.numPoints?wt(Qe):this.points[Qe.index])}return Te}getChildren(F){const N=this._getOriginId(F),te=this._getOriginZoom(F),se="No cluster with the specified id.",me=this.trees[te];if(!me)throw new Error(se);const ue=me.points[N];if(!ue)throw new Error(se);const Le=this.options.radius/(this.options.extent*Math.pow(2,te-1)),fe=me.within(ue.x,ue.y,Le),Te=[];for(const Ze of fe){const Qe=me.points[Ze];Qe.parentId===F&&Te.push(Qe.numPoints?wt(Qe):this.points[Qe.index])}if(0===Te.length)throw new Error(se);return Te}getLeaves(F,N,te){const se=[];return this._appendLeaves(se,F,N=N||10,te=te||0,0),se}getTile(F,N,te){const se=this.trees[this._limitZoom(F)],me=Math.pow(2,F),{extent:ue,radius:Le}=this.options,fe=Le/ue,Te=(te-fe)/me,Ze=(te+1+fe)/me,Qe={features:[]};return this._addTileFeatures(se.range((N-fe)/me,Te,(N+1+fe)/me,Ze),se.points,N,te,me,Qe),0===N&&this._addTileFeatures(se.range(1-fe/me,Te,1,Ze),se.points,me,te,me,Qe),N===me-1&&this._addTileFeatures(se.range(0,Te,fe/me,Ze),se.points,-1,te,me,Qe),Qe.features.length?Qe:null}getClusterExpansionZoom(F){let N=this._getOriginZoom(F)-1;for(;N<=this.options.maxZoom;){const te=this.getChildren(F);if(N++,1!==te.length)break;F=te[0].properties.cluster_id}return N}_appendLeaves(F,N,te,se,me){const ue=this.getChildren(N);for(const Le of ue){const fe=Le.properties;if(fe&&fe.cluster?me+fe.point_count<=se?me+=fe.point_count:me=this._appendLeaves(F,fe.cluster_id,te,se,me):me<se?me++:F.push(Le),F.length===te)break}return me}_addTileFeatures(F,N,te,se,me,ue){for(const Le of F){const fe=N[Le],Te=fe.numPoints;let Ze,Qe,qe;if(Te)Ze=zt(fe),Qe=fe.x,qe=fe.y;else{const xe=this.points[fe.index];Ze=xe.properties,Qe=Cn(xe.geometry.coordinates[0]),qe=Dn(xe.geometry.coordinates[1])}const xt={type:1,geometry:[[Math.round(this.options.extent*(Qe*me-te)),Math.round(this.options.extent*(qe*me-se))]],tags:Ze};let it;Te?it=fe.id:this.options.generateId?it=fe.index:this.points[fe.index].id&&(it=this.points[fe.index].id),void 0!==it&&(xt.id=it),ue.features.push(xt)}}_limitZoom(F){return Math.max(this.options.minZoom,Math.min(+F,this.options.maxZoom+1))}_cluster(F,N){const te=[],{radius:se,extent:me,reduce:ue,minPoints:Le}=this.options,fe=se/(me*Math.pow(2,N));for(let Te=0;Te<F.length;Te++){const Ze=F[Te];if(Ze.zoom<=N)continue;Ze.zoom=N;const Qe=this.trees[N+1],qe=Qe.within(Ze.x,Ze.y,fe),xt=Ze.numPoints||1;let it=xt;for(const xe of qe){const Oe=Qe.points[xe];Oe.zoom>N&&(it+=Oe.numPoints||1)}if(it>xt&&it>=Le){let xe=Ze.x*xt,Oe=Ze.y*xt,Tt=ue&&xt>1?this._map(Ze,!0):null;const Ut=(Te<<5)+(N+1)+this.points.length;for(const kt of qe){const jt=Qe.points[kt];if(jt.zoom<=N)continue;jt.zoom=N;const Kt=jt.numPoints||1;xe+=jt.x*Kt,Oe+=jt.y*Kt,jt.parentId=Ut,ue&&(Tt||(Tt=this._map(Ze,!0)),ue(Tt,this._map(jt)))}Ze.parentId=Ut,te.push(Ve(xe/it,Oe/it,Ut,it,Tt))}else if(te.push(Ze),it>1)for(const xe of qe){const Oe=Qe.points[xe];Oe.zoom<=N||(Oe.zoom=N,te.push(Oe))}}return te}_getOriginId(F){return F-this.points.length>>5}_getOriginZoom(F){return(F-this.points.length)%32}_map(F,N){if(F.numPoints)return N?Ht({},F.properties):F.properties;const te=this.points[F.index].properties,se=this.options.map(te);return N&&se===te?Ht({},se):se}}function Ve(ee,F,N,te,se){return{x:yn(ee),y:yn(F),zoom:1/0,id:N,parentId:-1,numPoints:te,properties:se}}function Ge(ee,F){const[N,te]=ee.geometry.coordinates;return{x:yn(Cn(N)),y:yn(Dn(te)),zoom:1/0,index:F,parentId:-1}}function wt(ee){return{type:"Feature",id:ee.id,properties:zt(ee),geometry:{type:"Point",coordinates:[(F=ee.x,360*(F-.5)),bi(ee.y)]}};var F}function zt(ee){const F=ee.numPoints,N=F>=1e4?`${Math.round(F/1e3)}k`:F>=1e3?Math.round(F/100)/10+"k":F;return Ht(Ht({},ee.properties),{cluster:!0,cluster_id:ee.id,point_count:F,point_count_abbreviated:N})}function Cn(ee){return ee/360+.5}function Dn(ee){const F=Math.sin(ee*Math.PI/180),N=.5-.25*Math.log((1+F)/(1-F))/Math.PI;return N<0?0:N>1?1:N}function bi(ee){const F=(180-360*ee)*Math.PI/180;return 360*Math.atan(Math.exp(F))/Math.PI-90}function Ht(ee,F){for(const N in F)ee[N]=F[N];return ee}function En(ee){return ee.x}function Sn(ee){return ee.y}function pi(ee,F,N,te){for(var se,me=te,ue=N-F>>1,Le=N-F,fe=ee[F],Te=ee[F+1],Ze=ee[N],Qe=ee[N+1],qe=F+3;qe<N;qe+=3){var xt=bs(ee[qe],ee[qe+1],fe,Te,Ze,Qe);if(xt>me)se=qe,me=xt;else if(xt===me){var it=Math.abs(qe-ue);it<Le&&(se=qe,Le=it)}}me>te&&(se-F>3&&pi(ee,F,se,te),ee[se+2]=me,N-se>3&&pi(ee,se,N,te))}function bs(ee,F,N,te,se,me){var ue=se-N,Le=me-te;if(0!==ue||0!==Le){var fe=((ee-N)*ue+(F-te)*Le)/(ue*ue+Le*Le);fe>1?(N=se,te=me):fe>0&&(N+=ue*fe,te+=Le*fe)}return(ue=ee-N)*ue+(Le=F-te)*Le}function _r(ee,F,N,te){var se={id:void 0===ee?null:ee,type:F,geometry:N,tags:te,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(me){var ue=me.geometry,Le=me.type;if("Point"===Le||"MultiPoint"===Le||"LineString"===Le)Hi(me,ue);else if("Polygon"===Le||"MultiLineString"===Le)for(var fe=0;fe<ue.length;fe++)Hi(me,ue[fe]);else if("MultiPolygon"===Le)for(fe=0;fe<ue.length;fe++)for(var Te=0;Te<ue[fe].length;Te++)Hi(me,ue[fe][Te])}(se),se}function Hi(ee,F){for(var N=0;N<F.length;N+=3)ee.minX=Math.min(ee.minX,F[N]),ee.minY=Math.min(ee.minY,F[N+1]),ee.maxX=Math.max(ee.maxX,F[N]),ee.maxY=Math.max(ee.maxY,F[N+1])}function In(ee,F,N,te){if(F.geometry){var se=F.geometry.coordinates,me=F.geometry.type,ue=Math.pow(N.tolerance/((1<<N.maxZoom)*N.extent),2),Le=[],fe=F.id;if(N.promoteId?fe=F.properties[N.promoteId]:N.generateId&&(fe=te||0),"Point"===me)Jn(se,Le);else if("MultiPoint"===me)for(var Te=0;Te<se.length;Te++)Jn(se[Te],Le);else if("LineString"===me)fi(se,Le,ue,!1);else if("MultiLineString"===me){if(N.lineMetrics){for(Te=0;Te<se.length;Te++)fi(se[Te],Le=[],ue,!1),ee.push(_r(fe,"LineString",Le,F.properties));return}tr(se,Le,ue,!1)}else if("Polygon"===me)tr(se,Le,ue,!0);else{if("MultiPolygon"!==me){if("GeometryCollection"===me){for(Te=0;Te<F.geometry.geometries.length;Te++)In(ee,{id:fe,geometry:F.geometry.geometries[Te],properties:F.properties},N,te);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Te=0;Te<se.length;Te++){var Ze=[];tr(se[Te],Ze,ue,!0),Le.push(Ze)}}ee.push(_r(fe,me,Le,F.properties))}}function Jn(ee,F){F.push(Un(ee[0])),F.push(Si(ee[1])),F.push(0)}function fi(ee,F,N,te){for(var se,me,ue=0,Le=0;Le<ee.length;Le++){var fe=Un(ee[Le][0]),Te=Si(ee[Le][1]);F.push(fe),F.push(Te),F.push(0),Le>0&&(ue+=te?(se*Te-fe*me)/2:Math.sqrt(Math.pow(fe-se,2)+Math.pow(Te-me,2))),se=fe,me=Te}var Ze=F.length-3;F[2]=1,pi(F,0,Ze,N),F[Ze+2]=1,F.size=Math.abs(ue),F.start=0,F.end=F.size}function tr(ee,F,N,te){for(var se=0;se<ee.length;se++){var me=[];fi(ee[se],me,N,te),F.push(me)}}function Un(ee){return ee/360+.5}function Si(ee){var F=Math.sin(ee*Math.PI/180),N=.5-.25*Math.log((1+F)/(1-F))/Math.PI;return N<0?0:N>1?1:N}function Hn(ee,F,N,te,se,me,ue,Le){if(te/=F,me>=(N/=F)&&ue<te)return ee;if(ue<N||me>=te)return null;for(var fe=[],Te=0;Te<ee.length;Te++){var Ze=ee[Te],Qe=Ze.geometry,qe=Ze.type,xt=0===se?Ze.minX:Ze.minY,it=0===se?Ze.maxX:Ze.maxY;if(xt>=N&&it<te)fe.push(Ze);else if(!(it<N||xt>=te)){var xe=[];if("Point"===qe||"MultiPoint"===qe)ci(Qe,xe,N,te,se);else if("LineString"===qe)Bt(Qe,xe,N,te,se,!1,Le.lineMetrics);else if("MultiLineString"===qe)mr(Qe,xe,N,te,se,!1);else if("Polygon"===qe)mr(Qe,xe,N,te,se,!0);else if("MultiPolygon"===qe)for(var Oe=0;Oe<Qe.length;Oe++){var Tt=[];mr(Qe[Oe],Tt,N,te,se,!0),Tt.length&&xe.push(Tt)}if(xe.length){if(Le.lineMetrics&&"LineString"===qe){for(Oe=0;Oe<xe.length;Oe++)fe.push(_r(Ze.id,qe,xe[Oe],Ze.tags));continue}"LineString"!==qe&&"MultiLineString"!==qe||(1===xe.length?(qe="LineString",xe=xe[0]):qe="MultiLineString"),"Point"!==qe&&"MultiPoint"!==qe||(qe=3===xe.length?"Point":"MultiPoint"),fe.push(_r(Ze.id,qe,xe,Ze.tags))}}}return fe.length?fe:null}function ci(ee,F,N,te,se){for(var me=0;me<ee.length;me+=3){var ue=ee[me+se];ue>=N&&ue<=te&&(F.push(ee[me]),F.push(ee[me+1]),F.push(ee[me+2]))}}function Bt(ee,F,N,te,se,me,ue){for(var Le,fe,Te=Wi(ee),Ze=0===se?Xa:ra,Qe=ee.start,qe=0;qe<ee.length-3;qe+=3){var xt=ee[qe],it=ee[qe+1],xe=ee[qe+2],Oe=ee[qe+3],Tt=ee[qe+4],Ut=0===se?xt:it,kt=0===se?Oe:Tt,jt=!1;ue&&(Le=Math.sqrt(Math.pow(xt-Oe,2)+Math.pow(it-Tt,2))),Ut<N?kt>N&&(fe=Ze(Te,xt,it,Oe,Tt,N),ue&&(Te.start=Qe+Le*fe)):Ut>te?kt<te&&(fe=Ze(Te,xt,it,Oe,Tt,te),ue&&(Te.start=Qe+Le*fe)):Or(Te,xt,it,xe),kt<N&&Ut>=N&&(fe=Ze(Te,xt,it,Oe,Tt,N),jt=!0),kt>te&&Ut<=te&&(fe=Ze(Te,xt,it,Oe,Tt,te),jt=!0),!me&&jt&&(ue&&(Te.end=Qe+Le*fe),F.push(Te),Te=Wi(ee)),ue&&(Qe+=Le)}var Kt=ee.length-3;xt=ee[Kt],it=ee[Kt+1],xe=ee[Kt+2],(Ut=0===se?xt:it)>=N&&Ut<=te&&Or(Te,xt,it,xe),Kt=Te.length-3,me&&Kt>=3&&(Te[Kt]!==Te[0]||Te[Kt+1]!==Te[1])&&Or(Te,Te[0],Te[1],Te[2]),Te.length&&F.push(Te)}function Wi(ee){var F=[];return F.size=ee.size,F.start=ee.start,F.end=ee.end,F}function mr(ee,F,N,te,se,me){for(var ue=0;ue<ee.length;ue++)Bt(ee[ue],F,N,te,se,me,!1)}function Or(ee,F,N,te){ee.push(F),ee.push(N),ee.push(te)}function Xa(ee,F,N,te,se,me){var ue=(me-F)/(te-F);return ee.push(me),ee.push(N+(se-N)*ue),ee.push(1),ue}function ra(ee,F,N,te,se,me){var ue=(me-N)/(se-N);return ee.push(F+(te-F)*ue),ee.push(me),ee.push(1),ue}function ws(ee,F){for(var N=[],te=0;te<ee.length;te++){var se,me=ee[te],ue=me.type;if("Point"===ue||"MultiPoint"===ue||"LineString"===ue)se=On(me.geometry,F);else if("MultiLineString"===ue||"Polygon"===ue){se=[];for(var Le=0;Le<me.geometry.length;Le++)se.push(On(me.geometry[Le],F))}else if("MultiPolygon"===ue)for(se=[],Le=0;Le<me.geometry.length;Le++){for(var fe=[],Te=0;Te<me.geometry[Le].length;Te++)fe.push(On(me.geometry[Le][Te],F));se.push(fe)}N.push(_r(me.id,ue,se,me.tags))}return N}function On(ee,F){var N=[];N.size=ee.size,void 0!==ee.start&&(N.start=ee.start,N.end=ee.end);for(var te=0;te<ee.length;te+=3)N.push(ee[te]+F,ee[te+1],ee[te+2]);return N}function Qr(ee,F){if(ee.transformed)return ee;var N,te,se,me=1<<ee.z,ue=ee.x,Le=ee.y;for(N=0;N<ee.features.length;N++){var fe=ee.features[N],Te=fe.geometry,Ze=fe.type;if(fe.geometry=[],1===Ze)for(te=0;te<Te.length;te+=2)fe.geometry.push(gi(Te[te],Te[te+1],F,me,ue,Le));else for(te=0;te<Te.length;te++){var Qe=[];for(se=0;se<Te[te].length;se+=2)Qe.push(gi(Te[te][se],Te[te][se+1],F,me,ue,Le));fe.geometry.push(Qe)}}return ee.transformed=!0,ee}function gi(ee,F,N,te,se,me){return[Math.round(N*(ee*te-se)),Math.round(N*(F*te-me))]}function Vi(ee,F,N,te,se){for(var me=F===se.maxZoom?0:se.tolerance/((1<<F)*se.extent),ue={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:N,y:te,z:F,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Le=0;Le<ee.length;Le++){ue.numFeatures++,un(ue,ee[Le],me,se);var fe=ee[Le].minX,Te=ee[Le].minY,Ze=ee[Le].maxX,Qe=ee[Le].maxY;fe<ue.minX&&(ue.minX=fe),Te<ue.minY&&(ue.minY=Te),Ze>ue.maxX&&(ue.maxX=Ze),Qe>ue.maxY&&(ue.maxY=Qe)}return ue}function un(ee,F,N,te){var se=F.geometry,me=F.type,ue=[];if("Point"===me||"MultiPoint"===me)for(var Le=0;Le<se.length;Le+=3)ue.push(se[Le]),ue.push(se[Le+1]),ee.numPoints++,ee.numSimplified++;else if("LineString"===me)pr(ue,se,ee,N,!1,!1);else if("MultiLineString"===me||"Polygon"===me)for(Le=0;Le<se.length;Le++)pr(ue,se[Le],ee,N,"Polygon"===me,0===Le);else if("MultiPolygon"===me)for(var fe=0;fe<se.length;fe++){var Te=se[fe];for(Le=0;Le<Te.length;Le++)pr(ue,Te[Le],ee,N,!0,0===Le)}if(ue.length){var Ze=F.tags||null;if("LineString"===me&&te.lineMetrics){for(var Qe in Ze={},F.tags)Ze[Qe]=F.tags[Qe];Ze.mapbox_clip_start=se.start/se.size,Ze.mapbox_clip_end=se.end/se.size}var qe={geometry:ue,type:"Polygon"===me||"MultiPolygon"===me?3:"LineString"===me||"MultiLineString"===me?2:1,tags:Ze};null!==F.id&&(qe.id=F.id),ee.features.push(qe)}}function pr(ee,F,N,te,se,me){var ue=te*te;if(te>0&&F.size<(se?ue:te))N.numPoints+=F.length/3;else{for(var Le=[],fe=0;fe<F.length;fe+=3)(0===te||F[fe+2]>ue)&&(N.numSimplified++,Le.push(F[fe]),Le.push(F[fe+1])),N.numPoints++;se&&function(Te,Ze){for(var Qe=0,qe=0,xt=Te.length,it=xt-2;qe<xt;it=qe,qe+=2)Qe+=(Te[qe]-Te[it])*(Te[qe+1]+Te[it+1]);if(Qe>0===Ze)for(qe=0,xt=Te.length;qe<xt/2;qe+=2){var xe=Te[qe],Oe=Te[qe+1];Te[qe]=Te[xt-2-qe],Te[qe+1]=Te[xt-1-qe],Te[xt-2-qe]=xe,Te[xt-1-qe]=Oe}}(Le,me),ee.push(Le)}}function qi(ee,F){var N=(F=this.options=function(se,me){for(var ue in me)se[ue]=me[ue];return se}(Object.create(this.options),F)).debug;if(N&&console.time("preprocess data"),F.maxZoom<0||F.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(F.promoteId&&F.generateId)throw new Error("promoteId and generateId cannot be used together.");var se,me,ue,Le,fe,Te,te=function(se,me){var ue=[];if("FeatureCollection"===se.type)for(var Le=0;Le<se.features.length;Le++)In(ue,se.features[Le],me,Le);else In(ue,"Feature"===se.type?se:{geometry:se},me);return ue}(ee,F);this.tiles={},this.tileCoords=[],N&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",F.indexMaxZoom,F.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(se=te,me=F,ue=me.buffer/me.extent,Le=se,fe=Hn(se,1,-1-ue,ue,0,-1,2,me),Te=Hn(se,1,1-ue,2+ue,0,-1,2,me),(fe||Te)&&(Le=Hn(se,1,-ue,1+ue,0,-1,2,me)||[],fe&&(Le=ws(fe,1).concat(Le)),Te&&(Le=Le.concat(ws(Te,-1)))),te=Le).length&&this.splitTile(te,0,0,0),N&&(te.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function nr(ee,F,N){return 32*((1<<ee)*N+F)+ee}function zr(ee,F){const N=ee.tileID.canonical;if(!this._geoJSONIndex)return F(null,null);const te=this._geoJSONIndex.getTile(N.z,N.x,N.y);if(!te)return F(null,null);const se=new ge(te.features);let me=Ee(se);0===me.byteOffset&&me.byteLength===me.buffer.byteLength||(me=new Uint8Array(me)),F(null,{vectorTile:se,rawData:me.buffer})}qi.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},qi.prototype.splitTile=function(ee,F,N,te,se,me,ue){for(var Le=[ee,F,N,te],fe=this.options,Te=fe.debug;Le.length;){te=Le.pop(),N=Le.pop(),F=Le.pop(),ee=Le.pop();var Ze=1<<F,Qe=nr(F,N,te),qe=this.tiles[Qe];if(!qe&&(Te>1&&console.time("creation"),qe=this.tiles[Qe]=Vi(ee,F,N,te,fe),this.tileCoords.push({z:F,x:N,y:te}),Te)){Te>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",F,N,te,qe.numFeatures,qe.numPoints,qe.numSimplified),console.timeEnd("creation"));var xt="z"+F;this.stats[xt]=(this.stats[xt]||0)+1,this.total++}if(qe.source=ee,se){if(F===fe.maxZoom||F===se)continue;var it=1<<se-F;if(N!==Math.floor(me/it)||te!==Math.floor(ue/it))continue}else if(F===fe.indexMaxZoom||qe.numPoints<=fe.indexMaxPoints)continue;if(qe.source=null,0!==ee.length){Te>1&&console.time("clipping");var xe,Oe,Tt,Ut,kt,jt,Kt=.5*fe.buffer/fe.extent,Fr=.5-Kt,$i=.5+Kt,rt=1+Kt;xe=Oe=Tt=Ut=null,kt=Hn(ee,Ze,N-Kt,N+$i,0,qe.minX,qe.maxX,fe),jt=Hn(ee,Ze,N+Fr,N+rt,0,qe.minX,qe.maxX,fe),ee=null,kt&&(xe=Hn(kt,Ze,te-Kt,te+$i,1,qe.minY,qe.maxY,fe),Oe=Hn(kt,Ze,te+Fr,te+rt,1,qe.minY,qe.maxY,fe),kt=null),jt&&(Tt=Hn(jt,Ze,te-Kt,te+$i,1,qe.minY,qe.maxY,fe),Ut=Hn(jt,Ze,te+Fr,te+rt,1,qe.minY,qe.maxY,fe),jt=null),Te>1&&console.timeEnd("clipping"),Le.push(xe||[],F+1,2*N,2*te),Le.push(Oe||[],F+1,2*N,2*te+1),Le.push(Tt||[],F+1,2*N+1,2*te),Le.push(Ut||[],F+1,2*N+1,2*te+1)}}},qi.prototype.getTile=function(ee,F,N){var te=this.options,se=te.extent,me=te.debug;if(ee<0||ee>24)return null;var ue=1<<ee,Le=nr(ee,F=(F%ue+ue)%ue,N);if(this.tiles[Le])return Qr(this.tiles[Le],se);me>1&&console.log("drilling down to z%d-%d-%d",ee,F,N);for(var fe,Te=ee,Ze=F,Qe=N;!fe&&Te>0;)Te--,Ze=Math.floor(Ze/2),Qe=Math.floor(Qe/2),fe=this.tiles[nr(Te,Ze,Qe)];return fe&&fe.source?(me>1&&console.log("found parent tile z%d-%d-%d",Te,Ze,Qe),me>1&&console.time("drilling down"),this.splitTile(fe.source,Te,Ze,Qe,ee,F,N),me>1&&console.timeEnd("drilling down"),this.tiles[Le]?Qr(this.tiles[Le],se):null):null};class Gi extends r.VectorTileWorkerSource{constructor(F,N,te,se,me){super(F,N,te,se,zr),me&&(this.loadGeoJSON=me)}loadData(F,N){const te=F&&F.request,se=te&&te.collectResourceTiming;this.loadGeoJSON(F,(me,ue)=>{if(me||!ue)return N(me);if("object"!=typeof ue)return N(new Error(`Input data given to '${F.source}' is not a valid GeoJSON object.`));{W(ue,!0);try{if(F.filter){const fe=r.createExpression(F.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===fe.result)throw new Error(fe.value.map(Ze=>`${Ze.key}: ${Ze.message}`).join(", "));const Te=ue.features.filter(Ze=>fe.value.evaluate({zoom:0},Ze));ue={type:"FeatureCollection",features:Te}}this._geoJSONIndex=F.cluster?new Lt(function({superclusterOptions:fe,clusterProperties:Te}){if(!Te||!fe)return fe;const Ze={},Qe={},qe={accumulated:null,zoom:0},xt={properties:null},it=Object.keys(Te);for(const xe of it){const[Oe,Tt]=Te[xe],Ut=r.createExpression(Tt),kt=r.createExpression("string"==typeof Oe?[Oe,["accumulated"],["get",xe]]:Oe);Ze[xe]=Ut.value,Qe[xe]=kt.value}return fe.map=xe=>{xt.properties=xe;const Oe={};for(const Tt of it)Oe[Tt]=Ze[Tt].evaluate(qe,xt);return Oe},fe.reduce=(xe,Oe)=>{xt.properties=Oe;for(const Tt of it)qe.accumulated=xe[Tt],xe[Tt]=Qe[Tt].evaluate(qe,xt)},fe}(F)).load(ue.features):new qi(fe=ue,F.geojsonVtOptions)}catch(fe){return N(fe)}this.loaded={};const Le={};if(se){const fe=r.getPerformanceMeasurement(te);fe&&(Le.resourceTiming={},Le.resourceTiming[F.source]=JSON.parse(JSON.stringify(fe)))}N(null,Le)}var fe})}reloadTile(F,N){const te=this.loaded;return te&&te[F.uid]?super.reloadTile(F,N):this.loadTile(F,N)}loadGeoJSON(F,N){if(F.request)r.getJSON(F.request,N);else{if("string"!=typeof F.data)return N(new Error(`Input data given to '${F.source}' is not a valid GeoJSON object.`));try{return N(null,JSON.parse(F.data))}catch(te){return N(new Error(`Input data given to '${F.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(F,N){try{N(null,this._geoJSONIndex.getClusterExpansionZoom(F.clusterId))}catch(te){N(te)}}getClusterChildren(F,N){try{N(null,this._geoJSONIndex.getChildren(F.clusterId))}catch(te){N(te)}}getClusterLeaves(F,N){try{N(null,this._geoJSONIndex.getLeaves(F.clusterId,F.limit,F.offset))}catch(te){N(te)}}}class Ci{constructor(F){this.self=F,this.actor=new r.Actor(F,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=r.getProjection({name:"mercator"}),this.workerSourceTypes={vector:r.VectorTileWorkerSource,geojson:Gi},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(N,te)=>{if(this.workerSourceTypes[N])throw new Error(`Worker source with name "${N}" already registered.`);this.workerSourceTypes[N]=te},this.self.registerRTLTextPlugin=N=>{if(r.plugin.isParsed())throw new Error("RTL text plugin already registered.");r.plugin.applyArabicShaping=N.applyArabicShaping,r.plugin.processBidirectionalText=N.processBidirectionalText,r.plugin.processStyledBidirectionalText=N.processStyledBidirectionalText}}clearCaches(F,N,te){delete this.layerIndexes[F],delete this.availableImages[F],delete this.workerSources[F],delete this.demWorkerSources[F],te()}checkIfReady(F,N,te){te()}setReferrer(F,N){this.referrer=N}spriteLoaded(F,N){this.isSpriteLoaded[F]=N;for(const te in this.workerSources[F]){const se=this.workerSources[F][te];for(const me in se)se[me]instanceof r.VectorTileWorkerSource&&(se[me].isSpriteLoaded=N,se[me].fire(new r.Event("isSpriteLoaded")))}}setImages(F,N,te){this.availableImages[F]=N;for(const se in this.workerSources[F]){const me=this.workerSources[F][se];for(const ue in me)me[ue].availableImages=N}te()}enableTerrain(F,N,te){this.terrain=N,te()}setProjection(F,N){this.projections[F]=r.getProjection(N)}setLayers(F,N,te){this.getLayerIndex(F).replace(N),te()}updateLayers(F,N,te){this.getLayerIndex(F).update(N.layers,N.removedIds),te()}loadTile(F,N,te){const se=this.enableTerrain?r.extend({enableTerrain:this.terrain},N):N;se.projection=this.projections[F]||this.defaultProjection,this.getWorkerSource(F,N.type,N.source).loadTile(se,te)}loadDEMTile(F,N,te){const se=this.enableTerrain?r.extend({buildQuadTree:this.terrain},N):N;this.getDEMWorkerSource(F,N.source).loadTile(se,te)}reloadTile(F,N,te){const se=this.enableTerrain?r.extend({enableTerrain:this.terrain},N):N;se.projection=this.projections[F]||this.defaultProjection,this.getWorkerSource(F,N.type,N.source).reloadTile(se,te)}abortTile(F,N,te){this.getWorkerSource(F,N.type,N.source).abortTile(N,te)}removeTile(F,N,te){this.getWorkerSource(F,N.type,N.source).removeTile(N,te)}removeSource(F,N,te){if(!this.workerSources[F]||!this.workerSources[F][N.type]||!this.workerSources[F][N.type][N.source])return;const se=this.workerSources[F][N.type][N.source];delete this.workerSources[F][N.type][N.source],void 0!==se.removeSource?se.removeSource(N,te):te()}loadWorkerSource(F,N,te){try{this.self.importScripts(N.url),te()}catch(se){te(se.toString())}}syncRTLPluginState(F,N,te){try{r.plugin.setState(N);const se=r.plugin.getPluginURL();if(r.plugin.isLoaded()&&!r.plugin.isParsed()&&null!=se){this.self.importScripts(se);const me=r.plugin.isParsed();te(me?void 0:new Error(`RTL Text Plugin failed to import scripts from ${se}`),me)}}catch(se){te(se.toString())}}getAvailableImages(F){let N=this.availableImages[F];return N||(N=[]),N}getLayerIndex(F){let N=this.layerIndexes[F];return N||(N=this.layerIndexes[F]=new C),N}getWorkerSource(F,N,te){return this.workerSources[F]||(this.workerSources[F]={}),this.workerSources[F][N]||(this.workerSources[F][N]={}),this.workerSources[F][N][te]||(this.workerSources[F][N][te]=new this.workerSourceTypes[N]({send:(se,me,ue,Le,fe,Te)=>{this.actor.send(se,me,ue,F,fe,Te)},scheduler:this.actor.scheduler},this.getLayerIndex(F),this.getAvailableImages(F),this.isSpriteLoaded[F])),this.workerSources[F][N][te]}getDEMWorkerSource(F,N){return this.demWorkerSources[F]||(this.demWorkerSources[F]={}),this.demWorkerSources[F][N]||(this.demWorkerSources[F][N]=new U),this.demWorkerSources[F][N]}enforceCacheSizeLimit(F,N){r.enforceCacheSizeLimit(N)}getWorkerPerformanceMetrics(F,N,te){te(void 0,void 0)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Ci(self)),Ci}),u(0,function(r){var T=k;function k(c){return t=c,!("undefined"==typeof window||"undefined"==typeof document||!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray)||!Function.prototype||!Function.prototype.bind||!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions)||!("JSON"in window&&"parse"in JSON&&"stringify"in JSON)||!function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var l,_,p=new Blob([""],{type:"text/javascript"}),v=URL.createObjectURL(p);try{_=new Worker(v),l=!0}catch(w){l=!1}return _&&_.terminate(),URL.revokeObjectURL(v),l}()||!("Uint8ClampedArray"in window)||!ArrayBuffer.isView||!function(){var l=document.createElement("canvas");l.width=l.height=1;var _=l.getContext("2d");if(!_)return!1;var p=_.getImageData(0,0,1,1);return p&&p.width===l.width}()||(void 0===C[a=t&&t.failIfMajorPerformanceCaveat]&&(C[a]=function(l){var _,v,w,S,p=(v=l,w=document.createElement("canvas"),(S=Object.create(k.webGLContextAttributes)).failIfMajorPerformanceCaveat=v,w.getContext("webgl",S)||w.getContext("experimental-webgl",S));if(!p)return!1;try{_=p.createShader(p.VERTEX_SHADER)}catch(v){return!1}return!(!_||p.isContextLost())&&(p.shaderSource(_,"void main() {}"),p.compileShader(_),!0===p.getShaderParameter(_,p.COMPILE_STATUS))}(a)),!C[a]||document.documentMode));var t,a}var C={};function I(c,t){if(Array.isArray(c)){if(!Array.isArray(t)||c.length!==t.length)return!1;for(let a=0;a<c.length;a++)if(!I(c[a],t[a]))return!1;return!0}if("object"==typeof c&&null!==c&&null!==t){if("object"!=typeof t||Object.keys(c).length!==Object.keys(t).length)return!1;for(const a in c)if(!I(c[a],t[a]))return!1;return!0}return c===t}k.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const U={create:function(c,t,a){const l=r.window.document.createElement(c);return void 0!==t&&(l.className=t),a&&a.appendChild(l),l},createNS:function(c,t){return r.window.document.createElementNS(c,t)}},W=r.window.document&&r.window.document.documentElement.style,oe=W&&void 0!==W.userSelect?"userSelect":"WebkitUserSelect";let be;U.disableDrag=function(){W&&oe&&(be=W[oe],W[oe]="none")},U.enableDrag=function(){W&&oe&&(W[oe]=be)},U.setTransform=function(c,t){c.style.transform=t};let G=!1;try{const c=Object.defineProperty({},"passive",{get(){G=!0}});r.window.addEventListener("test",c,c),r.window.removeEventListener("test",c,c)}catch(c){G=!1}U.addEventListener=function(c,t,a,l={}){c.addEventListener(t,a,"passive"in l&&G?l:l.capture)},U.removeEventListener=function(c,t,a,l={}){c.removeEventListener(t,a,"passive"in l&&G?l:l.capture)};const he=function(c){c.preventDefault(),c.stopPropagation(),r.window.removeEventListener("click",he,!0)};function ge(c,t,a){const l=c.offsetWidth===t.width?1:c.offsetWidth/t.width;return new r.pointGeometry((a.clientX-t.left)*l,(a.clientY-t.top)*l)}function Ie(c,t){var a=t[0],l=t[1],_=t[2],p=t[3],v=a*p-_*l;return v?(c[0]=p*(v=1/v),c[1]=-l*v,c[2]=-_*v,c[3]=a*v,c):null}U.suppressClick=function(){r.window.addEventListener("click",he,!0),r.window.setTimeout(()=>{r.window.removeEventListener("click",he,!0)},0)},U.mousePos=function(c,t){const a=c.getBoundingClientRect();return ge(c,a,t)},U.touchPos=function(c,t){const a=c.getBoundingClientRect(),l=[];for(let _=0;_<t.length;_++)l.push(ge(c,a,t[_]));return l},U.mouseButton=function(c){return void 0!==r.window.InstallTrigger&&2===c.button&&c.ctrlKey&&r.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:c.button},U.remove=function(c){c.parentNode&&c.parentNode.removeChild(c)};class $e{constructor(t,a){this.pos=t,this.dir=a}intersectsPlane(t,a,l){const _=r.dot(a,this.dir);if(Math.abs(_)<1e-6)return!1;const p=r.dot(r.sub(r.create(),t,this.pos),a)/_,v=r.scaleAndAdd(r.create(),this.pos,this.dir,p);return r.copy(l,v),!0}}class j{constructor(t,a){this.points=t,this.planes=a}static fromInvProjectionMatrix(t,a,l){const _=Math.pow(2,l),p=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(w=>{const S=r.transformMat4([],w,t),Y=1/S[3]/a*_;return r.mul(S,S,[Y,Y,1/S[3],Y])}),v=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(w=>{const S=r.sub([],p[w[0]],p[w[1]]),Y=r.sub([],p[w[2]],p[w[1]]),O=r.normalize([],r.cross([],S,Y)),z=-r.dot(O,p[w[1]]);return O.concat(z)});return new j(p,v)}}class Je{constructor(t,a){this.min=t,this.max=a,this.center=r.scale([],r.add([],this.min,this.max),.5)}quadrant(t){const a=[t%2==0,t<2],l=r.clone(this.min),_=r.clone(this.max);for(let p=0;p<a.length;p++)l[p]=a[p]?this.min[p]:this.center[p],_[p]=a[p]?this.center[p]:this.max[p];return _[2]=this.max[2],new Je(l,_)}distanceX(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]}distanceY(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]}distanceZ(t){return Math.max(Math.min(this.max[2],t[2]),this.min[2])-t[2]}intersects(t){const a=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let l=!0;for(let _=0;_<t.planes.length;_++){const p=t.planes[_];let v=0;for(let w=0;w<a.length;w++)v+=r.dot$1(p,a[w])>=0;if(0===v)return 0;v!==a.length&&(l=!1)}if(l)return 2;for(let _=0;_<3;_++){let p=Number.MAX_VALUE,v=-Number.MAX_VALUE;for(let w=0;w<t.points.length;w++){const S=t.points[w][_]-this.min[_];p=Math.min(p,S),v=Math.max(v,S)}if(v<0||p>this.max[_]-this.min[_])return 0}return 1}}function Ee(c){const{userImage:t}=c;return!!(t&&t.render&&t.render())&&(c.data.replace(new Uint8Array(t.data.buffer)),!0)}class Pe extends r.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new r.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(t){if(this.loaded!==t&&(this.loaded=t,t)){for(const{ids:a,callback:l}of this.requestors)this._notify(a,l);this.requestors=[]}}getImage(t){return this.images[t]}addImage(t,a){this._validate(t,a)&&(this.images[t]=a)}_validate(t,a){let l=!0;return this._validateStretch(a.stretchX,a.data&&a.data.width)||(this.fire(new r.ErrorEvent(new Error(`Image "${t}" has invalid "stretchX" value`))),l=!1),this._validateStretch(a.stretchY,a.data&&a.data.height)||(this.fire(new r.ErrorEvent(new Error(`Image "${t}" has invalid "stretchY" value`))),l=!1),this._validateContent(a.content,a)||(this.fire(new r.ErrorEvent(new Error(`Image "${t}" has invalid "content" value`))),l=!1),l}_validateStretch(t,a){if(!t)return!0;let l=0;for(const _ of t){if(_[0]<l||_[1]<_[0]||a<_[1])return!1;l=_[1]}return!0}_validateContent(t,a){return!(t&&(4!==t.length||t[0]<0||a.data.width<t[0]||t[1]<0||a.data.height<t[1]||t[2]<0||a.data.width<t[2]||t[3]<0||a.data.height<t[3]||t[2]<t[0]||t[3]<t[1]))}updateImage(t,a){a.version=this.images[t].version+1,this.images[t]=a,this.updatedImages[t]=!0}removeImage(t){const a=this.images[t];delete this.images[t],delete this.patterns[t],a.userImage&&a.userImage.onRemove&&a.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(t,a){let l=!0;if(!this.isLoaded())for(const _ of t)this.images[_]||(l=!1);this.isLoaded()||l?this._notify(t,a):this.requestors.push({ids:t,callback:a})}_notify(t,a){const l={};for(const _ of t){this.images[_]||this.fire(new r.Event("styleimagemissing",{id:_}));const p=this.images[_];p?l[_]={data:p.data.clone(),pixelRatio:p.pixelRatio,sdf:p.sdf,version:p.version,stretchX:p.stretchX,stretchY:p.stretchY,content:p.content,hasRenderCallback:Boolean(p.userImage&&p.userImage.render)}:r.warnOnce(`Image "${_}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}a(null,l)}getPixelSize(){const{width:t,height:a}=this.atlasImage;return{width:t,height:a}}getPattern(t){const a=this.patterns[t],l=this.getImage(t);if(!l)return null;if(a&&a.position.version===l.version)return a.position;if(a)a.position.version=l.version;else{const _={w:l.data.width+2,h:l.data.height+2,x:0,y:0},p=new r.ImagePosition(_,l);this.patterns[t]={bin:_,position:p}}return this._updatePatternAtlas(),this.patterns[t].position}bind(t){const a=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new r.Texture(t,this.atlasImage,a.RGBA),this.atlasTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE)}_updatePatternAtlas(){const t=[];for(const p in this.patterns)t.push(this.patterns[p].bin);const{w:a,h:l}=r.potpack(t),_=this.atlasImage;_.resize({width:a||1,height:l||1});for(const p in this.patterns){const{bin:v}=this.patterns[p],w=v.x+1,S=v.y+1,Y=this.images[p].data,O=Y.width,z=Y.height;r.RGBAImage.copy(Y,_,{x:0,y:0},{x:w,y:S},{width:O,height:z}),r.RGBAImage.copy(Y,_,{x:0,y:z-1},{x:w,y:S-1},{width:O,height:1}),r.RGBAImage.copy(Y,_,{x:0,y:0},{x:w,y:S+z},{width:O,height:1}),r.RGBAImage.copy(Y,_,{x:O-1,y:0},{x:w-1,y:S},{width:1,height:z}),r.RGBAImage.copy(Y,_,{x:0,y:0},{x:w+O,y:S},{width:1,height:z})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(t){for(const a of t){if(this.callbackDispatchedThisFrame[a])continue;this.callbackDispatchedThisFrame[a]=!0;const l=this.images[a];Ee(l)&&this.updateImage(a,l)}}}const lt=new r.Properties({anchor:new r.DataConstantProperty(r.spec.light.anchor),position:new class{constructor(){this.specification=r.spec.light.position}possiblyEvaluate(c,t){return function([a,l,_]){const p=r.degToRad(l+90),v=r.degToRad(_);return{x:a*Math.cos(p)*Math.sin(v),y:a*Math.sin(p)*Math.sin(v),z:a*Math.cos(v),azimuthal:l,polar:_}}(c.expression.evaluate(t))}interpolate(c,t,a){return{x:r.number(c.x,t.x,a),y:r.number(c.y,t.y,a),z:r.number(c.z,t.z,a),azimuthal:r.number(c.azimuthal,t.azimuthal,a),polar:r.number(c.polar,t.polar,a)}}},color:new r.DataConstantProperty(r.spec.light.color),intensity:new r.DataConstantProperty(r.spec.light.intensity)}),We="-transition";class Ke extends r.Evented{constructor(t){super(),this._transitionable=new r.Transitionable(lt),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(t,a={}){if(!this._validate(r.validateLight,t,a))for(const l in t){const _=t[l];r.endsWith(l,We)?this._transitionable.setTransition(l.slice(0,-We.length),_):this._transitionable.setValue(l,_)}}updateTransitions(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(t){this.properties=this._transitioning.possiblyEvaluate(t)}_validate(t,a,l){return(!l||!1!==l.validate)&&r.emitValidationErrors(this,t.call(r.validateStyle,r.extend({value:a,style:{glyphs:!0,sprite:!0},styleSpec:r.spec})))}}const Xe=new r.Properties({source:new r.DataConstantProperty(r.spec.terrain.source),exaggeration:new r.DataConstantProperty(r.spec.terrain.exaggeration)}),Ye="-transition";class tt extends r.Evented{constructor(t){super(),this._transitionable=new r.Transitionable(Xe),this.set(t),this._transitioning=this._transitionable.untransitioned()}get(){return this._transitionable.serialize()}set(t){for(const a in t){const l=t[a];r.endsWith(a,Ye)?this._transitionable.setTransition(a.slice(0,-Ye.length),l):this._transitionable.setValue(a,l)}}updateTransitions(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(t){this.properties=this._transitioning.possiblyEvaluate(t)}}function et(c,t,a,l){const _=r.smoothstep(45,65,a),[p,v]=vt(c,l),w=r.length(t);let S=1-Math.min(1,Math.exp((w-p)/(v-p)*-6));return S*=S*S,S=Math.min(1,1.00747*S),S*_*c.alpha}function vt(c,t){const a=.5/Math.tan(.5*t);return[c.range[0]+a,c.range[1]+a]}const dt=new r.Properties({range:new r.DataConstantProperty(r.spec.fog.range),color:new r.DataConstantProperty(r.spec.fog.color),"horizon-blend":new r.DataConstantProperty(r.spec.fog["horizon-blend"])}),Mt="-transition";class Rt extends r.Evented{constructor(t,a){super(),this._transitionable=new r.Transitionable(dt),this.set(t),this._transitioning=this._transitionable.untransitioned(),this._transform=a}isSoftDisabled(){return"mercator"!==this._transform.projection.name}get state(){return{range:this.properties.get("range"),horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(t,a={}){if(!this._validate(r.validateFog,t,a))for(const l in t){const _=t[l];r.endsWith(l,Mt)?this._transitionable.setTransition(l.slice(0,-Mt.length),_):this._transitionable.setValue(l,_)}}getOpacity(t){if(this.isSoftDisabled())return 0;const a=this.properties&&this.properties.get("color")||1;return r.smoothstep(45,65,t)*a.a}getOpacityAtLatLng(t,a){return this.isSoftDisabled()?0:function(l,_,p){const v=r.MercatorCoordinate.fromLngLat(_),w=p.elevation?p.elevation.getAtPointOrZero(v):0,S=[v.x,v.y,w];return r.transformMat4$1(S,S,p.mercatorFogMatrix),et(l,S,p.pitch,p._fov)}(this.state,t,a)}getFovAdjustedRange(t){return this.isSoftDisabled()?[0,1]:vt(this.state,t)}updateTransitions(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(t){this.properties=this._transitioning.possiblyEvaluate(t)}_validate(t,a,l){return(!l||!1!==l.validate)&&r.emitValidationErrors(this,t.call(r.validateStyle,r.extend({value:a,style:{glyphs:!0,sprite:!0},styleSpec:r.spec})))}}class tn{constructor(t,a){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=r.uniqueId();const l=this.workerPool.acquire(this.id);for(let _=0;_<l.length;_++){const p=new tn.Actor(l[_],a,this.id);p.name=`Worker ${_}`,this.actors.push(p)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(t,a,l){r.asyncAll(this.actors,(_,p)=>{_.send(t,a,p)},l=l||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(t=>{t.remove()}),this.actors=[],this.workerPool.release(this.id)}}function nn(c,t,a){return t*(r.EXTENT/(c.tileSize*Math.pow(2,a-c.tileID.overscaledZ)))}tn.Actor=r.Actor;class ln{constructor(t,a,l,_){this.screenBounds=t,this.cameraPoint=a,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=l,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this.screenGeometry.map(p=>_.pointCoordinate3D(p)),this.cameraGeometry=this.bufferedCameraGeometry(0)}static createFromScreenPoints(t,a){let l,_;if(t instanceof r.pointGeometry||"number"==typeof t[0]){const p=r.pointGeometry.convert(t);l=[r.pointGeometry.convert(t)],_=a.isPointAboveHorizon(p)}else{const p=r.pointGeometry.convert(t[0]),v=r.pointGeometry.convert(t[1]);l=[p,v],_=r.polygonizeBounds(p,v).every(w=>a.isPointAboveHorizon(w))}return new ln(l,a.getCameraPoint(),_,a)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(t){return r.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],t)}bufferedCameraGeometry(t){const a=this.screenBounds[0],l=1===this.screenBounds.length?this.screenBounds[0].add(new r.pointGeometry(1,1)):this.screenBounds[1],_=r.polygonizeBounds(a,l,0,!1);return this.cameraPoint.y>l.y&&(this.cameraPoint.x>a.x&&this.cameraPoint.x<l.x?_.splice(3,0,this.cameraPoint):this.cameraPoint.x>=l.x?_[2]=this.cameraPoint:this.cameraPoint.x<=a.x&&(_[3]=this.cameraPoint)),r.bufferConvexPolygon(_,t)}containsTile(t,a,l){const _=t.queryPadding+1,p=t.tileID.wrap,v=l?this._bufferedCameraMercator(_,a).map(Q=>r.getTilePoint(t.tileTransform,Q,p)):this._bufferedScreenMercator(_,a).map(Q=>r.getTilePoint(t.tileTransform,Q,p)),w=this.screenGeometryMercator.map(Q=>r.getTileVec3(t.tileTransform,Q,p)),S=w.map(Q=>new r.pointGeometry(Q[0],Q[1])),Y=a.getFreeCameraOptions().position||new r.MercatorCoordinate(0,0,0),O=r.getTileVec3(t.tileTransform,Y,p),z=w.map(Q=>{const $=r.sub(Q,Q,O);return r.normalize($,$),new $e(O,$)}),H=nn(t,1,a.zoom);if(r.polygonIntersectsBox(v,0,0,r.EXTENT,r.EXTENT))return{queryGeometry:this,tilespaceGeometry:S,tilespaceRays:z,bufferedTilespaceGeometry:v,bufferedTilespaceBounds:(K=r.getBounds(v),K.min.x=r.clamp(K.min.x,0,r.EXTENT),K.min.y=r.clamp(K.min.y,0,r.EXTENT),K.max.x=r.clamp(K.max.x,0,r.EXTENT),K.max.y=r.clamp(K.max.y,0,r.EXTENT),K),tile:t,tileID:t.tileID,pixelToTileUnitsFactor:H};var K}_bufferedScreenMercator(t,a){const l=It(t);if(this._screenRaycastCache[l])return this._screenRaycastCache[l];{const _=this.bufferedScreenGeometry(t).map(p=>a.pointCoordinate3D(p));return this._screenRaycastCache[l]=_,_}}_bufferedCameraMercator(t,a){const l=It(t);if(this._cameraRaycastCache[l])return this._cameraRaycastCache[l];{const _=this.bufferedCameraGeometry(t).map(p=>a.pointCoordinate3D(p));return this._cameraRaycastCache[l]=_,_}}}function It(c){return 100*c|0}function mn(c,t,a){const l=function(_,p){if(_)return a(_);if(p){const v=r.pick(r.extend(p,c),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);p.vector_layers&&(v.vectorLayers=p.vector_layers,v.vectorLayerIds=v.vectorLayers.map(w=>w.id)),v.tiles=t.canonicalizeTileset(v,c.url),a(null,v)}};return c.url?r.getJSON(t.transformRequest(t.normalizeSourceURL(c.url),r.ResourceType.Source),l):r.exported.frame(()=>l(null,c))}class Nn{constructor(t,a,l){this.bounds=r.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=a||0,this.maxzoom=l||24}validateBounds(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]}contains(t){const a=Math.pow(2,t.z),l=Math.floor(r.mercatorXfromLng(this.bounds.getWest())*a),_=Math.floor(r.mercatorYfromLat(this.bounds.getNorth())*a),p=Math.ceil(r.mercatorXfromLng(this.bounds.getEast())*a),v=Math.ceil(r.mercatorYfromLat(this.bounds.getSouth())*a);return t.x>=l&&t.x<p&&t.y>=_&&t.y<v}}class yn{constructor(t,a,l){this.context=t;const _=t.gl;this.buffer=_.createBuffer(),this.dynamicDraw=Boolean(l),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),_.bufferData(_.ELEMENT_ARRAY_BUFFER,a.arrayBuffer,this.dynamicDraw?_.DYNAMIC_DRAW:_.STATIC_DRAW),this.dynamicDraw||delete a.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(t){const a=this.context.gl;this.context.unbindVAO(),this.bind(),a.bufferSubData(a.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const yt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Lt{constructor(t,a,l,_){this.length=a.length,this.attributes=l,this.itemSize=a.bytesPerElement,this.dynamicDraw=_,this.context=t;const p=t.gl;this.buffer=p.createBuffer(),t.bindVertexBuffer.set(this.buffer),p.bufferData(p.ARRAY_BUFFER,a.arrayBuffer,this.dynamicDraw?p.DYNAMIC_DRAW:p.STATIC_DRAW),this.dynamicDraw||delete a.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(t){const a=this.context.gl;this.bind(),a.bufferSubData(a.ARRAY_BUFFER,0,t.arrayBuffer)}enableAttributes(t,a){for(let l=0;l<this.attributes.length;l++){const _=a.attributes[this.attributes[l].name];void 0!==_&&t.enableVertexAttribArray(_)}}setVertexAttribPointers(t,a,l){for(let _=0;_<this.attributes.length;_++){const p=this.attributes[_],v=a.attributes[p.name];void 0!==v&&t.vertexAttribPointer(v,p.components,t[yt[p.type]],!1,this.itemSize,p.offset+this.itemSize*(l||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Ve{constructor(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(t){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Ge extends Ve{getDefault(){return r.Color.transparent}set(t){const a=this.current;(t.r!==a.r||t.g!==a.g||t.b!==a.b||t.a!==a.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)}}class wt extends Ve{getDefault(){return 1}set(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)}}class zt extends Ve{getDefault(){return 0}set(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)}}class Cn extends Ve{getDefault(){return[!0,!0,!0,!0]}set(t){const a=this.current;(t[0]!==a[0]||t[1]!==a[1]||t[2]!==a[2]||t[3]!==a[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)}}class Dn extends Ve{getDefault(){return!0}set(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)}}class bi extends Ve{getDefault(){return 255}set(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)}}class Ht extends Ve{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(t){const a=this.current;(t.func!==a.func||t.ref!==a.ref||t.mask!==a.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)}}class En extends Ve{getDefault(){const t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]}set(t){const a=this.current;(t[0]!==a[0]||t[1]!==a[1]||t[2]!==a[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)}}class Sn extends Ve{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const a=this.gl;t?a.enable(a.STENCIL_TEST):a.disable(a.STENCIL_TEST),this.current=t,this.dirty=!1}}class pi extends Ve{getDefault(){return[0,1]}set(t){const a=this.current;(t[0]!==a[0]||t[1]!==a[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)}}class bs extends Ve{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const a=this.gl;t?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST),this.current=t,this.dirty=!1}}class _r extends Ve{getDefault(){return this.gl.LESS}set(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)}}class Hi extends Ve{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const a=this.gl;t?a.enable(a.BLEND):a.disable(a.BLEND),this.current=t,this.dirty=!1}}class In extends Ve{getDefault(){const t=this.gl;return[t.ONE,t.ZERO]}set(t){const a=this.current;(t[0]!==a[0]||t[1]!==a[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)}}class Jn extends Ve{getDefault(){return r.Color.transparent}set(t){const a=this.current;(t.r!==a.r||t.g!==a.g||t.b!==a.b||t.a!==a.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)}}class fi extends Ve{getDefault(){return this.gl.FUNC_ADD}set(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)}}class tr extends Ve{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const a=this.gl;t?a.enable(a.CULL_FACE):a.disable(a.CULL_FACE),this.current=t,this.dirty=!1}}class Un extends Ve{getDefault(){return this.gl.BACK}set(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)}}class Si extends Ve{getDefault(){return this.gl.CCW}set(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)}}class Hn extends Ve{getDefault(){return null}set(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)}}class ci extends Ve{getDefault(){return this.gl.TEXTURE0}set(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)}}class Bt extends Ve{getDefault(){const t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]}set(t){const a=this.current;(t[0]!==a[0]||t[1]!==a[1]||t[2]!==a[2]||t[3]!==a[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)}}class Wi extends Ve{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const a=this.gl;a.bindFramebuffer(a.FRAMEBUFFER,t),this.current=t,this.dirty=!1}}class mr extends Ve{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const a=this.gl;a.bindRenderbuffer(a.RENDERBUFFER,t),this.current=t,this.dirty=!1}}class Or extends Ve{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const a=this.gl;a.bindTexture(a.TEXTURE_2D,t),this.current=t,this.dirty=!1}}class Xa extends Ve{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const a=this.gl;a.bindBuffer(a.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}}class ra extends Ve{getDefault(){return null}set(t){const a=this.gl;a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1}}class ws extends Ve{constructor(t){super(t),this.vao=t.extVertexArrayObject}getDefault(){return null}set(t){this.vao&&(t!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(t),this.current=t,this.dirty=!1)}}class On extends Ve{getDefault(){return 4}set(t){if(t===this.current&&!this.dirty)return;const a=this.gl;a.pixelStorei(a.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}}class Qr extends Ve{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const a=this.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}}class gi extends Ve{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const a=this.gl;a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}}class Vi extends Ve{constructor(t,a){super(t),this.context=t,this.parent=a}getDefault(){return null}}class un extends Vi{setDirty(){this.dirty=!0}set(t){if(t===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const a=this.gl;a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}}class pr extends Vi{attachment(){return this.gl.DEPTH_ATTACHMENT}set(t){if(t===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const a=this.gl;a.framebufferRenderbuffer(a.FRAMEBUFFER,this.attachment(),a.RENDERBUFFER,t),this.current=t,this.dirty=!1}}class qi extends pr{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class nr{constructor(t,a,l,_){this.context=t,this.width=a,this.height=l;const p=this.framebuffer=t.gl.createFramebuffer();this.colorAttachment=new un(t,p),_&&(this.depthAttachment=new pr(t,p))}destroy(){const t=this.context.gl,a=this.colorAttachment.get();if(a&&t.deleteTexture(a),this.depthAttachment){const l=this.depthAttachment.get();l&&t.deleteRenderbuffer(l)}t.deleteFramebuffer(this.framebuffer)}}class zr{constructor(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ge(this),this.clearDepth=new wt(this),this.clearStencil=new zt(this),this.colorMask=new Cn(this),this.depthMask=new Dn(this),this.stencilMask=new bi(this),this.stencilFunc=new Ht(this),this.stencilOp=new En(this),this.stencilTest=new Sn(this),this.depthRange=new pi(this),this.depthTest=new bs(this),this.depthFunc=new _r(this),this.blend=new Hi(this),this.blendFunc=new In(this),this.blendColor=new Jn(this),this.blendEquation=new fi(this),this.cullFace=new tr(this),this.cullFaceSide=new Un(this),this.frontFace=new Si(this),this.program=new Hn(this),this.activeTexture=new ci(this),this.viewport=new Bt(this),this.bindFramebuffer=new Wi(this),this.bindRenderbuffer=new mr(this),this.bindTexture=new Or(this),this.bindVertexBuffer=new Xa(this),this.bindElementBuffer=new ra(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ws(this),this.pixelStoreUnpack=new On(this),this.pixelStoreUnpackPremultiplyAlpha=new Qr(this),this.pixelStoreUnpackFlipY=new gi(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(t.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=t.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=t.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(t,a){return new yn(this,t,a)}createVertexBuffer(t,a,l){return new Lt(this,t,a,l)}createRenderbuffer(t,a,l){const _=this.gl,p=_.createRenderbuffer();return this.bindRenderbuffer.set(p),_.renderbufferStorage(_.RENDERBUFFER,t,a,l),this.bindRenderbuffer.set(null),p}createFramebuffer(t,a,l){return new nr(this,t,a,l)}clear({color:t,depth:a,stencil:l}){const _=this.gl;let p=0;t&&(p|=_.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==a&&(p|=_.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(a),this.depthMask.set(!0)),void 0!==l&&(p|=_.STENCIL_BUFFER_BIT,this.clearStencil.set(l),this.stencilMask.set(255)),_.clear(p)}setCullFace(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))}setDepthMode(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)}setStencilMode(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)}setColorMode(t){I(t.blendFunction,r.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Gi extends r.Evented{constructor(t,a,l,_){super(),this.id=t,this.dispatcher=l,this.setEventedParent(_),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=r.extend({type:"raster"},a),r.extend(this,r.pick(a,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new r.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=mn(this._options,this.map._requestManager,(t,a)=>{this._tileJSONRequest=null,this._loaded=!0,t?this.fire(new r.ErrorEvent(t)):a&&(r.extend(this,a),a.bounds&&(this.tileBounds=new Nn(a.bounds,this.minzoom,this.maxzoom)),r.postTurnstileEvent(a.tiles),this.fire(new r.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new r.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(t){this.map=t,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return r.extend({},this._options)}hasTile(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)}loadTile(t,a){const l=r.exported.devicePixelRatio>=2,_=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),l,this.tileSize);t.request=r.getImage(this.map._requestManager.transformRequest(_,r.ResourceType.Tile),(p,v,w,S)=>{if(delete t.request,t.aborted)t.state="unloaded",a(null);else if(p)t.state="errored",a(p);else if(v){this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:w,expires:S});const Y=this.map.painter.context,O=Y.gl;t.texture=this.map.painter.getTileTexture(v.width),t.texture?t.texture.update(v,{useMipmap:!0}):(t.texture=new r.Texture(Y,v,O.RGBA,{useMipmap:!0}),t.texture.bind(O.LINEAR,O.CLAMP_TO_EDGE),Y.extTextureFilterAnisotropic&&O.texParameterf(O.TEXTURE_2D,Y.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Y.extTextureFilterAnisotropicMax)),t.state="loaded",r.cacheEntryPossiblyAdded(this.dispatcher),a(null)}})}abortTile(t,a){t.request&&(t.request.cancel(),delete t.request),a()}unloadTile(t,a){t.texture&&this.map.painter.saveTileTexture(t.texture),a()}hasTransition(){return!1}}let Ci;class ee extends r.Evented{constructor(t,a,l,_){super(),this.id=t,this.dispatcher=l,this.coordinates=a.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(_),this.options=a}load(t,a){this._loaded=!1,this.fire(new r.Event("dataloading",{dataType:"source"})),this.url=this.options.url,r.getImage(this.map._requestManager.transformRequest(this.url,r.ResourceType.Image),(l,_)=>{this._loaded=!0,l?this.fire(new r.ErrorEvent(l)):_&&(this.image=r.exported.getImageData(_),t&&(this.coordinates=t),a&&a(),this._finishLoading())})}loaded(){return this._loaded}updateImage(t){return this.image&&t.url?(this.options.url=t.url,this.load(t.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new r.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(t){this.map=t,this.load()}setCoordinates(t){this.coordinates=t,delete this._boundsArray;const a=t.map(r.MercatorCoordinate.fromLngLat);return this.tileID=function(l){let _=1/0,p=1/0,v=-1/0,w=-1/0;for(const z of l)_=Math.min(_,z.x),p=Math.min(p,z.y),v=Math.max(v,z.x),w=Math.max(w,z.y);const S=Math.max(v-_,w-p),Y=Math.max(0,Math.floor(-Math.log(S)/Math.LN2)),O=Math.pow(2,Y);return new r.CanonicalTileID(Y,Math.floor((_+v)/2*O),Math.floor((p+w)/2*O))}(a),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new r.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){delete this._boundsArray}_makeBoundsArray(){const t=r.tileTransform(this.tileID,this.map.transform.projection),a=this.coordinates.map(l=>{const _=t.projection.project(l[0],l[1]);return r.getTilePoint(t,_)._round()});return this._boundsArray=new r.StructArrayLayout4i8,this._boundsArray.emplaceBack(a[0].x,a[0].y,0,0),this._boundsArray.emplaceBack(a[1].x,a[1].y,r.EXTENT,0),this._boundsArray.emplaceBack(a[3].x,a[3].y,0,r.EXTENT),this._boundsArray.emplaceBack(a[2].x,a[2].y,r.EXTENT,r.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const t=this.map.painter.context,a=t.gl;this._boundsArray||this._makeBoundsArray(),this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,r.boundsAttributes.members)),this.boundsSegments||(this.boundsSegments=r.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new r.Texture(t,this.image,a.RGBA),this.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE));for(const l in this.tiles){const _=this.tiles[l];"loaded"!==_.state&&(_.state="loaded",_.texture=this.texture)}}loadTile(t,a){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},a(null)):(t.state="errored",a(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const F={vector:class extends r.Evented{constructor(c,t,a,l){if(super(),this.id=c,this.dispatcher=a,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,r.extend(this,r.pick(t,["url","scheme","tileSize","promoteId"])),this._options=r.extend({type:"vector"},t),this._collectResourceTiming=t.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(l),this._tileWorkers={},this._deduped=new r.DedupedRequest}load(){this._loaded=!1,this.fire(new r.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=mn(this._options,this.map._requestManager,(c,t)=>{this._tileJSONRequest=null,this._loaded=!0,c?this.fire(new r.ErrorEvent(c)):t&&(r.extend(this,t),t.bounds&&(this.tileBounds=new Nn(t.bounds,this.minzoom,this.maxzoom)),r.postTurnstileEvent(t.tiles,this.map._requestManager._customAccessToken),this.fire(new r.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new r.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}onAdd(c){this.map=c,this.load()}setSourceProperty(c){this._tileJSONRequest&&this._tileJSONRequest.cancel(),c();const t=this.map.style._getSourceCaches(this.id);for(const a of t)a.clearTiles();this.load()}setTiles(c){return this.setSourceProperty(()=>{this._options.tiles=c}),this}setUrl(c){return this.setSourceProperty(()=>{this.url=c,this._options.url=c}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return r.extend({},this._options)}loadTile(c,t){const a=this.map._requestManager.normalizeTileURL(c.tileID.canonical.url(this.tiles,this.scheme)),l={request:this.map._requestManager.transformRequest(a,r.ResourceType.Tile),data:void 0,uid:c.uid,tileID:c.tileID,tileZoom:c.tileZoom,zoom:c.tileID.overscaledZ,tileSize:this.tileSize*c.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:r.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:c.isSymbolTile};if(l.request.collectResourceTiming=this._collectResourceTiming,c.actor&&"expired"!==c.state)"loading"===c.state?c.reloadCallback=t:c.request=c.actor.send("reloadTile",l,_.bind(this));else if(c.actor=this._tileWorkers[a]=this._tileWorkers[a]||this.dispatcher.getActor(),this.dispatcher.ready)c.request=c.actor.send("loadTile",l,_.bind(this),void 0,!0);else{const p=r.loadVectorTile.call({deduped:this._deduped},l,(v,w)=>{v||!w?_.call(this,v):(l.data={cacheControl:w.cacheControl,expires:w.expires,rawData:w.rawData.slice(0)},c.actor&&c.actor.send("loadTile",l,_.bind(this),void 0,!0))},!0);c.request={cancel:p}}function _(p,v){return delete c.request,c.aborted?t(null):p&&404!==p.status?t(p):(v&&v.resourceTiming&&(c.resourceTiming=v.resourceTiming),this.map._refreshExpiredTiles&&v&&c.setExpiryData(v),c.loadVectorData(v,this.map.painter),r.cacheEntryPossiblyAdded(this.dispatcher),t(null),void(c.reloadCallback&&(this.loadTile(c,c.reloadCallback),c.reloadCallback=null)))}}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.actor&&c.actor.send("abortTile",{uid:c.uid,type:this.type,source:this.id})}unloadTile(c){c.unloadVectorData(),c.actor&&c.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}},raster:Gi,"raster-dem":class extends Gi{constructor(c,t,a,l){super(c,t,a,l),this.type="raster-dem",this.maxzoom=22,this._options=r.extend({type:"raster-dem"},t),this.encoding=t.encoding||"mapbox"}loadTile(c,t){const a=this.map._requestManager.normalizeTileURL(c.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function l(_,p){_&&(c.state="errored",t(_)),p&&(c.dem=p,c.dem.onDeserialize(),c.needsHillshadePrepare=!0,c.needsDEMTextureUpload=!0,c.state="loaded",t(null))}c.request=r.getImage(this.map._requestManager.transformRequest(a,r.ResourceType.Tile),function(_,p,v,w){if(delete c.request,c.aborted)c.state="unloaded",t(null);else if(_)c.state="errored",t(_);else if(p){this.map._refreshExpiredTiles&&c.setExpiryData({cacheControl:v,expires:w});const S=r.window.ImageBitmap&&p instanceof r.window.ImageBitmap&&(null==Ci&&(Ci=r.window.OffscreenCanvas&&new r.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof r.window.createImageBitmap),Ci),Y=1-(p.width-r.prevPowerOfTwo(p.width))/2;Y<1||c.neighboringTiles||(c.neighboringTiles=this._getNeighboringTiles(c.tileID));const O=S?p:r.exported.getImageData(p,Y),z={uid:c.uid,coord:c.tileID,source:this.id,rawImageData:O,encoding:this.encoding,padding:Y};c.actor&&"expired"!==c.state||(c.actor=this.dispatcher.getActor(),c.actor.send("loadDEMTile",z,l.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(c){const t=c.canonical,a=Math.pow(2,t.z),l=(t.x-1+a)%a,_=0===t.x?c.wrap-1:c.wrap,p=(t.x+1+a)%a,v=t.x+1===a?c.wrap+1:c.wrap,w={};return w[new r.OverscaledTileID(c.overscaledZ,_,t.z,l,t.y).key]={backfilled:!1},w[new r.OverscaledTileID(c.overscaledZ,v,t.z,p,t.y).key]={backfilled:!1},t.y>0&&(w[new r.OverscaledTileID(c.overscaledZ,_,t.z,l,t.y-1).key]={backfilled:!1},w[new r.OverscaledTileID(c.overscaledZ,c.wrap,t.z,t.x,t.y-1).key]={backfilled:!1},w[new r.OverscaledTileID(c.overscaledZ,v,t.z,p,t.y-1).key]={backfilled:!1}),t.y+1<a&&(w[new r.OverscaledTileID(c.overscaledZ,_,t.z,l,t.y+1).key]={backfilled:!1},w[new r.OverscaledTileID(c.overscaledZ,c.wrap,t.z,t.x,t.y+1).key]={backfilled:!1},w[new r.OverscaledTileID(c.overscaledZ,v,t.z,p,t.y+1).key]={backfilled:!1}),w}unloadTile(c){c.demTexture&&this.map.painter.saveTileTexture(c.demTexture),c.fbo&&(c.fbo.destroy(),delete c.fbo),c.dem&&delete c.dem,delete c.neighboringTiles,c.state="unloaded"}},geojson:class extends r.Evented{constructor(c,t,a,l){super(),this.id=c,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=a.getActor(),this.setEventedParent(l),this._data=t.data,this._options=r.extend({},t),this._collectResourceTiming=t.collectResourceTiming,void 0!==t.maxzoom&&(this.maxzoom=t.maxzoom),t.type&&(this.type=t.type),t.attribution&&(this.attribution=t.attribution),this.promoteId=t.promoteId;const _=r.EXTENT/this.tileSize;this.workerOptions=r.extend({source:this.id,cluster:t.cluster||!1,geojsonVtOptions:{buffer:(void 0!==t.buffer?t.buffer:128)*_,tolerance:(void 0!==t.tolerance?t.tolerance:.375)*_,extent:r.EXTENT,maxZoom:this.maxzoom,lineMetrics:t.lineMetrics||!1,generateId:t.generateId||!1},superclusterOptions:{maxZoom:void 0!==t.clusterMaxZoom?t.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,t.clusterMinPoints||2),extent:r.EXTENT,radius:(void 0!==t.clusterRadius?t.clusterRadius:50)*_,log:!1,generateId:t.generateId||!1},clusterProperties:t.clusterProperties,filter:t.filter},t.workerOptions)}onAdd(c){this.map=c,this.setData(this._data)}setData(c){return this._data=c,this._updateWorkerData(),this}getClusterExpansionZoom(c,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:c,source:this.id},t),this}getClusterChildren(c,t){return this.actor.send("geojson.getClusterChildren",{clusterId:c,source:this.id},t),this}getClusterLeaves(c,t,a,l){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:c,limit:t,offset:a},l),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new r.Event("dataloading",{dataType:"source"})),this._loaded=!1;const c=r.extend({},this.workerOptions),t=this._data;"string"==typeof t?(c.request=this.map._requestManager.transformRequest(r.exported.resolveURL(t),r.ResourceType.Source),c.request.collectResourceTiming=this._collectResourceTiming):c.data=JSON.stringify(t),this._pendingLoad=this.actor.send(`${this.type}.loadData`,c,(a,l)=>{if(this._loaded=!0,this._pendingLoad=null,a)this.fire(new r.ErrorEvent(a));else{const _={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&l&&l.resourceTiming&&l.resourceTiming[this.id]&&(_.resourceTiming=l.resourceTiming[this.id]),this.fire(new r.Event("data",_)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(c,t){const a=c.actor?"reloadTile":"loadTile";c.actor=this.actor,c.request=this.actor.send(a,{type:this.type,uid:c.uid,tileID:c.tileID,tileZoom:c.tileZoom,zoom:c.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:r.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(l,_)=>(delete c.request,c.unloadVectorData(),c.aborted?t(null):l?t(l):(c.loadVectorData(_,this.map.painter,"reloadTile"===a),t(null))),void 0,"loadTile"===a)}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.aborted=!0}unloadTile(c){c.unloadVectorData(),this.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return r.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends ee{constructor(c,t,a,l){super(c,t,a,l),this.roundZoom=!0,this.type="video",this.options=t}load(){this._loaded=!1;const c=this.options;this.urls=[];for(const t of c.urls)this.urls.push(this.map._requestManager.transformRequest(t,r.ResourceType.Source).url);r.getVideo(this.urls,(t,a)=>{this._loaded=!0,t?this.fire(new r.ErrorEvent(t)):a&&(this.video=a,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(c){if(this.video){const t=this.video.seekable;c<t.start(0)||c>t.end(0)?this.fire(new r.ErrorEvent(new r.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${t.start(0)} and ${t.end(0)}-second mark.`))):this.video.currentTime=c}}getVideo(){return this.video}onAdd(c){this.map||(this.map=c,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const c=this.map.painter.context,t=c.gl;this._boundsArray||this._makeBoundsArray(),this.boundsBuffer||(this.boundsBuffer=c.createVertexBuffer(this._boundsArray,r.boundsAttributes.members)),this.boundsSegments||(this.boundsSegments=r.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(t.LINEAR,t.CLAMP_TO_EDGE),t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,this.video)):(this.texture=new r.Texture(c,this.video,t.RGBA),this.texture.bind(t.LINEAR,t.CLAMP_TO_EDGE));for(const a in this.tiles){const l=this.tiles[a];"loaded"!==l.state&&(l.state="loaded",l.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:ee,canvas:class extends ee{constructor(c,t,a,l){super(c,t,a,l),t.coordinates?Array.isArray(t.coordinates)&&4===t.coordinates.length&&!t.coordinates.some(_=>!Array.isArray(_)||2!==_.length||_.some(p=>"number"!=typeof p))||this.fire(new r.ErrorEvent(new r.ValidationError(`sources.${c}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new r.ErrorEvent(new r.ValidationError(`sources.${c}`,null,'missing required property "coordinates"'))),t.animate&&"boolean"!=typeof t.animate&&this.fire(new r.ErrorEvent(new r.ValidationError(`sources.${c}`,null,'optional "animate" property must be a boolean value'))),t.canvas?"string"==typeof t.canvas||t.canvas instanceof r.window.HTMLCanvasElement||this.fire(new r.ErrorEvent(new r.ValidationError(`sources.${c}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new r.ErrorEvent(new r.ValidationError(`sources.${c}`,null,'missing required property "canvas"'))),this.options=t,this.animate=void 0===t.animate||t.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof r.window.HTMLCanvasElement?this.options.canvas:r.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new r.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(c){this.map=c,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let c=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,c=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,c=!0),this._hasInvalidDimensions()||0===Object.keys(this.tiles).length)return;const t=this.map.painter.context,a=t.gl;this._boundsArray||this._makeBoundsArray(),this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,r.boundsAttributes.members)),this.boundsSegments||(this.boundsSegments=r.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(c||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new r.Texture(t,this.canvas,a.RGBA,{premultiply:!0});for(const l in this.tiles){const _=this.tiles[l];"loaded"!==_.state&&(_.state="loaded",_.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const c of[this.canvas.width,this.canvas.height])if(isNaN(c)||c<=0)return!0;return!1}}},N=function(c,t,a,l){const _=new F[t.type](c,t,a,l);if(_.id!==c)throw new Error(`Expected Source id to be ${c} instead of ${_.id}`);return r.bindAll(["load","abort","unload","serialize","prepare"],_),_};function te(c,t){const a=r.identity([]);return r.scale$1(a,a,[.5*c.width,.5*-c.height,1]),r.translate(a,a,[1,-1,0]),r.multiply(a,a,c.calculateProjMatrix(t.toUnwrapped()))}function se(c,t,a,l,_,p,v,w=!1){const S=c.tilesIn(l,v,w);S.sort(ue);const Y=[];for(const z of S)Y.push({wrappedTileID:z.tile.tileID.wrapped().key,queryResults:z.tile.queryRenderedFeatures(t,a,c._state,z,_,p,te(c.transform,z.tile.tileID),w)});const O=function(z){const H={},K={};for(const Q of z){const $=Q.queryResults,ie=Q.wrappedTileID,J=K[ie]=K[ie]||{};for(const re in $){const le=$[re],X=J[re]=J[re]||{},ce=H[re]=H[re]||[];for(const pe of le)X[pe.featureIndex]||(X[pe.featureIndex]=!0,ce.push(pe))}}return H}(Y);for(const z in O)O[z].forEach(H=>{const K=H.feature,Q=c.getFeatureState(K.layer["source-layer"],K.id);K.source=K.layer.source,K.layer["source-layer"]&&(K.sourceLayer=K.layer["source-layer"]),K.state=Q});return O}function me(c,t){const a=c.getRenderableIds().map(p=>c.getTileByID(p)),l=[],_={};for(let p=0;p<a.length;p++){const v=a[p],w=v.tileID.canonical.key;_[w]||(_[w]=!0,v.querySourceFeatures(l,t))}return l}function ue(c,t){const a=c.tileID,l=t.tileID;return a.overscaledZ-l.overscaledZ||a.canonical.y-l.canonical.y||a.wrap-l.wrap||a.canonical.x-l.canonical.x}function Le(){return null!=Gr.workerClass?new Gr.workerClass:new r.window.Worker(Gr.workerUrl)}const fe="mapboxgl_preloaded_worker_pool";class Te{constructor(){this.active={}}acquire(t){if(!this.workers)for(this.workers=[];this.workers.length<Te.workerCount;)this.workers.push(new Le);return this.active[t]=!0,this.workers.slice()}release(t){delete this.active[t],0===this.numActive()&&(this.workers.forEach(a=>{a.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[fe]}numActive(){return Object.keys(this.active).length}}let Ze;function Qe(){return Ze||(Ze=new Te),Ze}function qe(c,t){const a={};for(const l in c)"ref"!==l&&(a[l]=c[l]);return r.refProperties.forEach(l=>{l in t&&(a[l]=t[l])}),a}function xt(c){c=c.slice();const t=Object.create(null);for(let a=0;a<c.length;a++)t[c[a].id]=c[a];for(let a=0;a<c.length;a++)"ref"in c[a]&&(c[a]=qe(c[a],t[c[a].ref]));return c}Te.workerCount=2;const it={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function xe(c,t,a){a.push({command:it.addSource,args:[c,t[c]]})}function Oe(c,t,a){t.push({command:it.removeSource,args:[c]}),a[c]=!0}function Tt(c,t,a,l){Oe(c,a,l),xe(c,t,a)}function Ut(c,t,a){let l;for(l in c[a])if(c[a].hasOwnProperty(l)&&"data"!==l&&!I(c[a][l],t[a][l]))return!1;for(l in t[a])if(t[a].hasOwnProperty(l)&&"data"!==l&&!I(c[a][l],t[a][l]))return!1;return!0}function kt(c,t,a,l,_,p){let v;for(v in t=t||{},c=c||{})c.hasOwnProperty(v)&&(I(c[v],t[v])||a.push({command:p,args:[l,v,t[v],_]}));for(v in t)t.hasOwnProperty(v)&&!c.hasOwnProperty(v)&&(I(c[v],t[v])||a.push({command:p,args:[l,v,t[v],_]}))}function jt(c){return c.id}function Kt(c,t){return c[t.id]=t,c}class Fr{constructor(t,a){this.reset(t,a)}reset(t,a){this.points=t||[],this._distances=[0];for(let l=1;l<this.points.length;l++)this._distances[l]=this._distances[l-1]+this.points[l].dist(this.points[l-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(a||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(t){if(1===this.points.length)return this.points[0];t=r.clamp(t,0,1);let a=1,l=this._distances[a];const _=t*this.paddedLength+this.padding;for(;l<_&&a<this._distances.length;)l=this._distances[++a];const p=a-1,v=this._distances[p],w=l-v,S=w>0?(_-v)/w:0;return this.points[p].mult(1-S).add(this.points[a].mult(S))}}class $i{constructor(t,a,l){const _=this.boxCells=[],p=this.circleCells=[];this.xCellCount=Math.ceil(t/l),this.yCellCount=Math.ceil(a/l);for(let v=0;v<this.xCellCount*this.yCellCount;v++)_.push([]),p.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=a,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/a,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(t,a,l,_,p){this._forEachCell(a,l,_,p,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(a),this.bboxes.push(l),this.bboxes.push(_),this.bboxes.push(p)}insertCircle(t,a,l,_){this._forEachCell(a-_,l-_,a+_,l+_,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(a),this.circles.push(l),this.circles.push(_)}_insertBoxCell(t,a,l,_,p,v){this.boxCells[p].push(v)}_insertCircleCell(t,a,l,_,p,v){this.circleCells[p].push(v)}_query(t,a,l,_,p,v){if(l<0||t>this.width||_<0||a>this.height)return!p&&[];const w=[];if(t<=0&&a<=0&&this.width<=l&&this.height<=_){if(p)return!0;for(let S=0;S<this.boxKeys.length;S++)w.push({key:this.boxKeys[S],x1:this.bboxes[4*S],y1:this.bboxes[4*S+1],x2:this.bboxes[4*S+2],y2:this.bboxes[4*S+3]});for(let S=0;S<this.circleKeys.length;S++){const Y=this.circles[3*S],O=this.circles[3*S+1],z=this.circles[3*S+2];w.push({key:this.circleKeys[S],x1:Y-z,y1:O-z,x2:Y+z,y2:O+z})}return v?w.filter(v):w}return this._forEachCell(t,a,l,_,this._queryCell,w,{hitTest:p,seenUids:{box:{},circle:{}}},v),p?w.length>0:w}_queryCircle(t,a,l,_,p){const v=t-l,w=t+l,S=a-l,Y=a+l;if(w<0||v>this.width||Y<0||S>this.height)return!_&&[];const O=[];return this._forEachCell(v,S,w,Y,this._queryCellCircle,O,{hitTest:_,circle:{x:t,y:a,radius:l},seenUids:{box:{},circle:{}}},p),_?O.length>0:O}query(t,a,l,_,p){return this._query(t,a,l,_,!1,p)}hitTest(t,a,l,_,p){return this._query(t,a,l,_,!0,p)}hitTestCircle(t,a,l,_){return this._queryCircle(t,a,l,!0,_)}_queryCell(t,a,l,_,p,v,w,S){const Y=w.seenUids,O=this.boxCells[p];if(null!==O){const H=this.bboxes;for(const K of O)if(!Y.box[K]){Y.box[K]=!0;const Q=4*K;if(t<=H[Q+2]&&a<=H[Q+3]&&l>=H[Q+0]&&_>=H[Q+1]&&(!S||S(this.boxKeys[K]))){if(w.hitTest)return v.push(!0),!0;v.push({key:this.boxKeys[K],x1:H[Q],y1:H[Q+1],x2:H[Q+2],y2:H[Q+3]})}}}const z=this.circleCells[p];if(null!==z){const H=this.circles;for(const K of z)if(!Y.circle[K]){Y.circle[K]=!0;const Q=3*K;if(this._circleAndRectCollide(H[Q],H[Q+1],H[Q+2],t,a,l,_)&&(!S||S(this.circleKeys[K]))){if(w.hitTest)return v.push(!0),!0;{const $=H[Q],ie=H[Q+1],J=H[Q+2];v.push({key:this.circleKeys[K],x1:$-J,y1:ie-J,x2:$+J,y2:ie+J})}}}}}_queryCellCircle(t,a,l,_,p,v,w,S){const Y=w.circle,O=w.seenUids,z=this.boxCells[p];if(null!==z){const K=this.bboxes;for(const Q of z)if(!O.box[Q]){O.box[Q]=!0;const $=4*Q;if(this._circleAndRectCollide(Y.x,Y.y,Y.radius,K[$+0],K[$+1],K[$+2],K[$+3])&&(!S||S(this.boxKeys[Q])))return v.push(!0),!0}}const H=this.circleCells[p];if(null!==H){const K=this.circles;for(const Q of H)if(!O.circle[Q]){O.circle[Q]=!0;const $=3*Q;if(this._circlesCollide(K[$],K[$+1],K[$+2],Y.x,Y.y,Y.radius)&&(!S||S(this.circleKeys[Q])))return v.push(!0),!0}}}_forEachCell(t,a,l,_,p,v,w,S){const Y=this._convertToXCellCoord(t),O=this._convertToYCellCoord(a),z=this._convertToXCellCoord(l),H=this._convertToYCellCoord(_);for(let K=Y;K<=z;K++)for(let Q=O;Q<=H;Q++)if(p.call(this,t,a,l,_,this.xCellCount*Q+K,v,w,S))return}_convertToXCellCoord(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))}_convertToYCellCoord(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))}_circlesCollide(t,a,l,_,p,v){const w=_-t,S=p-a,Y=l+v;return Y*Y>w*w+S*S}_circleAndRectCollide(t,a,l,_,p,v,w){const S=(v-_)/2,Y=Math.abs(t-(_+S));if(Y>S+l)return!1;const O=(w-p)/2,z=Math.abs(a-(p+O));if(z>O+l)return!1;if(Y<=S||z<=O)return!0;const H=Y-S,K=z-O;return H*H+K*K<=l*l}}const rt=Math.tan(85*Math.PI/180);function Ft(c,t,a,l,_){const p=r.create$1();if(t){const v=Ie([],_);p[0]=v[0],p[1]=v[1],p[4]=v[2],p[5]=v[3],a||r.rotateZ(p,p,l.angle)}else r.multiply(p,l.labelPlaneMatrix,c);return p}function Zt(c,t,a,l,_){if(t){const p=r.clone$1(c),v=r.identity([]);return v[0]=_[0],v[1]=_[1],v[4]=_[2],v[5]=_[3],r.multiply(p,p,v),a||r.rotateZ(p,p,-l.angle),p}return l.glCoordMatrix}function An(c,t,a=0){const l=[c.x,c.y,a,1];a?r.transformMat4(l,l,t):aa(l,l,t);const _=l[3];return{point:new r.pointGeometry(l[0]/_,l[1]/_),signedDistanceFromCamera:_}}function fr(c,t){return Math.min(.5+c/t*.5,1.5)}function Nt(c,t){const a=c[0]/c[3],l=c[1]/c[3];return a>=-t[0]&&a<=t[0]&&l>=-t[1]&&l<=t[1]}function sa(c,t,a,l,_,p,v,w,S){const Y=l?c.textSizeData:c.iconSizeData,O=r.evaluateSizeForZoom(Y,a.transform.zoom),z=[256/a.width*2+1,256/a.height*2+1],H=l?c.text.dynamicLayoutVertexArray:c.icon.dynamicLayoutVertexArray;H.clear();const K=c.lineVertexArray,Q=l?c.text.placedSymbolArray:c.icon.placedSymbolArray,$=a.transform.width/a.transform.height;let ie=!1;for(let J=0;J<Q.length;J++){const re=Q.get(J);if(re.writingMode!==r.WritingMode.vertical||ie||0!==J&&Q.get(J-1).writingMode===r.WritingMode.horizontal||(ie=!0),re.hidden||re.writingMode===r.WritingMode.vertical&&!ie){zi(re.numGlyphs,H);continue}ie=!1;const le=new r.pointGeometry(re.tileAnchorX,re.tileAnchorY),X=S?S(le):0,ce=[le.x,le.y,X],pe=[...ce,1];if(r.transformMat4(pe,pe,t),!Nt(pe,z)){zi(re.numGlyphs,H);continue}const Ae=fr(a.transform.cameraToCenterDistance,pe[3]),Ce=r.evaluateSizeForFeature(Y,O,re),Re=v?Ce/Ae:Ce*Ae,Be=An(new r.pointGeometry(ce[0],ce[1]),_,ce[2]);if(Be.signedDistanceFromCamera<=0){zi(re.numGlyphs,H);continue}let nt={};const Fe=v?null:S,ct=wi(re,Re,!1,w,t,_,p,c.glyphOffsetArray,K,H,Be.point,le,nt,$,Fe);ie=ct.useVertical,Fe&&ct.needsFlipping&&(nt={}),(ct.notEnoughRoom||ie||ct.needsFlipping&&wi(re,Re,!0,w,t,_,p,c.glyphOffsetArray,K,H,Be.point,le,nt,$,Fe).notEnoughRoom)&&zi(re.numGlyphs,H)}l?c.text.dynamicLayoutVertexBuffer.updateData(H):c.icon.dynamicLayoutVertexBuffer.updateData(H)}function es(c,t,a,l,_,p,v,w,S,Y,O,z,H){const K=w.glyphStartIndex+w.numGlyphs,Q=w.lineStartIndex,$=w.lineStartIndex+w.lineLength,ie=t.getoffsetX(w.glyphStartIndex),J=t.getoffsetX(K-1),re=ir(c*ie,a,l,_,p,v,w.segment,Q,$,S,Y,O,z,H,!0);if(!re)return null;const le=ir(c*J,a,l,_,p,v,w.segment,Q,$,S,Y,O,z,H,!0);return le?{first:re,last:le}:null}function ts(c,t,a,l){return c.writingMode===r.WritingMode.horizontal&&Math.abs(a.y-t.y)>Math.abs(a.x-t.x)*l?{useVertical:!0}:c.writingMode===r.WritingMode.vertical?t.y<a.y?{needsFlipping:!0}:null:0!==c.flipState&&function(_,p,v){const w=(p.x-_.x)*v;return 0===w||Math.abs((p.y-_.y)/w)>rt}(t,a,l)?1===c.flipState?{needsFlipping:!0}:null:t.x>a.x?{needsFlipping:!0}:null}function wi(c,t,a,l,_,p,v,w,S,Y,O,z,H,K,Q){const $=t/24,ie=c.lineOffsetX*$,J=c.lineOffsetY*$;let re;if(c.numGlyphs>1){const le=c.glyphStartIndex+c.numGlyphs,X=c.lineStartIndex,ce=c.lineStartIndex+c.lineLength,pe=es($,w,ie,J,a,O,z,c,S,p,H,Q,!1);if(!pe)return{notEnoughRoom:!0};const Ae=An(pe.first.point,v).point,Ce=An(pe.last.point,v).point;if(l&&!a){const Re=ts(c,Ae,Ce,K);if(c.flipState=Re&&Re.needsFlipping?1:2,Re)return Re}re=[pe.first];for(let Re=c.glyphStartIndex+1;Re<le-1;Re++)re.push(ir($*w.getoffsetX(Re),ie,J,a,O,z,c.segment,X,ce,S,p,H,Q,!1,!1));re.push(pe.last)}else{if(l&&!a){const X=An(z,_).point,ce=c.lineStartIndex+c.segment+1,pe=new r.pointGeometry(S.getx(ce),S.gety(ce)),Ae=An(pe,_),Ce=ts(c,X,Ae.signedDistanceFromCamera>0?Ae.point:Qa(z,pe,X,1,_,void 0),K);if(c.flipState=Ce&&Ce.needsFlipping?1:2,Ce)return Ce}const le=ir($*w.getoffsetX(c.glyphStartIndex),ie,J,a,O,z,c.segment,c.lineStartIndex,c.lineStartIndex+c.lineLength,S,p,H,Q,!1,!1);if(!le)return{notEnoughRoom:!0};re=[le]}for(const le of re)r.addDynamicAttributes(Y,le.point,le.angle);return{}}function Tn(c,t,a){const l={x:c.x,y:c.y,z:0};if(!a)return An(l,t,l.z);const _=a(c);return An(new r.pointGeometry(l.x,l.y),t,l.z+_)}function Qa(c,t,a,l,_,p){const v=Tn(c.add(c.sub(t)._unit()),_,p).point,w=a.sub(v);return a.add(w._mult(l/w.mag()))}function ir(c,t,a,l,_,p,v,w,S,Y,O,z,H,K,Q){const $=l?c-t:c+t;let ie=$>0?1:-1,J=0;l&&(ie*=-1,J=Math.PI),ie<0&&(J+=Math.PI);let re=ie>0?w+v:w+v+1,le=_,X=_,ce=0,pe=0;const Ae=Math.abs($),Ce=[],Re=[];let Be=p;const nt=()=>{const Dt=re-ie;return 0===ce?p:new r.pointGeometry(Y.getx(Dt),Y.gety(Dt))},Fe=()=>Qa(nt(),Be,X,Ae-ce+1,O,H);for(;ce+pe<=Ae;){if(re+=ie,re<w||re>=S)return null;if(X=le,Ce.push(le),K&&Re.push(Be||nt()),le=z[re],void 0===le){Be=new r.pointGeometry(Y.getx(re),Y.gety(re));const Dt=Tn(Be,O,H);le=Dt.signedDistanceFromCamera>0?z[re]=Dt.point:Fe()}else Be=null;ce+=pe,pe=X.dist(le)}Q&&H&&(Be=Be||new r.pointGeometry(Y.getx(re),Y.gety(re)),z[re]=le=void 0===z[re]?le:Fe(),pe=X.dist(le));const ct=(Ae-ce)/pe,Se=le.sub(X),ut=Se.mult(ct)._add(X);a&&ut._add(Se._unit()._perp()._mult(a*ie));const gt=J+Math.atan2(le.y-X.y,le.x-X.x);return Ce.push(ut),K&&(Be=Be||new r.pointGeometry(Y.getx(re),Y.gety(re)),Re.push(function(Dt,Et,St){const Ct=1-St;return new r.pointGeometry(Dt.x*Ct+Et.x*St,Dt.y*Ct+Et.y*St)}(Re.length>0?Re[Re.length-1]:Be,Be,ct))),{point:ut,angle:gt,path:Ce,tilePath:Re}}const eo=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function zi(c,t){for(let a=0;a<c;a++){const l=t.length;t.resize(l+4),t.float32.set(eo,3*l)}}function aa(c,t,a){const l=t[0],_=t[1];return c[0]=a[0]*l+a[4]*_+a[12],c[1]=a[1]*l+a[5]*_+a[13],c[3]=a[3]*l+a[7]*_+a[15],c}const Pi=100;class Vt{constructor(t,a,l=new $i(t.width+200,t.height+200,25),_=new $i(t.width+200,t.height+200,25)){this.transform=t,this.grid=l,this.ignoredGrid=_,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+Pi,this.screenBottomBoundary=t.height+Pi,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200,this.fogState=a}placeCollisionBox(t,a,l,_,p,v,w){let S=a.projectedAnchorZ;a.elevation&&(S+=a.elevation);const Y=this.projectAndGetPerspectiveRatio(v,a.projectedAnchorX,a.projectedAnchorY,S,a.tileID),O=p*Y.perspectiveRatio,z=(a.x1*t+l.x-a.padding)*O+Y.point.x,H=(a.y1*t+l.y-a.padding)*O+Y.point.y,K=(a.x2*t+l.x+a.padding)*O+Y.point.x,Q=(a.y2*t+l.y+a.padding)*O+Y.point.y,$=Y.perspectiveRatio<=.55||Y.aboveHorizon;return!this.isInsideGrid(z,H,K,Q)||!_&&this.grid.hitTest(z,H,K,Q,w)||$?{box:[],offscreen:!1}:{box:[z,H,K,Q],offscreen:this.isOffscreen(z,H,K,Q)}}placeCollisionCircles(t,a,l,_,p,v,w,S,Y,O,z,H,K,Q){const $=[],ie=this.transform.elevation,J=ie?Fe=>ie.getAtTileOffset(Q,Fe.x,Fe.y):Fe=>0,re=new r.pointGeometry(a.tileAnchorX,a.tileAnchorY),le=J(re),X=this.projectAndGetPerspectiveRatio(v,re.x,re.y,le,Q),{perspectiveRatio:ce}=X,pe=(O?p/ce:p*ce)/r.ONE_EM,Ae=An(re,w,le).point,Ce=X.signedDistanceFromCamera>0?es(pe,_,a.lineOffsetX*pe,a.lineOffsetY*pe,!1,Ae,re,a,l,w,{},ie&&!O?J:null,O&&!!ie):null;let Re=!1,Be=!1,nt=!0;if(Ce&&!X.aboveHorizon){const Fe=.5*H*ce+K,ct=new r.pointGeometry(-100,-100),Se=new r.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),ut=new Fr,gt=Ce.first,Dt=Ce.last;let Et=[];for(let bt=gt.path.length-1;bt>=1;bt--)Et.push(gt.path[bt]);for(let bt=1;bt<Dt.path.length;bt++)Et.push(Dt.path[bt]);const St=2.5*Fe;if(S){const bt=Et.map(ie?(Yt,qt)=>{const Fn=J(qt<gt.path.length-1?gt.tilePath[gt.path.length-1-qt]:Dt.tilePath[qt-gt.path.length+2]);return An(Yt,S,Fn)}:Yt=>An(Yt,S));Et=bt.some(Yt=>Yt.signedDistanceFromCamera<=0)?[]:bt.map(Yt=>Yt.point)}let Ct=[];if(Et.length>0){const bt=Et[0].clone(),Yt=Et[0].clone();for(let qt=1;qt<Et.length;qt++)bt.x=Math.min(bt.x,Et[qt].x),bt.y=Math.min(bt.y,Et[qt].y),Yt.x=Math.max(Yt.x,Et[qt].x),Yt.y=Math.max(Yt.y,Et[qt].y);Ct=bt.x>=ct.x&&Yt.x<=Se.x&&bt.y>=ct.y&&Yt.y<=Se.y?[Et]:Yt.x<ct.x||bt.x>Se.x||Yt.y<ct.y||bt.y>Se.y?[]:r.clipLine([Et],ct.x,ct.y,Se.x,Se.y)}for(const bt of Ct){ut.reset(bt,.25*Fe);let Yt=0;Yt=ut.length<=.5*Fe?1:Math.ceil(ut.paddedLength/St)+1;for(let qt=0;qt<Yt;qt++){const Fn=qt/Math.max(Yt-1,1),Xn=ut.lerp(Fn),ai=Xn.x+Pi,hi=Xn.y+Pi;$.push(ai,hi,Fe,0);const Rn=ai-Fe,lr=hi-Fe,Xi=ai+Fe,pn=hi+Fe;if(nt=nt&&this.isOffscreen(Rn,lr,Xi,pn),Be=Be||this.isInsideGrid(Rn,lr,Xi,pn),!t&&this.grid.hitTestCircle(ai,hi,Fe,z)&&(Re=!0,!Y))return{circles:[],offscreen:!1,collisionDetected:Re}}}}return{circles:!Y&&Re||!Be?[]:$,offscreen:nt,collisionDetected:Re}}queryRenderedSymbols(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const a=[];let l=1/0,_=1/0,p=-1/0,v=-1/0;for(const O of t){const z=new r.pointGeometry(O.x+Pi,O.y+Pi);l=Math.min(l,z.x),_=Math.min(_,z.y),p=Math.max(p,z.x),v=Math.max(v,z.y),a.push(z)}const w=this.grid.query(l,_,p,v).concat(this.ignoredGrid.query(l,_,p,v)),S={},Y={};for(const O of w){const z=O.key;if(void 0===S[z.bucketInstanceId]&&(S[z.bucketInstanceId]={}),S[z.bucketInstanceId][z.featureIndex])continue;const H=[new r.pointGeometry(O.x1,O.y1),new r.pointGeometry(O.x2,O.y1),new r.pointGeometry(O.x2,O.y2),new r.pointGeometry(O.x1,O.y2)];r.polygonIntersectsPolygon(a,H)&&(S[z.bucketInstanceId][z.featureIndex]=!0,void 0===Y[z.bucketInstanceId]&&(Y[z.bucketInstanceId]=[]),Y[z.bucketInstanceId].push(z.featureIndex))}return Y}insertCollisionBox(t,a,l,_,p){(a?this.ignoredGrid:this.grid).insert({bucketInstanceId:l,featureIndex:_,collisionGroupID:p},t[0],t[1],t[2],t[3])}insertCollisionCircles(t,a,l,_,p){const v=a?this.ignoredGrid:this.grid,w={bucketInstanceId:l,featureIndex:_,collisionGroupID:p};for(let S=0;S<t.length;S+=4)v.insertCircle(w,t[S],t[S+1],t[S+2])}projectAndGetPerspectiveRatio(t,a,l,_,p){const v=[a,l,_||0,1];let w=!1;if(_||this.transform.pitch>0){r.transformMat4(v,v,t);let S=!1;this.fogState&&p&&(S=function(Y,O,z,H,K,Q){const $=Q.calculateFogTileMatrix(K),ie=[O,z,H];return r.transformMat4$1(ie,ie,$),et(Y,ie,Q.pitch,Q._fov)}(this.fogState,a,l,_||0,p.toUnwrapped(),this.transform)>.9),w=v[2]>v[3]||S}else aa(v,v,t);return{point:new r.pointGeometry((v[0]/v[3]+1)/2*this.transform.width+Pi,(-v[1]/v[3]+1)/2*this.transform.height+Pi),perspectiveRatio:Math.min(.5+this.transform.cameraToCenterDistance/v[3]*.5,1.5),signedDistanceFromCamera:v[3],aboveHorizon:w}}isOffscreen(t,a,l,_){return l<Pi||t>=this.screenRightBoundary||_<Pi||a>this.screenBottomBoundary}isInsideGrid(t,a,l,_){return l>=0&&t<this.gridRightBoundary&&_>=0&&a<this.gridBottomBoundary}getViewportMatrix(){const t=r.identity([]);return r.translate(t,t,[-100,-100,0]),t}}class Ts{constructor(t,a,l,_){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?a:-a))):_&&l?1:0,this.placed=l}isHidden(){return 0===this.opacity&&!this.placed}}class Rr{constructor(t,a,l,_,p,v=!1){this.text=new Ts(t?t.text:null,a,l,p),this.icon=new Ts(t?t.icon:null,a,_,p),this.clipped=v}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class ni{constructor(t,a,l,_=!1){this.text=t,this.icon=a,this.skipFade=l,this.clipped=_}}class ii{constructor(){this.invProjMatrix=r.create$1(),this.viewportMatrix=r.create$1(),this.circles=[]}}class Ls{constructor(t,a,l,_,p){this.bucketInstanceId=t,this.featureIndex=a,this.sourceLayerIndex=l,this.bucketIndex=_,this.tileID=p}}class ks{constructor(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}}get(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){const a=++this.maxGroupID;this.collisionGroups[t]={ID:a,predicate:l=>l.collisionGroupID===a}}return this.collisionGroups[t]}}function Ln(c,t,a,l,_){const{horizontalAlign:p,verticalAlign:v}=r.getAnchorAlignment(c),w=-(p-.5)*t,S=-(v-.5)*a,Y=r.evaluateVariableOffset(c,l);return new r.pointGeometry(w+Y[0]*_,S+Y[1]*_)}function ui(c,t,a,l,_){const p=new r.pointGeometry(c,t);return a&&p._rotate(l?_:-_),p}class Br{constructor(t,a,l,_,p){this.transform=t.clone(),this.collisionIndex=new Vt(this.transform,p),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=a,this.retainedQueryData={},this.collisionGroups=new ks(l),this.collisionCircleArrays={},this.prevPlacement=_,_&&(_.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(t,a,l,_){const p=l.getBucket(a),v=l.latestFeatureIndex;if(!p||!v||a.id!==p.layerIds[0])return;const w=p.layers[0].layout,S=l.collisionBoxArray,Y=Math.pow(2,this.transform.zoom-l.tileID.overscaledZ),O=l.tileSize/r.EXTENT,z=l.tileID.toUnwrapped(),H=this.transform.calculateProjMatrix(z),K="map"===w.get("text-pitch-alignment"),Q="map"===w.get("text-rotation-alignment");a.compileFilter();const $=a.dynamicFilter(),ie=a.dynamicFilterNeedsFeature(),J=this.transform.calculatePixelsToTileUnitsMatrix(l),re=Ft(H,K,Q,this.transform,J);let le=null;if(K){const pe=Zt(H,K,Q,this.transform,J);le=r.multiply([],this.transform.labelPlaneMatrix,pe)}let X=null;$&&l.latestFeatureIndex&&(X={unwrappedTileID:z,dynamicFilter:$,dynamicFilterNeedsFeature:ie,featureIndex:l.latestFeatureIndex}),this.retainedQueryData[p.bucketInstanceId]=new Ls(p.bucketInstanceId,v,p.sourceLayerIndex,p.index,l.tileID);const ce={bucket:p,layout:w,posMatrix:H,textLabelPlaneMatrix:re,labelToScreenMatrix:le,clippingData:X,scale:Y,textPixelRatio:O,holdingForFade:l.holdingForFade(),collisionBoxArray:S,partiallyEvaluatedTextSize:r.evaluateSizeForZoom(p.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:r.evaluateSizeForZoom(p.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(p.sourceID)};if(_)for(const pe of p.sortKeyRanges){const{sortKey:Ae,symbolInstanceStart:Ce,symbolInstanceEnd:Re}=pe;t.push({sortKey:Ae,symbolInstanceStart:Ce,symbolInstanceEnd:Re,parameters:ce})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:p.symbolInstances.length,parameters:ce})}attemptAnchorPlacement(t,a,l,_,p,v,w,S,Y,O,z,H,K,Q,$,ie,J,re){const le=[H.textOffset0,H.textOffset1],X=Ln(t,l,_,le,p),ce=this.collisionIndex.placeCollisionBox(p,a,ui(X.x,X.y,v,w,this.transform.angle),z,S,Y,O.predicate);if((!ie||0!==this.collisionIndex.placeCollisionBox(Q.getSymbolInstanceIconSize(re,this.transform.zoom,K),ie,ui(X.x,X.y,v,w,this.transform.angle),z,S,Y,O.predicate).box.length)&&ce.box.length>0){let pe;return this.prevPlacement&&this.prevPlacement.variableOffsets[H.crossTileID]&&this.prevPlacement.placements[H.crossTileID]&&this.prevPlacement.placements[H.crossTileID].text&&(pe=this.prevPlacement.variableOffsets[H.crossTileID].anchor),this.variableOffsets[H.crossTileID]={textOffset:le,width:l,height:_,anchor:t,textScale:p,prevAnchor:pe},this.markUsedJustification(Q,t,H,$),Q.allowVerticalPlacement&&(this.markUsedOrientation(Q,$,H),this.placedOrientations[H.crossTileID]=$),{shift:X,placedGlyphBoxes:ce}}}placeLayerBucketPart(t,a,l,_){const{bucket:p,layout:v,posMatrix:w,textLabelPlaneMatrix:S,labelToScreenMatrix:Y,clippingData:O,textPixelRatio:z,holdingForFade:H,collisionBoxArray:K,partiallyEvaluatedTextSize:Q,partiallyEvaluatedIconSize:$,collisionGroup:ie}=t.parameters,J=v.get("text-optional"),re=v.get("icon-optional"),le=v.get("text-allow-overlap"),X=v.get("icon-allow-overlap"),ce="map"===v.get("text-rotation-alignment"),pe="map"===v.get("text-pitch-alignment"),Ae="none"!==v.get("icon-text-fit"),Ce="viewport-y"===v.get("symbol-z-order"),Re=le&&(X||!p.hasIconData()||re),Be=X&&(le||!p.hasTextData()||J);!p.collisionArrays&&K&&p.deserializeCollisionBoxes(K),l&&_&&p.updateCollisionDebugBuffers(this.transform.zoom,K);const nt=(Fe,ct,Se)=>{if(O){const pn={zoom:this.transform.zoom,pitch:this.transform.pitch};let cn=null;if(O.dynamicFilterNeedsFeature){const Wt=this.retainedQueryData[p.bucketInstanceId];cn=O.featureIndex.loadFeature({featureIndex:Fe.featureIndex,bucketIndex:Wt.bucketIndex,sourceLayerIndex:Wt.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,O.dynamicFilter)(pn,cn,this.retainedQueryData[p.bucketInstanceId].tileID.canonical,new r.pointGeometry(Fe.tileAnchorX,Fe.tileAnchorY),this.transform.calculateDistanceTileData(O.unwrappedTileID)))return this.placements[Fe.crossTileID]=new ni(!1,!1,!1,!0),void(a[Fe.crossTileID]=!0)}if(a[Fe.crossTileID])return;if(H)return void(this.placements[Fe.crossTileID]=new ni(!1,!1,!1));let ut=!1,gt=!1,Dt=!0,Et=null,St={box:null,offscreen:null},Ct={box:null,offscreen:null},bt=null,Yt=null,qt=null,Fn=0,Xn=0,ai=0;Se.textFeatureIndex?Fn=Se.textFeatureIndex:Fe.useRuntimeCollisionCircles&&(Fn=Fe.featureIndex),Se.verticalTextFeatureIndex&&(Xn=Se.verticalTextFeatureIndex);const hi=pn=>{pn.tileID=this.retainedQueryData[p.bucketInstanceId].tileID,(this.transform.elevation||pn.elevation)&&(pn.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[p.bucketInstanceId].tileID,pn.tileAnchorX,pn.tileAnchorY):0)},Rn=Se.textBox;if(Rn){hi(Rn);const pn=Wt=>{let vn=r.WritingMode.horizontal;if(p.allowVerticalPlacement&&!Wt&&this.prevPlacement){const Qn=this.prevPlacement.placedOrientations[Fe.crossTileID];Qn&&(this.placedOrientations[Fe.crossTileID]=Qn,vn=Qn,this.markUsedOrientation(p,vn,Fe))}return vn},cn=(Wt,vn)=>{if(p.allowVerticalPlacement&&Fe.numVerticalGlyphVertices>0&&Se.verticalTextBox){for(const Qn of p.writingModes)if(Qn===r.WritingMode.vertical?(St=vn(),Ct=St):St=Wt(),St&&St.box&&St.box.length)break}else St=Wt()};if(v.get("text-variable-anchor")){let Wt=v.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Fe.crossTileID]){const fn=this.prevPlacement.variableOffsets[Fe.crossTileID];Wt.indexOf(fn.anchor)>0&&(Wt=Wt.filter(Li=>Li!==fn.anchor),Wt.unshift(fn.anchor))}const vn=(fn,Li,Js)=>{const oi=p.getSymbolInstanceTextSize(Q,Fe,this.transform.zoom,ct),ki=(fn.x2-fn.x1)*oi+2*fn.padding,Ks=(fn.y2-fn.y1)*oi+2*fn.padding,Jt=Ae&&!X?Li:null;Jt&&hi(Jt);let m={box:[],offscreen:!1};const M=le?2*Wt.length:Wt.length;for(let A=0;A<M;++A){const R=this.attemptAnchorPlacement(Wt[A%Wt.length],fn,ki,Ks,oi,ce,pe,z,w,ie,A>=Wt.length,Fe,ct,p,Js,Jt,Q,$);if(R&&(m=R.placedGlyphBoxes,m&&m.box&&m.box.length)){ut=!0,Et=R.shift;break}}return m};cn(()=>vn(Rn,Se.iconBox,r.WritingMode.horizontal),()=>{const fn=Se.verticalTextBox;return fn&&hi(fn),p.allowVerticalPlacement&&!(St&&St.box&&St.box.length)&&Fe.numVerticalGlyphVertices>0&&fn?vn(fn,Se.verticalIconBox,r.WritingMode.vertical):{box:null,offscreen:null}}),St&&(ut=St.box,Dt=St.offscreen);const Qn=pn(St&&St.box);if(!ut&&this.prevPlacement){const fn=this.prevPlacement.variableOffsets[Fe.crossTileID];fn&&(this.variableOffsets[Fe.crossTileID]=fn,this.markUsedJustification(p,fn.anchor,Fe,Qn))}}else{const Wt=(vn,Qn)=>{const fn=p.getSymbolInstanceTextSize(Q,Fe,this.transform.zoom,ct),Li=this.collisionIndex.placeCollisionBox(fn,vn,new r.pointGeometry(0,0),le,z,w,ie.predicate);return Li&&Li.box&&Li.box.length&&(this.markUsedOrientation(p,Qn,Fe),this.placedOrientations[Fe.crossTileID]=Qn),Li};cn(()=>Wt(Rn,r.WritingMode.horizontal),()=>{const vn=Se.verticalTextBox;return p.allowVerticalPlacement&&Fe.numVerticalGlyphVertices>0&&vn?(hi(vn),Wt(vn,r.WritingMode.vertical)):{box:null,offscreen:null}}),pn(St&&St.box&&St.box.length)}}if(bt=St,ut=bt&&bt.box&&bt.box.length>0,Dt=bt&&bt.offscreen,Fe.useRuntimeCollisionCircles){const pn=p.text.placedSymbolArray.get(Fe.centerJustifiedTextSymbolIndex>=0?Fe.centerJustifiedTextSymbolIndex:Fe.verticalPlacedTextSymbolIndex),cn=r.evaluateSizeForFeature(p.textSizeData,Q,pn),Wt=v.get("text-padding");Yt=this.collisionIndex.placeCollisionCircles(le,pn,p.lineVertexArray,p.glyphOffsetArray,cn,w,S,Y,l,pe,ie.predicate,Fe.collisionCircleDiameter*cn/r.ONE_EM,Wt,this.retainedQueryData[p.bucketInstanceId].tileID),ut=le||Yt.circles.length>0&&!Yt.collisionDetected,Dt=Dt&&Yt.offscreen}if(Se.iconFeatureIndex&&(ai=Se.iconFeatureIndex),Se.iconBox){const pn=cn=>{hi(cn);const Wt=Ae&&Et?ui(Et.x,Et.y,ce,pe,this.transform.angle):new r.pointGeometry(0,0),vn=p.getSymbolInstanceIconSize($,this.transform.zoom,ct);return this.collisionIndex.placeCollisionBox(vn,cn,Wt,X,z,w,ie.predicate)};Ct&&Ct.box&&Ct.box.length&&Se.verticalIconBox?(qt=pn(Se.verticalIconBox),gt=qt.box.length>0):(qt=pn(Se.iconBox),gt=qt.box.length>0),Dt=Dt&&qt.offscreen}const lr=J||0===Fe.numHorizontalGlyphVertices&&0===Fe.numVerticalGlyphVertices,Xi=re||0===Fe.numIconVertices;if(lr||Xi?Xi?lr||(gt=gt&&ut):ut=gt&&ut:gt=ut=gt&&ut,ut&&bt&&bt.box&&this.collisionIndex.insertCollisionBox(bt.box,v.get("text-ignore-placement"),p.bucketInstanceId,Ct&&Ct.box&&Xn?Xn:Fn,ie.ID),gt&&qt&&this.collisionIndex.insertCollisionBox(qt.box,v.get("icon-ignore-placement"),p.bucketInstanceId,ai,ie.ID),Yt&&(ut&&this.collisionIndex.insertCollisionCircles(Yt.circles,v.get("text-ignore-placement"),p.bucketInstanceId,Fn,ie.ID),l)){const pn=p.bucketInstanceId;let cn=this.collisionCircleArrays[pn];void 0===cn&&(cn=this.collisionCircleArrays[pn]=new ii);for(let Wt=0;Wt<Yt.circles.length;Wt+=4)cn.circles.push(Yt.circles[Wt+0]),cn.circles.push(Yt.circles[Wt+1]),cn.circles.push(Yt.circles[Wt+2]),cn.circles.push(Yt.collisionDetected?1:0)}this.placements[Fe.crossTileID]=new ni(ut||Re,gt||Be,Dt||p.justReloaded),a[Fe.crossTileID]=!0};if(Ce){const Fe=p.getSortedSymbolIndexes(this.transform.angle);for(let ct=Fe.length-1;ct>=0;--ct){const Se=Fe[ct];nt(p.symbolInstances.get(Se),Se,p.collisionArrays[Se])}}else for(let Fe=t.symbolInstanceStart;Fe<t.symbolInstanceEnd;Fe++)nt(p.symbolInstances.get(Fe),Fe,p.collisionArrays[Fe]);if(l&&p.bucketInstanceId in this.collisionCircleArrays){const Fe=this.collisionCircleArrays[p.bucketInstanceId];r.invert(Fe.invProjMatrix,w),Fe.viewportMatrix=this.collisionIndex.getViewportMatrix()}p.justReloaded=!1}markUsedJustification(t,a,l,_){let p;p=_===r.WritingMode.vertical?l.verticalPlacedTextSymbolIndex:{left:l.leftJustifiedTextSymbolIndex,center:l.centerJustifiedTextSymbolIndex,right:l.rightJustifiedTextSymbolIndex}[r.getAnchorJustification(a)];const v=[l.leftJustifiedTextSymbolIndex,l.centerJustifiedTextSymbolIndex,l.rightJustifiedTextSymbolIndex,l.verticalPlacedTextSymbolIndex];for(const w of v)w>=0&&(t.text.placedSymbolArray.get(w).crossTileID=p>=0&&w!==p?0:l.crossTileID)}markUsedOrientation(t,a,l){const _=a===r.WritingMode.horizontal||a===r.WritingMode.horizontalOnly?a:0,p=a===r.WritingMode.vertical?a:0,v=[l.leftJustifiedTextSymbolIndex,l.centerJustifiedTextSymbolIndex,l.rightJustifiedTextSymbolIndex];for(const w of v)t.text.placedSymbolArray.get(w).placedOrientation=_;l.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(l.verticalPlacedTextSymbolIndex).placedOrientation=p)}commit(t){this.commitTime=t,this.zoomAtLastRecencyCheck=this.transform.zoom;const a=this.prevPlacement;let l=!1;this.prevZoomAdjustment=a?a.zoomAdjustment(this.transform.zoom):0;const _=a?a.symbolFadeChange(t):1,p=a?a.opacities:{},v=a?a.variableOffsets:{},w=a?a.placedOrientations:{};for(const S in this.placements){const Y=this.placements[S],O=p[S];O?(this.opacities[S]=new Rr(O,_,Y.text,Y.icon,null,Y.clipped),l=l||Y.text!==O.text.placed||Y.icon!==O.icon.placed):(this.opacities[S]=new Rr(null,_,Y.text,Y.icon,Y.skipFade,Y.clipped),l=l||Y.text||Y.icon)}for(const S in p){const Y=p[S];if(!this.opacities[S]){const O=new Rr(Y,_,!1,!1);O.isHidden()||(this.opacities[S]=O,l=l||Y.text.placed||Y.icon.placed)}}for(const S in v)this.variableOffsets[S]||!this.opacities[S]||this.opacities[S].isHidden()||(this.variableOffsets[S]=v[S]);for(const S in w)this.placedOrientations[S]||!this.opacities[S]||this.opacities[S].isHidden()||(this.placedOrientations[S]=w[S]);l?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=a?a.lastPlacementChangeTime:t)}updateLayerOpacities(t,a){const l={};for(const _ of a){const p=_.getBucket(t);p&&_.latestFeatureIndex&&t.id===p.layerIds[0]&&this.updateBucketOpacities(p,l,_.collisionBoxArray)}}updateBucketOpacities(t,a,l){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();const _=t.layers[0].layout,p=!!t.layers[0].dynamicFilter(),v=new Rr(null,0,!1,!1,!0),w=_.get("text-allow-overlap"),S=_.get("icon-allow-overlap"),Y=_.get("text-variable-anchor"),O="map"===_.get("text-rotation-alignment"),z="map"===_.get("text-pitch-alignment"),H="none"!==_.get("icon-text-fit"),K=new Rr(null,0,w&&(S||!t.hasIconData()||_.get("icon-optional")),S&&(w||!t.hasTextData()||_.get("text-optional")),!0);!t.collisionArrays&&l&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(l);const Q=($,ie,J)=>{for(let re=0;re<ie/4;re++)$.opacityVertexArray.emplaceBack(J)};for(let $=0;$<t.symbolInstances.length;$++){const ie=t.symbolInstances.get($),{numHorizontalGlyphVertices:J,numVerticalGlyphVertices:re,crossTileID:le}=ie;let X=this.opacities[le];a[le]?X=v:X||(X=K,this.opacities[le]=X),a[le]=!0;const ce=ie.numIconVertices>0,pe=this.placedOrientations[ie.crossTileID],Ae=pe===r.WritingMode.vertical,Ce=pe===r.WritingMode.horizontal||pe===r.WritingMode.horizontalOnly;if(J>0||re>0){const Re=io(X.text);Q(t.text,J,Ae?Kn:Re),Q(t.text,re,Ce?Kn:Re);const Be=X.text.isHidden();[ie.rightJustifiedTextSymbolIndex,ie.centerJustifiedTextSymbolIndex,ie.leftJustifiedTextSymbolIndex].forEach(ct=>{ct>=0&&(t.text.placedSymbolArray.get(ct).hidden=Be||Ae?1:0)}),ie.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(ie.verticalPlacedTextSymbolIndex).hidden=Be||Ce?1:0);const nt=this.variableOffsets[ie.crossTileID];nt&&this.markUsedJustification(t,nt.anchor,ie,pe);const Fe=this.placedOrientations[ie.crossTileID];Fe&&(this.markUsedJustification(t,"left",ie,Fe),this.markUsedOrientation(t,Fe,ie))}if(ce){const Re=io(X.icon);ie.placedIconSymbolIndex>=0&&(Q(t.icon,ie.numIconVertices,Ae?Kn:Re),t.icon.placedSymbolArray.get(ie.placedIconSymbolIndex).hidden=X.icon.isHidden()),ie.verticalPlacedIconSymbolIndex>=0&&(Q(t.icon,ie.numVerticalIconVertices,Ce?Kn:Re),t.icon.placedSymbolArray.get(ie.verticalPlacedIconSymbolIndex).hidden=X.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){const Re=t.collisionArrays[$];if(Re){let Be=new r.pointGeometry(0,0),nt=!0;if(Re.textBox||Re.verticalTextBox){if(Y){const ct=this.variableOffsets[le];ct?(Be=Ln(ct.anchor,ct.width,ct.height,ct.textOffset,ct.textScale),O&&Be._rotate(z?this.transform.angle:-this.transform.angle)):nt=!1}p&&(nt=!X.clipped),Re.textBox&&zn(t.textCollisionBox.collisionVertexArray,X.text.placed,!nt||Ae,Be.x,Be.y),Re.verticalTextBox&&zn(t.textCollisionBox.collisionVertexArray,X.text.placed,!nt||Ce,Be.x,Be.y)}const Fe=nt&&Boolean(!Ce&&Re.verticalIconBox);Re.iconBox&&zn(t.iconCollisionBox.collisionVertexArray,X.icon.placed,Fe,H?Be.x:0,H?Be.y:0),Re.verticalIconBox&&zn(t.iconCollisionBox.collisionVertexArray,X.icon.placed,!Fe,H?Be.x:0,H?Be.y:0)}}}if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){const $=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=$.invProjMatrix,t.placementViewportMatrix=$.viewportMatrix,t.collisionCircleArray=$.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}symbolFadeChange(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(t){return Math.max(0,(this.transform.zoom-t)/1.5)}hasTransitions(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(t,a){const l=this.zoomAtLastRecencyCheck===a?1-this.zoomAdjustment(a):1;return this.zoomAtLastRecencyCheck=a,this.commitTime+this.fadeDuration*l>t}setStale(){this.stale=!0}}function zn(c,t,a,l,_){c.emplaceBack(t?1:0,a?1:0,l||0,_||0),c.emplaceBack(t?1:0,a?1:0,l||0,_||0),c.emplaceBack(t?1:0,a?1:0,l||0,_||0),c.emplaceBack(t?1:0,a?1:0,l||0,_||0)}const to=Math.pow(2,25),Fi=Math.pow(2,24),Ds=Math.pow(2,17),oa=Math.pow(2,16),zl=Math.pow(2,9),gr=Math.pow(2,8),no=Math.pow(2,1);function io(c){if(0===c.opacity&&!c.placed)return 0;if(1===c.opacity&&c.placed)return 4294967295;const t=c.placed?1:0,a=Math.floor(127*c.opacity);return a*to+t*Fi+a*Ds+t*oa+a*zl+t*gr+a*no+t}const Kn=0;class la{constructor(t){this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&void 0!==t.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(t,a,l,_,p){const v=this._bucketParts;for(;this._currentTileIndex<t.length;)if(a.getBucketParts(v,_,t[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,p())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,v.sort((w,S)=>w.sortKey-S.sortKey));this._currentPartIndex<v.length;){const w=v[this._currentPartIndex];if(a.placeLayerBucketPart(w,this._seenCrossTileIDs,l,0===w.symbolInstanceStart),this._currentPartIndex++,p())return!0}return!1}}class yr{constructor(t,a,l,_,p,v,w,S){this.placement=new Br(t,p,v,w,S),this._currentPlacementIndex=a.length-1,this._forceFullPlacement=l,this._showCollisionBoxes=_,this._done=!1}isDone(){return this._done}continuePlacement(t,a,l){const _=r.exported.now(),p=()=>{const v=r.exported.now()-_;return!this._forceFullPlacement&&v>2};for(;this._currentPlacementIndex>=0;){const v=a[t[this._currentPlacementIndex]],w=this.placement.collisionIndex.transform.zoom;if("symbol"===v.type&&(!v.minzoom||v.minzoom<=w)&&(!v.maxzoom||v.maxzoom>w)){if(this._inProgressLayer||(this._inProgressLayer=new la(v)),this._inProgressLayer.continuePlacement(l[v.source],this.placement,this._showCollisionBoxes,v,p))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(t){return this.placement.commit(t),this.placement}}const ro=512/r.EXTENT/2;class ca{constructor(t,a,l){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=l;for(let _=0;_<a.length;_++){const p=a.get(_),v=p.key;this.indexedSymbolInstances[v]||(this.indexedSymbolInstances[v]=[]),this.indexedSymbolInstances[v].push({crossTileID:p.crossTileID,coord:this.getScaledCoordinates(p,t)})}}getScaledCoordinates(t,a){const l=ro/Math.pow(2,a.canonical.z-this.tileID.canonical.z);return{x:Math.floor((a.canonical.x*r.EXTENT+t.tileAnchorX)*l),y:Math.floor((a.canonical.y*r.EXTENT+t.tileAnchorY)*l)}}findMatches(t,a,l){const _=this.tileID.canonical.z<a.canonical.z?1:Math.pow(2,this.tileID.canonical.z-a.canonical.z);for(let p=0;p<t.length;p++){const v=t.get(p);if(v.crossTileID)continue;const w=this.indexedSymbolInstances[v.key];if(!w)continue;const S=this.getScaledCoordinates(v,a);for(const Y of w)if(Math.abs(Y.coord.x-S.x)<=_&&Math.abs(Y.coord.y-S.y)<=_&&!l[Y.crossTileID]){l[Y.crossTileID]=!0,v.crossTileID=Y.crossTileID;break}}}}class Fl{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Rl{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(t){const a=Math.round((t-this.lng)/360);if(0!==a)for(const l in this.indexes){const _=this.indexes[l],p={};for(const v in _){const w=_[v];w.tileID=w.tileID.unwrapTo(w.tileID.wrap+a),p[w.tileID.key]=w}this.indexes[l]=p}this.lng=t}addBucket(t,a,l){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===a.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(let p=0;p<a.symbolInstances.length;p++)a.symbolInstances.get(p).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});const _=this.usedCrossTileIDs[t.overscaledZ];for(const p in this.indexes){const v=this.indexes[p];if(Number(p)>t.overscaledZ)for(const w in v){const S=v[w];S.tileID.isChildOf(t)&&S.findMatches(a.symbolInstances,t,_)}else{const w=v[t.scaledTo(Number(p)).key];w&&w.findMatches(a.symbolInstances,t,_)}}for(let p=0;p<a.symbolInstances.length;p++){const v=a.symbolInstances.get(p);v.crossTileID||(v.crossTileID=l.generate(),_[v.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new ca(t,a.symbolInstances,a.bucketInstanceId),!0}removeBucketCrossTileIDs(t,a){for(const l in a.indexedSymbolInstances)for(const _ of a.indexedSymbolInstances[l])delete this.usedCrossTileIDs[t][_.crossTileID]}removeStaleBuckets(t){let a=!1;for(const l in this.indexes){const _=this.indexes[l];for(const p in _)t[_[p].bucketInstanceId]||(this.removeBucketCrossTileIDs(l,_[p]),delete _[p],a=!0)}return a}}class ua{constructor(){this.layerIndexes={},this.crossTileIDs=new Fl,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(t,a,l){let _=this.layerIndexes[t.id];void 0===_&&(_=this.layerIndexes[t.id]=new Rl);let p=!1;const v={};_.handleWrapJump(l);for(const w of a){const S=w.getBucket(t);S&&t.id===S.layerIds[0]&&(S.bucketInstanceId||(S.bucketInstanceId=++this.maxBucketInstanceId),_.addBucket(w.tileID,S,this.crossTileIDs)&&(p=!0),v[S.bucketInstanceId]=!0)}return _.removeStaleBuckets(v)&&(p=!0),p}pruneUnusedLayers(t){const a={};t.forEach(l=>{a[l]=!0});for(const l in this.layerIndexes)a[l]||delete this.layerIndexes[l]}}const da=(c,t)=>r.emitValidationErrors(c,t&&t.filter(a=>"source.canvas"!==a.identifier)),Uo=r.pick(it,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),Bl=r.pick(it,["setCenter","setZoom","setBearing","setPitch"]),jo=function(){const c={},t=r.spec.$version;for(const a in r.spec.$root){const l=r.spec.$root[a];if(l.required){let _=null;_="version"===a?t:"array"===l.type?[]:{},null!=_&&(c[a]=_)}}return c}(),Ul={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Ai extends r.Evented{constructor(t,a={}){super(),this.map=t,this.dispatcher=new tn(Qe(),this),this.imageManager=new Pe,this.imageManager.setEventedParent(this),this.glyphManager=new r.GlyphManager(t._requestManager,a.localFontFamily?r.LocalGlyphMode.all:a.localIdeographFontFamily?r.LocalGlyphMode.ideographs:r.LocalGlyphMode.none,a.localFontFamily||a.localIdeographFontFamily),this.lineAtlas=new r.LineAtlas(256,512),this.crossTileSymbolIndex=new ua,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new r.ZoomHistory,this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",r.getReferrer());const l=this;this._rtlTextPluginCallback=Ai.registerForPluginStateChange(_=>{l.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:_.pluginStatus,pluginURL:_.pluginURL},(p,v)=>{if(r.triggerPluginCompletionEvent(p),v&&v.every(w=>w))for(const w in l._sourceCaches){const S=l._sourceCaches[w],Y=S.getSource().type;"vector"!==Y&&"geojson"!==Y||S.reload()}})}),this.on("data",_=>{if("source"!==_.dataType||"metadata"!==_.sourceDataType)return;const p=this.getSource(_.sourceId);if(p&&p.vectorLayerIds)for(const v in this._layers){const w=this._layers[v];w.source===p.id&&this._validateLayer(w)}})}loadURL(t,a={}){this.fire(new r.Event("dataloading",{dataType:"style"}));const l="boolean"==typeof a.validate?a.validate:!r.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,a.accessToken);const _=this.map._requestManager.transformRequest(t,r.ResourceType.Style);this._request=r.getJSON(_,(p,v)=>{this._request=null,p?this.fire(new r.ErrorEvent(p)):v&&this._load(v,l)})}loadJSON(t,a={}){this.fire(new r.Event("dataloading",{dataType:"style"})),this._request=r.exported.frame(()=>{this._request=null,this._load(t,!1!==a.validate)})}loadEmpty(){this.fire(new r.Event("dataloading",{dataType:"style"})),this._load(jo,!1)}_updateLayerCount(t,a){const l=a?1:-1;t.is3D()&&(this._num3DLayers+=l),"circle"===t.type&&(this._numCircleLayers+=l),"symbol"===t.type&&(this._numSymbolLayers+=l)}_load(t,a){if(a&&da(this,r.validateStyle(t)))return;this._loaded=!0,this.stylesheet=t,this.updateProjection();for(const _ in t.sources)this.addSource(_,t.sources[_],{validate:!1});this._changed=!1,t.sprite?this._loadSprite(t.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(t.glyphs);const l=xt(this.stylesheet.layers);this._order=l.map(_=>_.id),this._layers={},this._serializedLayers={};for(let _ of l)_=r.createStyleLayer(_),_.setEventedParent(this,{layer:{id:_.id}}),this._layers[_.id]=_,this._serializedLayers[_.id]=_.serialize(),this._updateLayerCount(_,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Ke(this.stylesheet.light),this.stylesheet.terrain&&this._createTerrain(this.stylesheet.terrain),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new r.Event("data",{dataType:"style"})),this.fire(new r.Event("style.load"))}setProjection(t){t?this.stylesheet.projection=t:delete this.stylesheet.projection,this.updateProjection()}updateProjection(){const t=this.map.transform.setProjection(this.map._runtimeProjection||(this.stylesheet?this.stylesheet.projection:void 0));if(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),t){this.map.painter.clearBackgroundTiles();for(const a in this._sourceCaches)this._sourceCaches[a].clearTiles();this.map._update(!0)}}_loadSprite(t){this._spriteRequest=function(a,l,_){let p,v,w;const S=r.exported.devicePixelRatio>1?"@2x":"";let Y=r.getJSON(l.transformRequest(l.normalizeSpriteURL(a,S,".json"),r.ResourceType.SpriteJSON),(H,K)=>{Y=null,w||(w=H,p=K,z())}),O=r.getImage(l.transformRequest(l.normalizeSpriteURL(a,S,".png"),r.ResourceType.SpriteImage),(H,K)=>{O=null,w||(w=H,v=K,z())});function z(){if(w)_(w);else if(p&&v){const H=r.exported.getImageData(v),K={};for(const Q in p){const{width:$,height:ie,x:J,y:re,sdf:le,pixelRatio:X,stretchX:ce,stretchY:pe,content:Ae}=p[Q],Ce=new r.RGBAImage({width:$,height:ie});r.RGBAImage.copy(H,Ce,{x:J,y:re},{x:0,y:0},{width:$,height:ie}),K[Q]={data:Ce,pixelRatio:X,sdf:le,stretchX:ce,stretchY:pe,content:Ae}}_(null,K)}}return{cancel(){Y&&(Y.cancel(),Y=null),O&&(O.cancel(),O=null)}}}(t,this.map._requestManager,(a,l)=>{if(this._spriteRequest=null,a)this.fire(new r.ErrorEvent(a));else if(l)for(const _ in l)this.imageManager.addImage(_,l[_]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new r.Event("data",{dataType:"style"}))})}_validateLayer(t){const a=this.getSource(t.source);if(!a)return;const l=t.sourceLayer;l&&("geojson"===a.type||a.vectorLayerIds&&-1===a.vectorLayerIds.indexOf(l))&&this.fire(new r.ErrorEvent(new Error(`Source layer "${l}" does not exist on source "${a.id}" as specified by style layer "${t.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const t in this._sourceCaches)if(!this._sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(t){const a=[];for(const l of t){const _=this._layers[l];"custom"!==_.type&&a.push(_.serialize())}return a}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const t in this._sourceCaches)if(this._sourceCaches[t].hasTransition())return!0;for(const t in this._layers)if(this._layers[t].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(t){return!!this.terrain&&Ul[t.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(t){if(!this._loaded)return;const a=this._changed;if(this._changed){const _=Object.keys(this._updatedLayers),p=Object.keys(this._removedLayers);(_.length||p.length)&&this._updateWorkerLayers(_,p);for(const v in this._updatedSources){const w=this._updatedSources[v];"reload"===w?this._reloadSource(v):"clear"===w&&this._clearSource(v)}this._updateTilesForChangedImages();for(const v in this._updatedPaintProps)this._layers[v].updateTransitions(t);this.light.updateTransitions(t),this.fog&&this.fog.updateTransitions(t),this._resetUpdates()}const l={};for(const _ in this._sourceCaches){const p=this._sourceCaches[_];l[_]=p.used,p.used=!1}for(const _ of this._order){const p=this._layers[_];if(p.recalculate(t,this._availableImages),!p.isHidden(t.zoom)){const w=this._getLayerSourceCache(p);w&&(w.used=!0)}const v=this.map.painter;if(v){const w=p.getProgramIds();if(!w)continue;const S=p.getProgramConfiguration(t.zoom);for(const Y of w)v.useProgram(Y,S)}}for(const _ in l){const p=this._sourceCaches[_];l[_]!==p.used&&p.getSource().fire(new r.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:p.getSource().id}))}this.light.recalculate(t),this.terrain&&this.terrain.recalculate(t),this.fog&&this.fog.recalculate(t),this.z=t.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),a&&this.fire(new r.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const t=Object.keys(this._changedImages);if(t.length){for(const a in this._sourceCaches)this._sourceCaches[a].reloadTilesForDependencies(["icons","patterns"],t);this._changedImages={}}}_updateWorkerLayers(t,a){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:a})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(t){if(this._checkLoaded(),da(this,r.validateStyle(t)))return!1;(t=r.clone$2(t)).layers=xt(t.layers);const a=function(_,p){if(!_)return[{command:it.setStyle,args:[p]}];let v=[];try{if(!I(_.version,p.version))return[{command:it.setStyle,args:[p]}];I(_.center,p.center)||v.push({command:it.setCenter,args:[p.center]}),I(_.zoom,p.zoom)||v.push({command:it.setZoom,args:[p.zoom]}),I(_.bearing,p.bearing)||v.push({command:it.setBearing,args:[p.bearing]}),I(_.pitch,p.pitch)||v.push({command:it.setPitch,args:[p.pitch]}),I(_.sprite,p.sprite)||v.push({command:it.setSprite,args:[p.sprite]}),I(_.glyphs,p.glyphs)||v.push({command:it.setGlyphs,args:[p.glyphs]}),I(_.transition,p.transition)||v.push({command:it.setTransition,args:[p.transition]}),I(_.light,p.light)||v.push({command:it.setLight,args:[p.light]}),I(_.fog,p.fog)||v.push({command:it.setFog,args:[p.fog]}),I(_.projection,p.projection)||v.push({command:it.setProjection,args:[p.projection]});const w={},S=[];!function(z,H,K,Q){let $;for($ in H=H||{},z=z||{})z.hasOwnProperty($)&&(H.hasOwnProperty($)||Oe($,K,Q));for($ in H)H.hasOwnProperty($)&&(z.hasOwnProperty($)?I(z[$],H[$])||("geojson"===z[$].type&&"geojson"===H[$].type&&Ut(z,H,$)?K.push({command:it.setGeoJSONSourceData,args:[$,H[$].data]}):Tt($,H,K,Q)):xe($,H,K))}(_.sources,p.sources,S,w);const Y=[];_.layers&&_.layers.forEach(z=>{w[z.source]?v.push({command:it.removeLayer,args:[z.id]}):Y.push(z)});let O=_.terrain;O&&w[O.source]&&(v.push({command:it.setTerrain,args:[void 0]}),O=void 0),v=v.concat(S),I(O,p.terrain)||v.push({command:it.setTerrain,args:[p.terrain]}),function(z,H,K){H=H||[];const Q=(z=z||[]).map(jt),$=H.map(jt),ie=z.reduce(Kt,{}),J=H.reduce(Kt,{}),re=Q.slice(),le=Object.create(null);let X,ce,pe,Ae,Ce,Re,Be;for(X=0,ce=0;X<Q.length;X++)pe=Q[X],J.hasOwnProperty(pe)?ce++:(K.push({command:it.removeLayer,args:[pe]}),re.splice(re.indexOf(pe,ce),1));for(X=0,ce=0;X<$.length;X++)pe=$[$.length-1-X],re[re.length-1-X]!==pe&&(ie.hasOwnProperty(pe)?(K.push({command:it.removeLayer,args:[pe]}),re.splice(re.lastIndexOf(pe,re.length-ce),1)):ce++,Re=re[re.length-X],K.push({command:it.addLayer,args:[J[pe],Re]}),re.splice(re.length-X,0,pe),le[pe]=!0);for(X=0;X<$.length;X++)if(pe=$[X],Ae=ie[pe],Ce=J[pe],!le[pe]&&!I(Ae,Ce))if(I(Ae.source,Ce.source)&&I(Ae["source-layer"],Ce["source-layer"])&&I(Ae.type,Ce.type)){for(Be in kt(Ae.layout,Ce.layout,K,pe,null,it.setLayoutProperty),kt(Ae.paint,Ce.paint,K,pe,null,it.setPaintProperty),I(Ae.filter,Ce.filter)||K.push({command:it.setFilter,args:[pe,Ce.filter]}),I(Ae.minzoom,Ce.minzoom)&&I(Ae.maxzoom,Ce.maxzoom)||K.push({command:it.setLayerZoomRange,args:[pe,Ce.minzoom,Ce.maxzoom]}),Ae)Ae.hasOwnProperty(Be)&&"layout"!==Be&&"paint"!==Be&&"filter"!==Be&&"metadata"!==Be&&"minzoom"!==Be&&"maxzoom"!==Be&&(0===Be.indexOf("paint.")?kt(Ae[Be],Ce[Be],K,pe,Be.slice(6),it.setPaintProperty):I(Ae[Be],Ce[Be])||K.push({command:it.setLayerProperty,args:[pe,Be,Ce[Be]]}));for(Be in Ce)Ce.hasOwnProperty(Be)&&!Ae.hasOwnProperty(Be)&&"layout"!==Be&&"paint"!==Be&&"filter"!==Be&&"metadata"!==Be&&"minzoom"!==Be&&"maxzoom"!==Be&&(0===Be.indexOf("paint.")?kt(Ae[Be],Ce[Be],K,pe,Be.slice(6),it.setPaintProperty):I(Ae[Be],Ce[Be])||K.push({command:it.setLayerProperty,args:[pe,Be,Ce[Be]]}))}else K.push({command:it.removeLayer,args:[pe]}),Re=re[re.lastIndexOf(pe)+1],K.push({command:it.addLayer,args:[Ce,Re]})}(Y,p.layers,v)}catch(w){console.warn("Unable to compute style diff:",w),v=[{command:it.setStyle,args:[p]}]}return v}(this.serialize(),t).filter(_=>!(_.command in Bl));if(0===a.length)return!1;const l=a.filter(_=>!(_.command in Uo));if(l.length>0)throw new Error(`Unimplemented: ${l.map(_=>_.command).join(", ")}.`);return a.forEach(_=>{"setTransition"!==_.command&&this[_.command].apply(this,_.args)}),this.stylesheet=t,!0}addImage(t,a){if(this.getImage(t))return this.fire(new r.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,a),this._afterImageUpdated(t)}updateImage(t,a){this.imageManager.updateImage(t,a)}getImage(t){return this.imageManager.getImage(t)}removeImage(t){if(!this.getImage(t))return this.fire(new r.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this._afterImageUpdated(t)}_afterImageUpdated(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new r.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(t,a,l={}){if(this._checkLoaded(),void 0!==this.getSource(t))throw new Error("There is already a source with this ID");if(!a.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(a).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(a.type)>=0&&this._validate(r.validateStyle.source,`sources.${t}`,a,null,l))return;this.map&&this.map._collectResourceTiming&&(a.collectResourceTiming=!0);const _=N(t,a,this.dispatcher,this);_.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:_.serialize(),sourceId:t}));const p=v=>{const w=(v?"symbol:":"other:")+t,S=this._sourceCaches[w]=new r.SourceCache(w,_,v);(v?this._symbolSourceCaches:this._otherSourceCaches)[t]=S,S.style=this,S.onAdd(this.map)};p(!1),"vector"!==a.type&&"geojson"!==a.type||p(!0),_.onAdd&&_.onAdd(this.map),this._changed=!0}removeSource(t){this._checkLoaded();const a=this.getSource(t);if(void 0===a)throw new Error("There is no source with this ID");for(const _ in this._layers)if(this._layers[_].source===t)return this.fire(new r.ErrorEvent(new Error(`Source "${t}" cannot be removed while layer "${_}" is using it.`)));if(this.terrain&&this.terrain.get().source===t)return this.fire(new r.ErrorEvent(new Error(`Source "${t}" cannot be removed while terrain is using it.`)));const l=this._getSourceCaches(t);for(const _ of l)delete this._sourceCaches[_.id],delete this._updatedSources[_.id],_.fire(new r.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:_.getSource().id})),_.setEventedParent(null),_.clearTiles();delete this._otherSourceCaches[t],delete this._symbolSourceCaches[t],a.setEventedParent(null),a.onRemove&&a.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(t,a){this._checkLoaded(),this.getSource(t).setData(a),this._changed=!0}getSource(t){const a=this._getSourceCache(t);return a&&a.getSource()}addLayer(t,a,l={}){this._checkLoaded();const _=t.id;if(this.getLayer(_))return void this.fire(new r.ErrorEvent(new Error(`Layer with id "${_}" already exists on this map`)));let p;if("custom"===t.type){if(da(this,r.validateCustomStyleLayer(t)))return;p=r.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(_,t.source),t=r.clone$2(t),t=r.extend(t,{source:_})),this._validate(r.validateStyle.layer,`layers.${_}`,t,{arrayIndex:-1},l))return;p=r.createStyleLayer(t),this._validateLayer(p),p.setEventedParent(this,{layer:{id:_}}),this._serializedLayers[p.id]=p.serialize(),this._updateLayerCount(p,!0)}const v=a?this._order.indexOf(a):this._order.length;if(a&&-1===v)return void this.fire(new r.ErrorEvent(new Error(`Layer with id "${a}" does not exist on this map.`)));this._order.splice(v,0,_),this._layerOrderChanged=!0,this._layers[_]=p;const w=this._getLayerSourceCache(p);if(this._removedLayers[_]&&p.source&&w&&"custom"!==p.type){const S=this._removedLayers[_];delete this._removedLayers[_],S.type!==p.type?this._updatedSources[p.source]="clear":(this._updatedSources[p.source]="reload",w.pause())}this._updateLayer(p),p.onAdd&&p.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(t,a){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire(new r.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be moved.`)));if(t===a)return;const l=this._order.indexOf(t);this._order.splice(l,1);const _=a?this._order.indexOf(a):this._order.length;a&&-1===_?this.fire(new r.ErrorEvent(new Error(`Layer with id "${a}" does not exist on this map.`))):(this._order.splice(_,0,t),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(t){this._checkLoaded();const a=this._layers[t];if(!a)return void this.fire(new r.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be removed.`)));a.setEventedParent(null),this._updateLayerCount(a,!1);const l=this._order.indexOf(t);this._order.splice(l,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=a,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],a.onRemove&&a.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(t){return this._layers[t]}hasLayer(t){return t in this._layers}hasLayerType(t){for(const a in this._layers)if(this._layers[a].type===t)return!0;return!1}setLayerZoomRange(t,a,l){this._checkLoaded();const _=this.getLayer(t);_?_.minzoom===a&&_.maxzoom===l||(null!=a&&(_.minzoom=a),null!=l&&(_.maxzoom=l),this._updateLayer(_)):this.fire(new r.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(t,a,l={}){this._checkLoaded();const _=this.getLayer(t);if(_){if(!I(_.filter,a))return null==a?(_.filter=void 0,void this._updateLayer(_)):void(this._validate(r.validateStyle.filter,`layers.${_.id}.filter`,a,{layerType:_.type},l)||(_.filter=r.clone$2(a),this._updateLayer(_)))}else this.fire(new r.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be filtered.`)))}getFilter(t){return r.clone$2(this.getLayer(t).filter)}setLayoutProperty(t,a,l,_={}){this._checkLoaded();const p=this.getLayer(t);p?I(p.getLayoutProperty(a),l)||(p.setLayoutProperty(a,l,_),this._updateLayer(p)):this.fire(new r.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(t,a){const l=this.getLayer(t);if(l)return l.getLayoutProperty(a);this.fire(new r.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style.`)))}setPaintProperty(t,a,l,_={}){this._checkLoaded();const p=this.getLayer(t);p?I(p.getPaintProperty(a),l)||(p.setPaintProperty(a,l,_)&&this._updateLayer(p),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new r.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(t,a){return this.getLayer(t).getPaintProperty(a)}setFeatureState(t,a){this._checkLoaded();const l=t.source,_=t.sourceLayer,p=this.getSource(l);if(void 0===p)return void this.fire(new r.ErrorEvent(new Error(`The source '${l}' does not exist in the map's style.`)));const v=p.type;if("geojson"===v&&_)return void this.fire(new r.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===v&&!_)return void this.fire(new r.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===t.id&&this.fire(new r.ErrorEvent(new Error("The feature id parameter must be provided.")));const w=this._getSourceCaches(l);for(const S of w)S.setFeatureState(_,t.id,a)}removeFeatureState(t,a){this._checkLoaded();const l=t.source,_=this.getSource(l);if(void 0===_)return void this.fire(new r.ErrorEvent(new Error(`The source '${l}' does not exist in the map's style.`)));const p=_.type,v="vector"===p?t.sourceLayer:void 0;if("vector"===p&&!v)return void this.fire(new r.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(a&&"string"!=typeof t.id&&"number"!=typeof t.id)return void this.fire(new r.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const w=this._getSourceCaches(l);for(const S of w)S.removeFeatureState(v,t.id,a)}getFeatureState(t){this._checkLoaded();const a=t.source,l=t.sourceLayer,_=this.getSource(a);if(void 0!==_){if("vector"!==_.type||l)return void 0===t.id&&this.fire(new r.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(a)[0].getFeatureState(l,t.id);this.fire(new r.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new r.ErrorEvent(new Error(`The source '${a}' does not exist in the map's style.`)))}getTransition(){return r.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const t={};for(const a in this._sourceCaches){const l=this._sourceCaches[a].getSource();t[l.id]||(t[l.id]=l.serialize())}return r.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.stylesheet.terrain,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:t,layers:this._serializeLayers(this._order)},a=>void 0!==a)}_updateLayer(t){this._updatedLayers[t.id]=!0;const a=this._getLayerSourceCache(t);t.source&&!this._updatedSources[t.source]&&a&&"raster"!==a.getSource().type&&(this._updatedSources[t.source]="reload",a.pause()),this._changed=!0,t.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(t){const a=v=>"fill-extrusion"===this._layers[v].type,l={},_=[];for(let v=this._order.length-1;v>=0;v--){const w=this._order[v];if(a(w)){l[w]=v;for(const S of t){const Y=S[w];if(Y)for(const O of Y)_.push(O)}}}_.sort((v,w)=>w.intersectionZ-v.intersectionZ);const p=[];for(let v=this._order.length-1;v>=0;v--){const w=this._order[v];if(a(w))for(let S=_.length-1;S>=0;S--){const Y=_[S].feature;if(l[Y.layer.id]<v)break;p.push(Y),_.pop()}else for(const S of t){const Y=S[w];if(Y)for(const O of Y)p.push(O.feature)}}return p}queryRenderedFeatures(t,a,l){a&&a.filter&&this._validate(r.validateStyle.filter,"queryRenderedFeatures.filter",a.filter,null,a);const _={};if(a&&a.layers){if(!Array.isArray(a.layers))return this.fire(new r.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const S of a.layers){const Y=this._layers[S];if(!Y)return this.fire(new r.ErrorEvent(new Error(`The layer '${S}' does not exist in the map's style and cannot be queried for features.`))),[];_[Y.source]=!0}}const p=[];a.availableImages=this._availableImages;const v=a&&a.layers?a.layers.some(S=>{const Y=this.getLayer(S);return Y&&Y.is3D()}):this.has3DLayers(),w=ln.createFromScreenPoints(t,l);for(const S in this._sourceCaches){const Y=this._sourceCaches[S].getSource().id;a.layers&&!_[Y]||p.push(se(this._sourceCaches[S],this._layers,this._serializedLayers,w,a,l,v,!!this.map._showQueryGeometry))}return this.placement&&p.push(function(S,Y,O,z,H,K,Q){const $={},ie=K.queryRenderedSymbols(z),J=[];for(const re of Object.keys(ie).map(Number))J.push(Q[re]);J.sort(ue);for(const re of J){const le=re.featureIndex.lookupSymbolFeatures(ie[re.bucketInstanceId],Y,re.bucketIndex,re.sourceLayerIndex,H.filter,H.layers,H.availableImages,S);for(const X in le){const ce=$[X]=$[X]||[],pe=le[X];pe.sort((Ae,Ce)=>{const Re=re.featureSortOrder;if(Re){const Be=Re.indexOf(Ae.featureIndex);return Re.indexOf(Ce.featureIndex)-Be}return Ce.featureIndex-Ae.featureIndex});for(const Ae of pe)ce.push(Ae)}}for(const re in $)$[re].forEach(le=>{const X=le.feature,ce=O(S[re]).getFeatureState(X.layer["source-layer"],X.id);X.source=X.layer.source,X.layer["source-layer"]&&(X.sourceLayer=X.layer["source-layer"]),X.state=ce});return $}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),w.screenGeometry,a,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(p)}querySourceFeatures(t,a){a&&a.filter&&this._validate(r.validateStyle.filter,"querySourceFeatures.filter",a.filter,null,a);const l=this._getSourceCaches(t);let _=[];for(const p of l)_=_.concat(me(p,a));return _}addSourceType(t,a,l){return Ai.getSourceType(t)?l(new Error(`A source type called "${t}" already exists.`)):(Ai.setSourceType(t,a),a.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:a.workerSourceURL},l):l(null,null))}getLight(){return this.light.getLight()}setLight(t,a={}){this._checkLoaded();const l=this.light.getLight();let _=!1;for(const v in t)if(!I(t[v],l[v])){_=!0;break}if(!_)return;const p={now:r.exported.now(),transition:r.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,a),this.light.updateTransitions(p)}getTerrain(){return this.terrain?this.terrain.get():null}setTerrain(t){if(this._checkLoaded(),!t)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if("object"==typeof t.source){const a="terrain-dem-src";this.addSource(a,t.source),t=r.clone$2(t),t=r.extend(t,{source:a})}if(!this._validate(r.validateStyle.terrain,"terrain",t)){if(this.terrain){const a=this.terrain,l=a.get();for(const _ in t)if(!I(t[_],l[_])){a.set(t),this.stylesheet.terrain=t;const p={now:r.exported.now(),transition:r.extend({duration:0},this.stylesheet.transition)};a.updateTransitions(p);break}}else this._createTerrain(t);this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}}_createFog(t){const a=this.fog=new Rt(t,this.map.transform);this.stylesheet.fog=t;const l={now:r.exported.now(),transition:r.extend({duration:0},this.stylesheet.transition)};a.updateTransitions(l)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask(()=>{for(const t of this.map._markers)t._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(t){if(this._checkLoaded(),!t)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const a=this.fog,l=a.get();for(const _ in t)if(!I(t[_],l[_])){a.set(t),this.stylesheet.fog=t;const p={now:r.exported.now(),transition:r.extend({duration:0},this.stylesheet.transition)};a.updateTransitions(p);break}}else this._createFog(t);this._markersNeedUpdate=!0}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const t=this._order.filter(l=>this.isLayerDraped(this._layers[l])),a=this._order.filter(l=>!this.isLayerDraped(this._layers[l]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...t),this._drapedFirstOrder.push(...a)}_createTerrain(t){const a=this.terrain=new tt(t);this.stylesheet.terrain=t,this.dispatcher.broadcast("enableTerrain",!0),this._force3DLayerUpdate();const l={now:r.exported.now(),transition:r.extend({duration:0},this.stylesheet.transition)};a.updateTransitions(l)}_force3DLayerUpdate(){for(const t in this._layers){const a=this._layers[t];"fill-extrusion"===a.type&&this._updateLayer(a)}}_validate(t,a,l,_,p={}){return(!p||!1!==p.validate)&&da(this,t.call(r.validateStyle,r.extend({key:a,style:this.serialize(),value:l,styleSpec:r.spec},_)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),r.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const t in this._layers)this._layers[t].setEventedParent(null);for(const t in this._sourceCaches)this._sourceCaches[t].clearTiles(),this._sourceCaches[t].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(t){const a=this._getSourceCaches(t);for(const l of a)l.clearTiles()}_reloadSource(t){const a=this._getSourceCaches(t);for(const l of a)l.resume(),l.reload()}_updateSources(t){for(const a in this._sourceCaches)this._sourceCaches[a].update(t)}_generateCollisionBoxes(){for(const t in this._sourceCaches){const a=this._sourceCaches[t];a.resume(),a.reload()}}_updatePlacement(t,a,l,_,p=!1){let v=!1,w=!1;const S={};for(const Y of this._order){const O=this._layers[Y];if("symbol"!==O.type)continue;if(!S[O.source]){const H=this._getLayerSourceCache(O);if(!H)continue;S[O.source]=H.getRenderableIds(!0).map(K=>H.getTileByID(K)).sort((K,Q)=>Q.tileID.overscaledZ-K.tileID.overscaledZ||(K.tileID.isLessThan(Q.tileID)?-1:1))}const z=this.crossTileSymbolIndex.addLayer(O,S[O.source],t.center.lng);v=v||z}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),p=p||this._layerOrderChanged||0===l,this._layerOrderChanged&&this.fire(new r.Event("neworder")),(p||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(r.exported.now(),t.zoom))&&(this.pauseablePlacement=new yr(t,this._order,p,a,l,_,this.placement,this.fog&&!this.fog.isSoftDisabled()?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,S),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(r.exported.now()),w=!0),v&&this.pauseablePlacement.placement.setStale()),w||v)for(const Y of this._order){const O=this._layers[Y];"symbol"===O.type&&this.placement.updateLayerOpacities(O,S[O.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(r.exported.now())}_releaseSymbolFadeTiles(){for(const t in this._sourceCaches)this._sourceCaches[t].releaseSymbolFadeTiles()}getImages(t,a,l){this.imageManager.getImages(a.icons,l),this._updateTilesForChangedImages();const _=p=>{p&&p.setDependencies(a.tileID.key,a.type,a.icons)};_(this._otherSourceCaches[a.source]),_(this._symbolSourceCaches[a.source])}getGlyphs(t,a,l){this.glyphManager.getGlyphs(a.stacks,l)}getResource(t,a,l){return r.makeRequest(a,l)}_getSourceCache(t){return this._otherSourceCaches[t]}_getLayerSourceCache(t){return"symbol"===t.type?this._symbolSourceCaches[t.source]:this._otherSourceCaches[t.source]}_getSourceCaches(t){const a=[];return this._otherSourceCaches[t]&&a.push(this._otherSourceCaches[t]),this._symbolSourceCaches[t]&&a.push(this._symbolSourceCaches[t]),a}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}}Ai.getSourceType=function(c){return F[c]},Ai.setSourceType=function(c,t){F[c]=t},Ai.registerForPluginStateChange=r.registerForPluginStateChange;var so="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}\n#endif",ao="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}";let Ur={},vr={};Ur=$t("","\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else \nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {return currentElevation(apos);}\n#endif\nfloat unpack_depth(vec4 rgba_depth)\n{const vec4 bit_shift=vec4(1.0/(256.0*256.0*256.0),1.0/(256.0*256.0),1.0/256.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",!0),vr=$t("#ifdef FOG\nuniform float u_fog_temporal_offset;float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif","#ifdef FOG\nuniform mat4 u_fog_matrix;vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",!0);const xr=$t("\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}\n#ifdef TERRAIN\nhighp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(256.0*256.0*256.0,256.0*256.0,256.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/256.0,1.0/256.0,1.0/256.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}\n#endif","\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#if defined(PROJECTION_GLOBE_VIEW) && !defined(PROJECTED_POS_ON_VIEWPORT)\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {\n#if defined(PROJECTION_GLOBE_VIEW) && !defined(PROJECTED_POS_ON_VIEWPORT)\nreturn mix(globe,mercator,t);\n#else\nreturn globe;\n#endif\n}vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),jr=so;var Es={background:$t("uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:$t("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:$t("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float height=circle_elevation(circle_center);vec4 world_center=vec4(circle_center,height,1);vec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);vec4 occlusion_world_center=vec4(circle_center,cantilevered_height,1);vec4 occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nvec4 occlusion_world_center=world_center;vec4 occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:$t("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:$t("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\ngl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;attribute float a_scale;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);\n#ifdef PROJECTION_GLOBE_VIEW\nextrude*=a_scale;vec3 normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));vec3 globePos=a_pos_3+xAxis*extrude.x+yAxis*extrude.y+elevationVector(tilePos)*elevation(tilePos);vec3 mercPos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+xAxis*extrude.x+yAxis*extrude.y;vec3 pos=mix_globe_mercator(globePos,mercPos,u_zoom_transition);\n#else\nvec3 pos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:$t("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:$t("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:$t("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:$t("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);}"),fill:$t("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:$t("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:$t("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:$t("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:$t("varying vec4 v_color;void main() {vec4 color=v_color;\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 pos=vec3(pos_nx.xy,h);\n#else\nvec3 pos=vec3(pos_nx.xy,t > 0.0 ? height : base);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:$t("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 p=vec3(pos_nx.xy,h);\n#else\nvec3 p=vec3(pos_nx.xy,z);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:$t("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:$t("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:$t("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;varying highp vec2 v_uv;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist_a=texture2D(u_dash_image,v_tex_a).a;float sdfdist_b=texture2D(u_dash_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\n#ifdef RENDER_LINE_GRADIENT\nvec4 out_color=texture2D(u_gradient_image,v_uv);\n#else\nvec4 out_color=color;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#ifdef RENDER_LINE_GRADIENT\nattribute vec3 a_packed;\n#else\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;varying highp vec2 v_uv;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];float a_linesofar=a_packed[2];highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);\n#endif\n#ifdef RENDER_LINE_DASH\nfloat tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:$t("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:$t("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:$t("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_z_tile_anchor;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float anchorZ=a_z_tile_anchor.x;vec2 tileAnchor=a_z_tile_anchor.yz;vec3 h=elevationVector(tileAnchor)*elevation(tileAnchor);vec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tileAnchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(vec3(a_pos,anchorZ)+h,mercator_pos,u_zoom_transition);vec4 projectedPoint=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),anchorZ,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec3 proj_pos=mix_globe_mercator(vec3(a_projected_pos.xy,anchorZ),mercator_pos,u_zoom_transition);\n#ifdef PROJECTED_POS_ON_VIEWPORT\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xy,0.0,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xyz+h,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:$t("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_z_tile_anchor;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_tile_id;uniform float u_zoom_transition;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float anchorZ=a_z_tile_anchor.x;vec2 tileAnchor=a_z_tile_anchor.yz;vec3 h=elevationVector(tileAnchor)*elevation(tileAnchor);vec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tileAnchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(vec3(a_pos,anchorZ)+h,mercator_pos,u_zoom_transition);vec4 projectedPoint=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),anchorZ,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec3 proj_pos=mix_globe_mercator(vec3(a_projected_pos.xy,anchorZ),mercator_pos,u_zoom_transition);\n#ifdef PROJECTED_POS_ON_VIEWPORT\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xy,0.0,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xyz+h,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:$t("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_z_tile_anchor;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float anchorZ=a_z_tile_anchor.x;vec2 tileAnchor=a_z_tile_anchor.yz;vec3 h=elevationVector(tileAnchor)*elevation(tileAnchor);vec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tileAnchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(vec3(a_pos,anchorZ)+h,mercator_pos,u_zoom_transition);vec4 projectedPoint=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),anchorZ,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec3 proj_pos=mix_globe_mercator(vec3(a_projected_pos.xy,anchorZ),mercator_pos,u_zoom_transition);\n#ifdef PROJECTED_POS_ON_VIEWPORT\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xy,0.0,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xyz+h,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:$t("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef FOG\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n}"),terrainDepth:$t("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:$t("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",ao),skyboxGradient:$t("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",ao),skyboxCapture:$t("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:$t("uniform sampler2D u_image0;varying vec2 v_pos0;void main() {vec4 color=texture2D(u_image0,v_pos0);gl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat4 u_up_vector_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;attribute vec3 a_globe_pos;attribute vec2 a_merc_pos;attribute vec2 a_uv;varying vec2 v_pos0;void main() {v_pos0=a_uv;vec2 uv=a_uv*EXTENT;vec4 up_vector=u_up_vector_matrix*vec4(elevationVector(uv),1.0);float height=elevation(uv);vec4 globe=u_globe_matrix*vec4(a_globe_pos+up_vector.xyz*height,1.0);vec4 mercator=vec4(a_merc_pos,height,1.0);mercator.xy-=u_merc_center;mercator.x=wrap(mercator.x,-0.5,0.5);mercator=u_merc_matrix*mercator;vec3 position=mix(globe.xyz,mercator.xyz,u_zoom_transition);gl_Position=u_proj_matrix*vec4(position,1.0);}"),globeAtmosphere:$t("uniform vec2 u_center;uniform float u_radius;uniform vec2 u_screen_size;uniform float u_opacity;uniform highp float u_fadeout_range;uniform vec3 u_start_color;uniform vec3 u_end_color;uniform float u_pixel_ratio;void main() {highp vec2 fragCoord=gl_FragCoord.xy/u_pixel_ratio;fragCoord.y=u_screen_size.y-fragCoord.y;float distFromCenter=length(fragCoord-u_center);float normDistFromCenter=length(fragCoord-u_center)/u_radius;if (normDistFromCenter < 1.0)\ndiscard;float t=clamp(1.0-sqrt(normDistFromCenter-1.0)/u_fadeout_range,0.0,1.0);vec3 color=mix(u_start_color,u_end_color,1.0-t);gl_FragColor=vec4(color*t*u_opacity,u_opacity);}","attribute vec3 a_pos;void main() {gl_Position=vec4(a_pos,1.0);}"),globeDepth:$t("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_proj_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat4 u_up_vector_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;attribute vec3 a_globe_pos;attribute vec2 a_merc_pos;attribute vec2 a_uv;varying float v_depth;void main() {vec2 uv=a_uv*EXTENT;vec4 up_vector=u_up_vector_matrix*vec4(elevationVector(uv),1.0);float height=elevation(uv);vec4 globe=u_globe_matrix*vec4(a_globe_pos+up_vector.xyz*height,1.0);vec4 mercator=vec4(a_merc_pos,height,1.0);mercator.xy-=u_merc_center;mercator.x=wrap(mercator.x,-0.5,0.5);mercator=u_merc_matrix*mercator;vec3 position=mix(globe.xyz,mercator.xyz,u_zoom_transition);gl_Position=u_proj_matrix*vec4(position,1.0);v_depth=gl_Position.z/gl_Position.w;}")};function $t(c,t,a){const l=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,_=/uniform (highp |mediump |lowp )?([\w]+) ([\w]+)([\s]*)([\w]*)/g,p=t.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),v=c.match(_),w=t.match(_),S=so.match(_);let Y=w?w.concat(v):v;a||(Ur.staticUniforms&&(Y=Ur.staticUniforms.concat(Y)),vr.staticUniforms&&(Y=vr.staticUniforms.concat(Y))),Y&&(Y=Y.concat(S));const O={};return{fragmentSource:c=c.replace(l,(z,H,K,Q,$)=>(O[$]=!0,"define"===H?`\n#ifndef HAS_UNIFORM_u_${$}\nvarying ${K} ${Q} ${$};\n#else\nuniform ${K} ${Q} u_${$};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${$}\n    ${K} ${Q} ${$} = u_${$};\n#endif\n`)),vertexSource:t=t.replace(l,(z,H,K,Q,$)=>{const ie="float"===Q?"vec2":"vec4",J=$.match(/color/)?"color":ie;return O[$]?"define"===H?`\n#ifndef HAS_UNIFORM_u_${$}\nuniform lowp float u_${$}_t;\nattribute ${K} ${ie} a_${$};\nvarying ${K} ${Q} ${$};\n#else\nuniform ${K} ${Q} u_${$};\n#endif\n`:"vec4"===J?`\n#ifndef HAS_UNIFORM_u_${$}\n    ${$} = a_${$};\n#else\n    ${K} ${Q} ${$} = u_${$};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${$}\n    ${$} = unpack_mix_${J}(a_${$}, u_${$}_t);\n#else\n    ${K} ${Q} ${$} = u_${$};\n#endif\n`:"define"===H?`\n#ifndef HAS_UNIFORM_u_${$}\nuniform lowp float u_${$}_t;\nattribute ${K} ${ie} a_${$};\n#else\nuniform ${K} ${Q} u_${$};\n#endif\n`:"vec4"===J?`\n#ifndef HAS_UNIFORM_u_${$}\n    ${K} ${Q} ${$} = a_${$};\n#else\n    ${K} ${Q} ${$} = u_${$};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${$}\n    ${K} ${Q} ${$} = unpack_mix_${J}(a_${$}, u_${$}_t);\n#else\n    ${K} ${Q} ${$} = u_${$};\n#endif\n`}),staticAttributes:p,staticUniforms:Y}}class ha{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(t,a,l,_,p,v,w,S){this.context=t;let Y=this.boundPaintVertexBuffers.length!==_.length;for(let O=0;!Y&&O<_.length;O++)this.boundPaintVertexBuffers[O]!==_[O]&&(Y=!0);t.extVertexArrayObject&&this.vao&&this.boundProgram===a&&this.boundLayoutVertexBuffer===l&&!Y&&this.boundIndexBuffer===p&&this.boundVertexOffset===v&&this.boundDynamicVertexBuffer===w&&this.boundDynamicVertexBuffer2===S?(t.bindVertexArrayOES.set(this.vao),w&&w.bind(),p&&p.dynamicDraw&&p.bind(),S&&S.bind()):this.freshBind(a,l,_,p,v,w,S)}freshBind(t,a,l,_,p,v,w){let S;const Y=t.numAttributes,O=this.context,z=O.gl;if(O.extVertexArrayObject)this.vao&&this.destroy(),this.vao=O.extVertexArrayObject.createVertexArrayOES(),O.bindVertexArrayOES.set(this.vao),S=0,this.boundProgram=t,this.boundLayoutVertexBuffer=a,this.boundPaintVertexBuffers=l,this.boundIndexBuffer=_,this.boundVertexOffset=p,this.boundDynamicVertexBuffer=v,this.boundDynamicVertexBuffer2=w;else{S=O.currentNumAttributes||0;for(let H=Y;H<S;H++)z.disableVertexAttribArray(H)}a.enableAttributes(z,t);for(const H of l)H.enableAttributes(z,t);v&&v.enableAttributes(z,t),w&&w.enableAttributes(z,t),a.bind(),a.setVertexAttribPointers(z,t,p);for(const H of l)H.bind(),H.setVertexAttribPointers(z,t,p);v&&(v.bind(),v.setVertexAttribPointers(z,t,p)),_&&_.bind(),w&&(w.bind(),w.setVertexAttribPointers(z,t,p)),O.currentNumAttributes=Y}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function _a(c,t){const a=Math.pow(2,t.canonical.z),l=t.canonical.y;return[new r.MercatorCoordinate(0,l/a).toLngLat().lat,new r.MercatorCoordinate(0,(l+1)/a).toLngLat().lat]}function oo(c,t,a,l,_,p,v){const w=c.context,S=w.gl,Y=a.fbo;if(!Y)return;c.prepareDrawTile(t);const O=c.useProgram("hillshade");w.activeTexture.set(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,Y.colorAttachment.get());const z=(($,ie,J,re)=>{const le=J.paint.get("hillshade-shadow-color"),X=J.paint.get("hillshade-highlight-color"),ce=J.paint.get("hillshade-accent-color");let pe=J.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===J.paint.get("hillshade-illumination-anchor")&&(pe-=$.transform.angle);const Ae=!$.options.moving;return{u_matrix:re||$.transform.calculateProjMatrix(ie.tileID.toUnwrapped(),Ae),u_image:0,u_latrange:_a(0,ie.tileID),u_light:[J.paint.get("hillshade-exaggeration"),pe],u_shadow:le,u_highlight:X,u_accent:ce}})(c,a,l,c.terrain?t.projMatrix:null);c.prepareDrawProgram(w,O,t.toUnwrapped());const{tileBoundsBuffer:H,tileBoundsIndexBuffer:K,tileBoundsSegments:Q}=c.getTileBoundsBuffers(a);O.draw(w,S.TRIANGLES,_,p,v,r.CullFaceMode.disabled,z,l.id,H,K,Q)}function ns(c,t,a){if(!t.needsDEMTextureUpload)return;const l=c.context,_=l.gl;l.pixelStoreUnpackPremultiplyAlpha.set(!1),t.demTexture=t.demTexture||c.getTileTexture(a.stride);const p=a.getPixels();t.demTexture?t.demTexture.update(p,{premultiply:!1}):t.demTexture=new r.Texture(l,p,_.RGBA,{premultiply:!1}),t.needsDEMTextureUpload=!1}function dn(c,t,a,l,_,p){const v=c.context,w=v.gl;if(!t.dem)return;const S=t.dem;if(v.activeTexture.set(w.TEXTURE1),ns(c,t,S),!t.demTexture)return;t.demTexture.bind(w.NEAREST,w.CLAMP_TO_EDGE);const Y=S.dim;v.activeTexture.set(w.TEXTURE0);let O=t.fbo;if(!O){const Q=new r.Texture(v,{width:Y,height:Y,data:null},w.RGBA);Q.bind(w.LINEAR,w.CLAMP_TO_EDGE),O=t.fbo=v.createFramebuffer(Y,Y,!0),O.colorAttachment.set(Q.texture)}v.bindFramebuffer.set(O.framebuffer),v.viewport.set([0,0,Y,Y]);const{tileBoundsBuffer:z,tileBoundsIndexBuffer:H,tileBoundsSegments:K}=c.getMercatorTileBoundsBuffers();c.useProgram("hillshadePrepare").draw(v,w.TRIANGLES,l,_,p,r.CullFaceMode.disabled,((Q,$)=>{const ie=$.stride,J=r.create$1();return r.ortho(J,0,r.EXTENT,-r.EXTENT,0,0,1),r.translate(J,J,[0,-r.EXTENT,0]),{u_matrix:J,u_image:1,u_dimension:[ie,ie],u_zoom:Q.overscaledZ,u_unpack:$.unpackVector}})(t.tileID,S),a.id,z,H,K),t.needsHillshadePrepare=!1}const Gt=(c,t)=>({u_matrix:new r.UniformMatrix4f(c,t.u_matrix),u_image0:new r.Uniform1i(c,t.u_image0),u_skirt_height:new r.Uniform1f(c,t.u_skirt_height)}),rr=(c,t)=>({u_matrix:c,u_image0:0,u_skirt_height:t}),ma=new class{constructor(){this.operations={}}newMorphing(c,t,a,l,_){if(c in this.operations){const p=this.operations[c];p.to.tileID.key!==a.tileID.key&&(p.queued=a)}else this.operations[c]={startTime:l,phase:0,duration:_,from:t,to:a,queued:null}}getMorphValuesForProxy(c){if(!(c in this.operations))return null;const t=this.operations[c];return{from:t.from,to:t.to,phase:t.phase}}update(c){for(const t in this.operations){const a=this.operations[t];for(a.phase=(c-a.startTime)/a.duration;a.phase>=1||!this._validOp(a);)if(!this._nextOp(a,c)){delete this.operations[t];break}}}_nextOp(c,t){return!!c.queued&&(c.from=c.to,c.to=c.queued,c.queued=null,c.phase=0,c.startTime=t,!0)}_validOp(c){return c.from.hasData()&&c.to.hasData()}},pa={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Zo(c,t){const a=1<<c.z;return!t&&(0===c.x||c.x===a-1)||0===c.y||c.y===a-1}const Mr=c=>({u_matrix:c});function Ji(c,t,a,l,_){if(_>0){const p=r.exported.now(),v=(p-c.timeAdded)/_,w=t?(p-t.timeAdded)/_:-1,S=a.getSource(),Y=l.coveringZoomLevel({tileSize:S.tileSize,roundZoom:S.roundZoom}),O=!t||Math.abs(t.tileID.overscaledZ-Y)>Math.abs(c.tileID.overscaledZ-Y),z=O&&c.refreshedUponExpiration?1:r.clamp(O?v:1-w,0,1);return c.refreshedUponExpiration&&v>=1&&(c.refreshedUponExpiration=!1),t?{opacity:1,mix:1-z}:{opacity:z,mix:0}}return{opacity:1,mix:0}}class lo extends r.SourceCache{constructor(t){const a=N("proxy",{type:"geojson",maxzoom:t.transform.maxZoom},new tn(Qe(),null),t.style);super("proxy",a,!1),a.setEventedParent(this),this.map=this.getSource().map=t,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(t,a,l){if(t.freezeTileCoverage)return;this.transform=t;const _=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((p,v)=>{if(p[v.key]="",!this._tiles[v.key]){const w=new r.Tile(v,this._source.tileSize*v.overscaleFactor(),t.tileZoom);w.state="loaded",this._tiles[v.key]=w}return p},{});for(const p in this._tiles)p in _||(this.freeFBO(p),this._tiles[p].unloadVectorData(),delete this._tiles[p])}freeFBO(t){const a=this.proxyCachedFBO[t];if(void 0!==a){const l=Object.values(a);this.renderCachePool.push(...l),delete this.proxyCachedFBO[t]}}deallocRenderCache(){this.renderCache.forEach(t=>t.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class No extends r.OverscaledTileID{constructor(t,a,l){super(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y),this.proxyTileKey=a,this.projMatrix=l}}class Ri extends r.Elevation{constructor(t,a){super(),this.painter=t,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[l,_,p]=function(S){const Y=new r.StructArrayLayout4i8,O=new r.StructArrayLayout3ui6,z=131;Y.reserve(17161),O.reserve(33800);const H=r.EXTENT/128,K=r.EXTENT+H/2,Q=K+H;for(let ie=-H;ie<Q;ie+=H)for(let J=-H;J<Q;J+=H){const re=J<0||J>K||ie<0||ie>K?24575:0,le=r.clamp(Math.round(J),0,r.EXTENT),X=r.clamp(Math.round(ie),0,r.EXTENT);Y.emplaceBack(le+re,X,le,X)}const $=(ie,J)=>{const re=J*z+ie;O.emplaceBack(re+1,re,re+z),O.emplaceBack(re+z,re+z+1,re+1)};for(let ie=1;ie<129;ie++)for(let J=1;J<129;J++)$(J,ie);return[0,129].forEach(ie=>{for(let J=0;J<130;J++)$(J,ie),$(ie,J)}),[Y,O,32768]}(),v=t.context;this.gridBuffer=v.createVertexBuffer(l,r.boundsAttributes.members),this.gridIndexBuffer=v.createIndexBuffer(_),this.gridSegments=r.SegmentVector.simpleSegment(0,0,l.length,_.length),this.gridNoSkirtSegments=r.SegmentVector.simpleSegment(0,0,l.length,p),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new lo(a.map),this.orthoMatrix=r.create$1(),r.ortho(this.orthoMatrix,0,r.EXTENT,0,r.EXTENT,0,1);const w=v.gl;this._overlapStencilMode=new r.StencilMode({func:w.GEQUAL,mask:255},0,255,w.KEEP,w.KEEP,w.REPLACE),this._previousZoom=t.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=a,this._useVertexMorphing=!0,this._exaggeration=1}set style(t){t.on("data",this._onStyleDataEvent.bind(this)),t.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=t,this._checkRenderCacheEfficiency()}update(t,a,l){if(t&&t.terrain){this._style!==t&&(this.style=t),this.enabled=!0;const _=t.terrain.properties;this.sourceCache=t._getSourceCache(_.get("source")),this._exaggeration=_.get("exaggeration");const p=()=>{this.sourceCache.used&&r.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const v=this.sourceCache.getSource().tileSize/128,w=this.proxySourceCache.getSource().tileSize;this.sourceCache.update(a,v*w,!0),this._findCoveringTileCache[this.sourceCache.id]={}};this.sourceCache.usedForTerrain||(this._findCoveringTileCache[this.sourceCache.id]={},this.sourceCache.usedForTerrain=!0,p(),this._initializing=!0),p(),a.updateElevation(!l),this._findCoveringTileCache[this.proxySourceCache.id]={},this.proxySourceCache.update(a),this._emptyDEMTextureDirty=!0}else this._disable()}_checkRenderCacheEfficiency(){const t=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==t.efficiency&&r.warnOnce(`Terrain render cache efficiency is not optimal (${t.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${t.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(t){t.coord&&"source"===t.dataType?this._clearRenderCacheForTile(t.sourceCacheId,t.coord):"style"===t.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const t in this._style._sourceCaches)this._style._sourceCaches[t].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this.pool.forEach(t=>t.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture)}_source(){return this.enabled?this.sourceCache:null}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const t=2*this.proxySourceCache.getSource().tileSize;return[t,t]}set useVertexMorphing(t){this._useVertexMorphing=t}updateTileBinding(t){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const a=this.proxySourceCache,l=this.painter.transform;this._initializing&&(this._initializing=0===l._centerAltitude&&-1===this.getAtPointOrZero(r.MercatorCoordinate.fromLngLat(l.center),-1),this._emptyDEMTextureDirty=!this._initializing);const _=this.proxyCoords=a.getIds().map(S=>{const Y=a.getTileByID(S).tileID;return Y.projMatrix=l.calculateProjMatrix(Y.toUnwrapped()),Y});(function(S,Y){const O=Y.transform.pointCoordinate(Y.transform.getCameraPoint()),z=new r.pointGeometry(O.x,O.y);S.sort((H,K)=>{if(K.overscaledZ-H.overscaledZ)return K.overscaledZ-H.overscaledZ;const Q=new r.pointGeometry(H.canonical.x+(1<<H.canonical.z)*H.wrap,H.canonical.y),$=new r.pointGeometry(K.canonical.x+(1<<K.canonical.z)*K.wrap,K.canonical.y),ie=z.mult(1<<H.canonical.z);return ie.x-=.5,ie.y-=.5,ie.distSqr(Q)-ie.distSqr($)})})(_,this.painter),this._previousZoom=l.zoom;const p=this.proxyToSource||{};this.proxyToSource={},_.forEach(S=>{this.proxyToSource[S.key]={}}),this.terrainTileForTile={};const v=this._style._sourceCaches;for(const S in v){const Y=v[S];if(!Y.used||(Y!==this.sourceCache&&(this._findCoveringTileCache[Y.id]={}),this._setupProxiedCoordsForOrtho(Y,t[S],p),Y.usedForTerrain))continue;const O=t[S];Y.getSource().reparseOverscaled&&this._assignTerrainTiles(O)}this.proxiedCoords[a.id]=_.map(S=>new No(S,S.key,this.orthoMatrix)),this._assignTerrainTiles(_),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(p),this.renderingToTexture=!1,this._updateTimestamp=r.exported.now();const w={};this._visibleDemTiles=[];for(const S of this.proxyCoords){const Y=this.terrainTileForTile[S.key];if(!Y)continue;const O=Y.tileID.key;O in w||(this._visibleDemTiles.push(Y),w[O]=O)}}_assignTerrainTiles(t){this._initializing||t.forEach(a=>{if(this.terrainTileForTile[a.key])return;const l=this._findTileCoveringTileID(a,this.sourceCache);l&&(this.terrainTileForTile[a.key]=l)})}_prepareDEMTextures(){const t=this.painter.context,a=t.gl;for(const l in this.terrainTileForTile){const _=this.terrainTileForTile[l],p=_.dem;!p||_.demTexture&&!_.needsDEMTextureUpload||(t.activeTexture.set(a.TEXTURE1),ns(this.painter,_,p))}}_prepareDemTileUniforms(t,a,l,_){if(!a||null==a.demTexture)return!1;const p=t.tileID.canonical,v=Math.pow(2,a.tileID.canonical.z-p.z),w=_||"";return l[`u_dem_tl${w}`]=[p.x*v%1,p.y*v%1],l[`u_dem_scale${w}`]=v,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}_getLoadedAreaMinimum(){let t=0;const a=this._visibleDemTiles.reduce((l,_)=>{if(!_.dem)return l;const p=_.dem.tree.minimums[0];return p>0&&t++,l+p},0);return t?a/t:0}_updateEmptyDEMTexture(){const t=this.painter.context,a=t.gl;t.activeTexture.set(a.TEXTURE2);const l=this._getLoadedAreaMinimum(),_={width:1,height:1,data:new Uint8Array(r.DEMData.pack(l,this.sourceCache.getSource().encoding))};this._emptyDEMTextureDirty=!1;let p=this._emptyDEMTexture;return p?p.update(_,{premultiply:!1}):p=this._emptyDEMTexture=new r.Texture(t,_,a.RGBA,{premultiply:!1}),p}setupElevationDraw(t,a,l){const _=this.painter.context,p=_.gl,v=(w=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:r.DEMData.getUnpackVector(w),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0,u_tile_tl_up:[0,0,1],u_tile_tr_up:[0,0,1],u_tile_br_up:[0,0,1],u_tile_bl_up:[0,0,1],u_tile_up_scale:1});var w;v.u_dem_size=this.sourceCache.getSource().tileSize,v.u_exaggeration=this.exaggeration();let S=null,Y=null,O=1;if(l&&l.morphing&&this._useVertexMorphing){const z=l.morphing.srcDemTile,H=l.morphing.dstDemTile;O=l.morphing.phase,z&&H&&(this._prepareDemTileUniforms(t,z,v,"_prev")&&(Y=z),this._prepareDemTileUniforms(t,H,v)&&(S=H))}if(Y&&S?(_.activeTexture.set(p.TEXTURE2),S.demTexture.bind(p.NEAREST,p.CLAMP_TO_EDGE,p.NEAREST),_.activeTexture.set(p.TEXTURE4),Y.demTexture.bind(p.NEAREST,p.CLAMP_TO_EDGE,p.NEAREST),v.u_dem_lerp=O):(S=this.terrainTileForTile[t.tileID.key],_.activeTexture.set(p.TEXTURE2),(this._prepareDemTileUniforms(t,S,v)?S.demTexture:this.emptyDEMTexture).bind(p.NEAREST,p.CLAMP_TO_EDGE)),l&&l.useDepthForOcclusion&&(_.activeTexture.set(p.TEXTURE3),this._depthTexture.bind(p.NEAREST,p.CLAMP_TO_EDGE),v.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height]),l&&l.useMeterToDem&&S){const z=(1<<S.tileID.canonical.z)*r.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;v.u_meter_to_dem=z}l&&l.labelPlaneMatrixInv&&(v.u_label_plane_matrix_inv=l.labelPlaneMatrixInv),a.setTerrainUniformValues(_,v)}renderToBackBuffer(t){const a=this.painter,l=this.painter.context;0!==t.length&&(l.bindFramebuffer.set(null),l.viewport.set([0,0,a.width,a.height]),this.renderingToTexture=!1,function(_,p,v,w,S){const Y=_.context,O=Y.gl;let z,H;const K=_.options.showTerrainWireframe?2:0,Q=(le,X)=>{if(H===le)return;const ce=[pa[le]];X&&ce.push(pa[K]),z=_.useProgram("terrainRaster",null,ce),H=le},$=_.colorModeForRenderPass(),ie=new r.DepthMode(O.LEQUAL,r.DepthMode.ReadWrite,_.depthRangeFor3D);ma.update(S);const J=_.transform,re=6*Math.pow(1.5,22-J.zoom)*p.exaggeration();(K?[!1,!0]:[!1]).forEach(le=>{H=-1;const X=le?O.LINES:O.TRIANGLES,[ce,pe]=le?p.getWirefameBuffer():[p.gridIndexBuffer,p.gridSegments];for(const Re of w){const Be=v.getTile(Re),nt=r.StencilMode.disabled,Fe=p.prevTerrainTileForTile[Re.key],ct=p.terrainTileForTile[Re.key];Ce=ct,null!=(Ae=Fe)&&null!=Ce&&Ae.hasData()&&Ce.hasData()&&null!=Ae.demTexture&&null!=Ce.demTexture&&Ae.tileID.key!==Ce.tileID.key&&ma.newMorphing(Re.key,Fe,ct,S,250),Y.activeTexture.set(O.TEXTURE0),Be.texture.bind(O.LINEAR,O.CLAMP_TO_EDGE);const Se=ma.getMorphValuesForProxy(Re.key),ut=Se?1:0;let gt;Se&&(gt={morphing:{srcDemTile:Se.from,dstDemTile:Se.to,phase:r.easeCubicInOut(Se.phase)}});const Dt=rr(Re.projMatrix,Zo(Re.canonical,J.renderWorldCopies)?re/10:re);Q(ut,le),p.setupElevationDraw(Be,z,gt),_.prepareDrawProgram(Y,z,Re.toUnwrapped()),z.draw(Y,X,ie,nt,$,r.CullFaceMode.backCCW,Dt,"terrain_raster",p.gridBuffer,ce,pe)}var Ae,Ce})}(a,this,this.proxySourceCache,t,this._updateTimestamp),this.renderingToTexture=!0,t.splice(0,t.length))}renderBatch(t){if(0===this._drapedRenderBatches.length)return t+1;this.renderingToTexture=!0;const a=this.painter,l=this.painter.context,_=this.proxySourceCache,p=this.proxiedCoords[_.id],v=this._drapedRenderBatches.shift(),w=[],S=a.style.order;let Y=0;for(const O of p){const z=_.getTileByID(O.proxyTileKey),H=_.proxyCachedFBO[O.key]?_.proxyCachedFBO[O.key][t]:void 0,K=void 0!==H?_.renderCache[H]:this.pool[Y++],Q=void 0!==H;if(z.texture=K.tex,Q&&!K.dirty){w.push(z.tileID);continue}let $;l.bindFramebuffer.set(K.fb.framebuffer),this.renderedToTile=!1,K.dirty&&(l.clear({color:r.Color.transparent}),K.dirty=!1);for(let ie=v.start;ie<=v.end;++ie){const J=a.style._layers[S[ie]];if(J.isHidden(a.transform.zoom))continue;const re=a.style._getLayerSourceCache(J),le=re?this.proxyToSource[O.key][re.id]:[O];if(!le)continue;const X=le;l.viewport.set([0,0,K.fb.width,K.fb.height]),$!==(re?re.id:null)&&(this._setupStencil(K,le,J,re),$=re?re.id:null),a.renderLayer(a,re,J,X)}this.renderedToTile?(K.dirty=!0,w.push(z.tileID)):Q||--Y,5===Y&&(Y=0,this.renderToBackBuffer(w))}return this.renderToBackBuffer(w),this.renderingToTexture=!1,l.bindFramebuffer.set(null),l.viewport.set([0,0,a.width,a.height]),v.end+1}postRender(){}renderCacheEfficiency(t){const a=t.order.length;if(0===a)return{efficiency:100};let l,_=0,p=0,v=!1;for(let w=0;w<a;++w){const S=t._layers[t.order[w]];this._style.isLayerDraped(S)?(v&&++_,++p):v||(v=!0,l=S.id)}return 0===p?{efficiency:100}:{efficiency:100*(1-_/p),firstUndrapedLayer:l}}getMinElevationBelowMSL(){let t=0;return this._visibleDemTiles.filter(a=>a.dem).forEach(a=>{t=Math.min(t,a.dem.tree.minimums[0])}),0===t?t:(t-30)*this._exaggeration}raycast(t,a,l){if(!this._visibleDemTiles)return null;const _=this._visibleDemTiles.filter(p=>p.dem).map(p=>{const v=p.tileID,w=Math.pow(2,v.overscaledZ),{x:S,y:Y}=v.canonical,O=S/w,z=(S+1)/w,H=Y/w,K=(Y+1)/w;return{minx:O,miny:H,maxx:z,maxy:K,t:p.dem.tree.raycastRoot(O,H,z,K,t,a,l),tile:p}});_.sort((p,v)=>(null!==p.t?p.t:Number.MAX_VALUE)-(null!==v.t?v.t:Number.MAX_VALUE));for(const p of _){if(null==p.t)return null;const v=p.tile.dem.tree.raycast(p.minx,p.miny,p.maxx,p.maxy,t,a,l);if(null!=v)return v}return null}_createFBO(){const t=this.painter.context,a=t.gl,l=this.drapeBufferSize;t.activeTexture.set(a.TEXTURE0);const _=new r.Texture(t,{width:l[0],height:l[1],data:null},a.RGBA);_.bind(a.LINEAR,a.CLAMP_TO_EDGE);const p=t.createFramebuffer(l[0],l[1],!1);return p.colorAttachment.set(_.texture),p.depthAttachment=new qi(t,p.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=t.createRenderbuffer(t.gl.DEPTH_STENCIL,l[0],l[1]),this._stencilRef=0,p.depthAttachment.set(this._sharedDepthStencil),t.clear({stencil:0})):p.depthAttachment.set(this._sharedDepthStencil),t.extTextureFilterAnisotropic&&!t.extTextureFilterAnisotropicForceOff&&a.texParameterf(a.TEXTURE_2D,t.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,t.extTextureFilterAnisotropicMax),{fb:p,tex:_,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const t in this._style._sourceCaches)if(this._style._sourceCaches[t].hasTransition())return!0;return this._style.order.some(t=>{const a=this._style._layers[t],l=a.isHidden(this.painter.transform.zoom),_=a.getCrossfadeParameters(),p=!!_&&1!==_.t,v=a.hasTransition();return"custom"!==a.type&&!l&&(p||v)})}_clearRasterFadeFromRenderCache(){let t=!1;for(const a in this._style._sourceCaches)if(this._style._sourceCaches[a]._source instanceof Gi){t=!0;break}if(t)for(let a=0;a<this._style.order.length;++a){const l=this._style._layers[this._style.order[a]],_=l.isHidden(this.painter.transform.zoom),p=this._style._getLayerSourceCache(l);if("raster"!==l.type||_||!p)continue;const v=l.paint.get("raster-fade-duration");for(const w of this.proxyCoords){const S=this.proxyToSource[w.key][p.id];if(S)for(const Y of S){const O=Ji(p.getTile(Y),p.findLoadedParent(Y,0),p,this.painter.transform,v);(1!==O.opacity||0!==O.mix)&&this._clearRenderCacheForTile(p.id,Y)}}}}_setupDrapedRenderBatches(){const t=this._style.order,a=t.length;if(0===a)return;const l=[];let _,p=0,v=this._style._layers[t[p]];for(;!this._style.isLayerDraped(v)&&v.isHidden(this.painter.transform.zoom)&&++p<a;)v=this._style._layers[t[p]];for(;p<a;++p){const w=this._style._layers[t[p]];w.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(w)?void 0===_&&(_=p):void 0!==_&&(l.push({start:_,end:p-1}),_=void 0))}void 0!==_&&l.push({start:_,end:p-1}),this._drapedRenderBatches=l}_setupRenderCache(t){const a=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,a.renderCache.length>a.renderCachePool.length){const v=Object.values(a.proxyCachedFBO);a.proxyCachedFBO={};for(let w=0;w<v.length;++w){const S=Object.values(v[w]);a.renderCachePool.push(...S)}}return}this._clearRasterFadeFromRenderCache();const l=this.proxyCoords,_=this._tilesDirty;for(let v=l.length-1;v>=0;v--){const w=l[v];if(a.getTileByID(w.key),void 0!==a.proxyCachedFBO[w.key]){const S=t[w.key],Y=this.proxyToSource[w.key];let O=0;for(const z in Y){const H=Y[z],K=S[z];if(!K||K.length!==H.length||H.some((Q,$)=>Q!==K[$]||_[z]&&_[z].hasOwnProperty(Q.key))){O=-1;break}++O}for(const z in a.proxyCachedFBO[w.key])a.renderCache[a.proxyCachedFBO[w.key][z]].dirty=O<0||O!==Object.values(S).length}}const p=[...this._drapedRenderBatches];p.sort((v,w)=>w.end-w.start-(v.end-v.start));for(const v of p)for(const w of l){if(a.proxyCachedFBO[w.key])continue;let S=a.renderCachePool.pop();void 0===S&&a.renderCache.length<50&&(S=a.renderCache.length,a.renderCache.push(this._createFBO())),void 0!==S&&(a.proxyCachedFBO[w.key]={},a.proxyCachedFBO[w.key][v.start]=S,a.renderCache[S].dirty=!0)}this._tilesDirty={}}_setupStencil(t,a,l,_){if(!_||!this._sourceTilesOverlap[_.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const p=this.painter.context,v=p.gl;if(a.length<=1)return void(this._overlapStencilType=!1);let w;if(l.isTileClipped())w=a.length,this._overlapStencilMode.test={func:v.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(a[0].overscaledZ>a[a.length-1].overscaledZ))return void(this._overlapStencilType=!1);w=1,this._overlapStencilMode.test={func:v.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+w>255&&(p.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=w,this._overlapStencilMode.ref=this._stencilRef,l.isTileClipped()&&this._renderTileClippingMasks(a,this._overlapStencilMode.ref)}stencilModeForRTTOverlap(t){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[t.key]),this._overlapStencilMode):r.StencilMode.disabled}_renderTileClippingMasks(t,a){const l=this.painter,_=this.painter.context,p=_.gl;l._tileClippingMaskIDs={},_.setColorMode(r.ColorMode.disabled),_.setDepthMode(r.DepthMode.disabled);const v=l.useProgram("clippingMask");for(const w of t){const S=l._tileClippingMaskIDs[w.key]=--a;v.draw(_,p.TRIANGLES,r.DepthMode.disabled,new r.StencilMode({func:p.ALWAYS,mask:0},S,255,p.KEEP,p.KEEP,p.REPLACE),r.ColorMode.disabled,r.CullFaceMode.disabled,Mr(w.projMatrix),"$clipping",l.tileExtentBuffer,l.quadTriangleIndexBuffer,l.tileExtentSegments)}}pointCoordinate(t){const a=this.painter.transform;if(t.x<0||t.x>a.width||t.y<0||t.y>a.height)return null;const l=[t.x,t.y,1,1];r.transformMat4(l,l,a.pixelMatrixInverse),r.scale$2(l,l,1/l[3]),l[0]/=a.worldSize,l[1]/=a.worldSize;const _=a._camera.position,p=r.mercatorZfromAltitude(1,a.center.lat),v=[_[0],_[1],_[2]/p,0],w=r.subtract([],l.slice(0,3),v);r.normalize(w,w);const S=this.raycast(v,w,this._exaggeration);return null!==S&&S?(r.scaleAndAdd(v,v,w,S),v[3]=v[2],v[2]*=p,v):null}drawDepth(){const t=this.painter,a=t.context,l=this.proxySourceCache,_=Math.ceil(t.width),p=Math.ceil(t.height);if(!this._depthFBO||this._depthFBO.width===_&&this._depthFBO.height===p||(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture),!this._depthFBO){const v=a.gl,w=a.createFramebuffer(_,p,!0);a.activeTexture.set(v.TEXTURE0);const S=new r.Texture(a,{width:_,height:p,data:null},v.RGBA);S.bind(v.NEAREST,v.CLAMP_TO_EDGE),w.colorAttachment.set(S.texture);const Y=a.createRenderbuffer(a.gl.DEPTH_COMPONENT16,_,p);w.depthAttachment.set(Y),this._depthFBO=w,this._depthTexture=S}a.bindFramebuffer.set(this._depthFBO.framebuffer),a.viewport.set([0,0,_,p]),function(v,w,S,Y){const O=v.context,z=O.gl;O.clear({depth:1});const H=v.useProgram("terrainDepth"),K=new r.DepthMode(z.LESS,r.DepthMode.ReadWrite,v.depthRangeFor3D);for(const Q of Y){const $=S.getTile(Q),ie=rr(Q.projMatrix,0);w.setupElevationDraw($,H),H.draw(O,z.TRIANGLES,K,r.StencilMode.disabled,r.ColorMode.unblended,r.CullFaceMode.backCCW,ie,"terrain_depth",w.gridBuffer,w.gridIndexBuffer,w.gridNoSkirtSegments)}}(t,this,l,this.proxyCoords)}_setupProxiedCoordsForOrtho(t,a,l){if(t.getSource()instanceof ee)return this._setupProxiedCoordsForImageSource(t,a,l);this._findCoveringTileCache[t.id]=this._findCoveringTileCache[t.id]||{};const _=this.proxiedCoords[t.id]=[],p=this.proxyCoords;for(let w=0;w<p.length;w++){const S=p[w],Y=this._findTileCoveringTileID(S,t);if(Y){const O=this._createProxiedId(S,Y,l[S.key]&&l[S.key][t.id]);_.push(O),this.proxyToSource[S.key][t.id]=[O]}}let v=!1;for(let w=0;w<a.length;w++){const S=t.getTile(a[w]);if(!S||!S.hasData())continue;const Y=this._findTileCoveringTileID(S.tileID,this.proxySourceCache);if(Y&&Y.tileID.canonical.z!==S.tileID.canonical.z){const O=this.proxyToSource[Y.tileID.key][t.id],z=this._createProxiedId(Y.tileID,S,l[Y.tileID.key]&&l[Y.tileID.key][t.id]);O?O.splice(O.length-1,0,z):this.proxyToSource[Y.tileID.key][t.id]=[z],_.push(z),v=!0}}this._sourceTilesOverlap[t.id]=v}_setupProxiedCoordsForImageSource(t,a,l){if(!t.getSource().loaded())return;const _=this.proxiedCoords[t.id]=[],p=this.proxyCoords,v=t.getSource(),w=new r.pointGeometry(v.tileID.x,v.tileID.y)._div(1<<v.tileID.z),S=v.coordinates.map(r.MercatorCoordinate.fromLngLat).reduce((O,z)=>(O.min.x=Math.min(O.min.x,z.x-w.x),O.min.y=Math.min(O.min.y,z.y-w.y),O.max.x=Math.max(O.max.x,z.x-w.x),O.max.y=Math.max(O.max.y,z.y-w.y),O),{min:new r.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new r.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),Y=(O,z)=>{const H=O.wrap+O.canonical.x/(1<<O.canonical.z),K=O.canonical.y/(1<<O.canonical.z),Q=r.EXTENT/(1<<O.canonical.z),$=z.wrap+z.canonical.x/(1<<z.canonical.z),ie=z.canonical.y/(1<<z.canonical.z);return H+Q<$+S.min.x||H>$+S.max.x||K+Q<ie+S.min.y||K>ie+S.max.y};for(let O=0;O<p.length;O++){const z=p[O];for(let H=0;H<a.length;H++){const K=t.getTile(a[H]);if(!K||!K.hasData()||Y(z,K.tileID))continue;const Q=this._createProxiedId(z,K,l[z.key]&&l[z.key][t.id]),$=this.proxyToSource[z.key][t.id];$?$.push(Q):this.proxyToSource[z.key][t.id]=[Q],_.push(Q)}}}_createProxiedId(t,a,l){let _=this.orthoMatrix;if(l){const p=l.find(v=>v.key===a.tileID.key);if(p)return p}if(a.tileID.key!==t.key){const p=t.canonical.z-a.tileID.canonical.z;let v,w,S;_=r.create$1();const Y=a.tileID.wrap-t.wrap<<t.overscaledZ;p>0?(v=r.EXTENT>>p,w=v*((a.tileID.canonical.x<<p)-t.canonical.x+Y),S=v*((a.tileID.canonical.y<<p)-t.canonical.y)):(v=r.EXTENT<<-p,w=r.EXTENT*(a.tileID.canonical.x-(t.canonical.x+Y<<-p)),S=r.EXTENT*(a.tileID.canonical.y-(t.canonical.y<<-p))),r.ortho(_,0,v,0,v,0,1),r.translate(_,_,[w,S,0])}return new No(a.tileID,t.key,_)}_findTileCoveringTileID(t,a){let l=a.getTile(t);if(l&&l.hasData())return l;const _=this._findCoveringTileCache[a.id],p=_[t.key];if(l=p?a.getTileByID(p):null,l&&l.hasData()||null===p)return l;let v=l?l.tileID:t,w=v.overscaledZ;const S=a.getSource().minzoom,Y=[];if(!p){const z=a.getSource().maxzoom;if(t.canonical.z>=z){const H=t.canonical.z-z;a.getSource().reparseOverscaled?(w=Math.max(t.canonical.z+2,a.transform.tileZoom),v=new r.OverscaledTileID(w,t.wrap,z,t.canonical.x>>H,t.canonical.y>>H)):0!==H&&(w=z,v=new r.OverscaledTileID(w,t.wrap,z,t.canonical.x>>H,t.canonical.y>>H))}v.key!==t.key&&(Y.push(v.key),l=a.getTile(v))}const O=z=>{Y.forEach(H=>{_[H]=z}),Y.length=0};for(w-=1;w>=S&&(!l||!l.hasData());w--){l&&O(l.tileID.key);const z=v.calculateScaledKey(w);if(l=a.getTileByID(z),l&&l.hasData())break;const H=_[z];if(null===H)break;void 0===H?Y.push(z):l=a.getTileByID(H)}return O(l?l.tileID.key:null),l&&l.hasData()?l:null}findDEMTileFor(t){return this.enabled?this._findTileCoveringTileID(t,this.sourceCache):null}prepareDrawTile(t){this.renderedToTile=!0}_clearRenderCacheForTile(t,a){let l=this._tilesDirty[t];l||(l=this._tilesDirty[t]={}),l[a.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const t=function(a){let l,_,p;const v=new r.StructArrayLayout2ui4,w=131;for(_=1;_<129;_++){for(l=1;l<129;l++)p=_*w+l,v.emplaceBack(p,p+1),v.emplaceBack(p,p+w),v.emplaceBack(p+1,p+w),128===_&&v.emplaceBack(p+w,p+w+1);v.emplaceBack(p+1,p+1+w)}return v}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(t),this.wireframeSegments=r.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,t.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}function fa(c){const t=[];for(let a=0;a<c.length;a++){if(null===c[a])continue;const l=c[a].split(" ");t.push(l.pop())}return t}class is{static cacheKey(t,a,l){let _=`${t}${l?l.cacheKey:""}`;for(const p of a)_+=`/${p}`;return _}constructor(t,a,l,_,p,v){const w=t.gl;this.program=w.createProgram();const S=fa(l.staticAttributes),Y=_?_.getBinderAttributes():[],O=S.concat(Y),z=l.staticUniforms?fa(l.staticUniforms):[],H=_?_.getBinderUniforms():[],K=z.concat(H),Q=[];for(const ce of K)Q.indexOf(ce)<0&&Q.push(ce);let $=_?_.defines():[];$=$.concat(v.map(ce=>`#define ${ce}`));const ie=$.concat("\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",jr,xr.fragmentSource,vr.fragmentSource,l.fragmentSource).join("\n"),J=$.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",jr,xr.vertexSource,vr.vertexSource,Ur.vertexSource,l.vertexSource).join("\n"),re=w.createShader(w.FRAGMENT_SHADER);if(w.isContextLost())return void(this.failedToCreate=!0);w.shaderSource(re,ie),w.compileShader(re),w.attachShader(this.program,re);const le=w.createShader(w.VERTEX_SHADER);if(w.isContextLost())return void(this.failedToCreate=!0);w.shaderSource(le,J),w.compileShader(le),w.attachShader(this.program,le),this.attributes={};const X={};this.numAttributes=O.length;for(let ce=0;ce<this.numAttributes;ce++)O[ce]&&(w.bindAttribLocation(this.program,ce,O[ce]),this.attributes[O[ce]]=ce);w.linkProgram(this.program),w.deleteShader(le),w.deleteShader(re);for(let ce=0;ce<Q.length;ce++){const pe=Q[ce];if(pe&&!X[pe]){const Ae=w.getUniformLocation(this.program,pe);Ae&&(X[pe]=Ae)}}var ce,pe;this.fixedUniforms=p(t,X),this.binderUniforms=_?_.getUniforms(t,X):[],-1!==v.indexOf("TERRAIN")&&(this.terrainUniforms={u_dem:new r.Uniform1i(ce=t,(pe=X).u_dem),u_dem_prev:new r.Uniform1i(ce,pe.u_dem_prev),u_dem_unpack:new r.Uniform4f(ce,pe.u_dem_unpack),u_dem_tl:new r.Uniform2f(ce,pe.u_dem_tl),u_dem_scale:new r.Uniform1f(ce,pe.u_dem_scale),u_dem_tl_prev:new r.Uniform2f(ce,pe.u_dem_tl_prev),u_dem_scale_prev:new r.Uniform1f(ce,pe.u_dem_scale_prev),u_dem_size:new r.Uniform1f(ce,pe.u_dem_size),u_dem_lerp:new r.Uniform1f(ce,pe.u_dem_lerp),u_exaggeration:new r.Uniform1f(ce,pe.u_exaggeration),u_depth:new r.Uniform1i(ce,pe.u_depth),u_depth_size_inv:new r.Uniform2f(ce,pe.u_depth_size_inv),u_meter_to_dem:new r.Uniform1f(ce,pe.u_meter_to_dem),u_label_plane_matrix_inv:new r.UniformMatrix4f(ce,pe.u_label_plane_matrix_inv),u_tile_tl_up:new r.Uniform3f(ce,pe.u_tile_tl_up),u_tile_tr_up:new r.Uniform3f(ce,pe.u_tile_tr_up),u_tile_br_up:new r.Uniform3f(ce,pe.u_tile_br_up),u_tile_bl_up:new r.Uniform3f(ce,pe.u_tile_bl_up),u_tile_up_scale:new r.Uniform1f(ce,pe.u_tile_up_scale)}),-1!==v.indexOf("FOG")&&(this.fogUniforms=((ce,pe)=>({u_fog_matrix:new r.UniformMatrix4f(ce,pe.u_fog_matrix),u_fog_range:new r.Uniform2f(ce,pe.u_fog_range),u_fog_color:new r.Uniform4f(ce,pe.u_fog_color),u_fog_horizon_blend:new r.Uniform1f(ce,pe.u_fog_horizon_blend),u_fog_temporal_offset:new r.Uniform1f(ce,pe.u_fog_temporal_offset)}))(t,X))}setTerrainUniformValues(t,a){if(!this.terrainUniforms)return;const l=this.terrainUniforms;if(!this.failedToCreate){t.program.set(this.program);for(const _ in a)l[_].set(a[_])}}setFogUniformValues(t,a){if(!this.fogUniforms)return;const l=this.fogUniforms;if(!this.failedToCreate){t.program.set(this.program);for(const _ in a)l[_].location&&l[_].set(a[_])}}draw(t,a,l,_,p,v,w,S,Y,O,z,H,K,Q,$,ie){const J=t.gl;if(this.failedToCreate)return;t.program.set(this.program),t.setDepthMode(l),t.setStencilMode(_),t.setColorMode(p),t.setCullFace(v);for(const le in this.fixedUniforms)this.fixedUniforms[le].set(w[le]);Q&&Q.setUniforms(t,this.binderUniforms,H,{zoom:K});const re={[J.LINES]:2,[J.TRIANGLES]:3,[J.LINE_STRIP]:1}[a];for(const le of z.get()){const X=le.vaos||(le.vaos={});(X[S]||(X[S]=new ha)).bind(t,this,Y,Q?Q.getPaintVertexBuffers():[],O,le.vertexOffset,$,ie),J.drawElements(a,le.primitiveLength*re,J.UNSIGNED_SHORT,le.primitiveOffset*re*2)}}}function ga(c,t,a){const l=1/nn(a,1,t.transform.tileZoom),_=Math.pow(2,a.tileID.overscaledZ),p=a.tileSize*Math.pow(2,t.transform.tileZoom)/_,v=p*(a.tileID.canonical.x+a.tileID.wrap*_),w=p*a.tileID.canonical.y;return{u_image:0,u_texsize:a.imageAtlasTexture.size,u_scale:[l,c.fromScale,c.toScale],u_fade:c.t,u_pixel_coord_upper:[v>>16,w>>16],u_pixel_coord_lower:[65535&v,65535&w]}}const co=(c,t,a,l)=>{const _=t.style.light,p=_.properties.get("position"),v=[p.x,p.y,p.z],w=r.create$2();"viewport"===_.properties.get("anchor")&&(r.fromRotation(w,-t.transform.angle),r.transformMat3(v,v,w));const S=_.properties.get("color");return{u_matrix:c,u_lightpos:v,u_lightintensity:_.properties.get("intensity"),u_lightcolor:[S.r,S.g,S.b],u_vertical_gradient:+a,u_opacity:l}},Ho=(c,t,a,l,_,p,v)=>r.extend(co(c,t,a,l),ga(p,t,v),{u_height_factor:-Math.pow(2,_.overscaledZ)/v.tileSize/8}),Ss=c=>({u_matrix:c}),br=(c,t,a,l)=>r.extend(Ss(c),ga(a,t,l)),Cs=(c,t)=>({u_matrix:c,u_world:t}),Wo=(c,t,a,l,_)=>r.extend(br(c,t,a,l),{u_world:_}),Ti=(c,t,a,l)=>{const _=c.transform;let p;return p="map"===l.paint.get("circle-pitch-alignment")?_.calculatePixelsToTileUnitsMatrix(a):new Float32Array([_.pixelsToGLUnits[0],0,0,_.pixelsToGLUnits[1]]),{u_camera_to_center_distance:_.cameraToCenterDistance,u_matrix:c.translatePosMatrix(t.projMatrix,a,l.paint.get("circle-translate"),l.paint.get("circle-translate-anchor")),u_device_pixel_ratio:r.exported.devicePixelRatio,u_extrude_scale:p}},ya=c=>{const t=[];return"map"===c.paint.get("circle-pitch-alignment")&&t.push("PITCH_WITH_MAP"),"map"===c.paint.get("circle-pitch-scale")&&t.push("SCALE_WITH_MAP"),t},va=(c,t,a)=>{const l=r.EXTENT/a.tileSize;return{u_matrix:c,u_camera_to_center_distance:t.cameraToCenterDistance,u_extrude_scale:[t.pixelsToGLUnits[0]/l,t.pixelsToGLUnits[1]/l]}},Ps=(c,t,a=1)=>({u_matrix:c,u_color:t,u_overlay:0,u_overlay_scale:a}),uo=(c,t,a,l)=>({u_matrix:c,u_extrude_scale:nn(t,1,a),u_intensity:l}),ho=(c,t,a,l,_,p)=>{const v=c.transform,w=v.calculatePixelsToTileUnitsMatrix(t),S={u_matrix:Ma(c,t,a,_),u_pixels_to_tile_units:w,u_device_pixel_ratio:r.exported.devicePixelRatio,u_units_to_pixels:[1/v.pixelsToGLUnits[0],1/v.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:p,u_texsize:[0,0],u_scale:[0,0,0],u_mix:0};if(_o(a)){const Y=As(t,c.transform);S.u_texsize=t.lineAtlasTexture.size,S.u_scale=[Y,l.fromScale,l.toScale],S.u_mix=l.t}return S},xa=(c,t,a,l,_)=>{const p=c.transform,v=As(t,p);return{u_matrix:Ma(c,t,a,_),u_texsize:t.imageAtlasTexture.size,u_pixels_to_tile_units:p.calculatePixelsToTileUnitsMatrix(t),u_device_pixel_ratio:r.exported.devicePixelRatio,u_image:0,u_scale:[v,l.fromScale,l.toScale],u_fade:l.t,u_units_to_pixels:[1/p.pixelsToGLUnits[0],1/p.pixelsToGLUnits[1]]}};function As(c,t){return 1/nn(c,1,t.tileZoom)}function Ma(c,t,a,l){return c.translatePosMatrix(l||t.tileID.projMatrix,t,a.paint.get("line-translate"),a.paint.get("line-translate-anchor"))}const sr=c=>{const t=[];return _o(c)&&t.push("RENDER_LINE_DASH"),c.paint.get("line-gradient")&&t.push("RENDER_LINE_GRADIENT"),t};function _o(c){const t=c.paint.get("line-dasharray").value;return t.value||"constant"!==t.kind}const ba=(c,t,a,l,_)=>{return{u_matrix:c,u_tl_parent:t,u_scale_parent:a,u_buffer_scale:1,u_fade_t:l.mix,u_opacity:l.opacity*_.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:_.paint.get("raster-brightness-min"),u_brightness_high:_.paint.get("raster-brightness-max"),u_saturation_factor:(v=_.paint.get("raster-saturation"),v>0?1-1/(1.001-v):-v),u_contrast_factor:(p=_.paint.get("raster-contrast"),p>0?1/(1-p):1+p),u_spin_weights:rs(_.paint.get("raster-hue-rotate"))};var p,v};function rs(c){c*=Math.PI/180;const t=Math.sin(c),a=Math.cos(c);return[(2*a+1)/3,(-Math.sqrt(3)*t-a+1)/3,(Math.sqrt(3)*t-a+1)/3]}const wa=(c,t,a,l,_,p,v,w,S,Y,O,z,H,K)=>{const Q=_.transform;return{u_is_size_zoom_constant:+("constant"===c||"source"===c),u_is_size_feature_constant:+("constant"===c||"camera"===c),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:Q.cameraToCenterDistance,u_pitch:Q.pitch/360*2*Math.PI,u_rotate_symbol:+a,u_aspect_ratio:Q.width/Q.height,u_fade_change:_.options.fadeDuration?_.symbolFadeChange:1,u_matrix:p,u_label_plane_matrix:v,u_coord_matrix:w,u_is_text:+S,u_pitch_with_map:+l,u_texsize:Y,u_tile_id:O,u_zoom_transition:z,u_inv_rot_matrix:H,u_merc_center:K,u_texture:0}},Vo=(c,t,a,l,_,p,v,w,S,Y,O,z,H,K,Q)=>{const{cameraToCenterDistance:$,_pitch:ie}=_.transform;return r.extend(wa(c,t,a,l,_,p,v,w,S,Y,z,H,K,Q),{u_gamma_scale:l?$*Math.cos(_.terrain?0:ie):1,u_device_pixel_ratio:r.exported.devicePixelRatio,u_is_halo:+O})},jl=(c,t,a,l,_,p,v,w,S,Y,O,z,H,K)=>r.extend(Vo(c,t,a,l,_,p,v,w,!0,S,!0,O,z,H,K),{u_texsize_icon:Y,u_texture_icon:1}),Zl=(c,t,a)=>({u_matrix:c,u_opacity:t,u_color:a}),Nl=(c,t,a,l,_,p)=>r.extend(function(v,w,S,Y){const O=S.imageManager.getPattern(v.from.toString()),z=S.imageManager.getPattern(v.to.toString()),{width:H,height:K}=S.imageManager.getPixelSize(),Q=Math.pow(2,Y.tileID.overscaledZ),$=Y.tileSize*Math.pow(2,S.transform.tileZoom)/Q,ie=$*(Y.tileID.canonical.x+Y.tileID.wrap*Q),J=$*Y.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:O.tl,u_pattern_br_a:O.br,u_pattern_tl_b:z.tl,u_pattern_br_b:z.br,u_texsize:[H,K],u_mix:w.t,u_pattern_size_a:O.displaySize,u_pattern_size_b:z.displaySize,u_scale_a:w.fromScale,u_scale_b:w.toScale,u_tile_units_to_pixels:1/nn(Y,1,S.transform.tileZoom),u_pixel_coord_upper:[ie>>16,J>>16],u_pixel_coord_lower:[65535&ie,65535&J]}}(l,p,a,_),{u_matrix:c,u_opacity:t}),qo={fillExtrusion:(c,t)=>({u_matrix:new r.UniformMatrix4f(c,t.u_matrix),u_lightpos:new r.Uniform3f(c,t.u_lightpos),u_lightintensity:new r.Uniform1f(c,t.u_lightintensity),u_lightcolor:new r.Uniform3f(c,t.u_lightcolor),u_vertical_gradient:new r.Uniform1f(c,t.u_vertical_gradient),u_opacity:new r.Uniform1f(c,t.u_opacity)}),fillExtrusionPattern:(c,t)=>({u_matrix:new r.UniformMatrix4f(c,t.u_matrix),u_lightpos:new r.Uniform3f(c,t.u_lightpos),u_lightintensity:new r.Uniform1f(c,t.u_lightintensity),u_lightcolor:new r.Uniform3f(c,t.u_lightcolor),u_vertical_gradient:new r.Uniform1f(c,t.u_vertical_gradient),u_height_factor:new r.Uniform1f(c,t.u_height_factor),u_image:new r.Uniform1i(c,t.u_image),u_texsize:new r.Uniform2f(c,t.u_texsize),u_pixel_coord_upper:new r.Uniform2f(c,t.u_pixel_coord_upper),u_pixel_coord_lower:new r.Uniform2f(c,t.u_pixel_coord_lower),u_scale:new r.Uniform3f(c,t.u_scale),u_fade:new r.Uniform1f(c,t.u_fade),u_opacity:new r.Uniform1f(c,t.u_opacity)}),fill:(c,t)=>({u_matrix:new r.UniformMatrix4f(c,t.u_matrix)}),fillPattern:(c,t)=>({u_matrix:new r.UniformMatrix4f(c,t.u_matrix),u_image:new r.Uniform1i(c,t.u_image),u_texsize:new r.Uniform2f(c,t.u_texsize),u_pixel_coord_upper:new r.Uniform2f(c,t.u_pixel_coord_upper),u_pixel_coord_lower:new r.Uniform2f(c,t.u_pixel_coord_lower),u_scale:new r.Uniform3f(c,t.u_scale),u_fade:new r.Uniform1f(c,t.u_fade)}),fillOutline:(c,t)=>({u_matrix:new r.UniformMatrix4f(c,t.u_matrix),u_world:new r.Uniform2f(c,t.u_world)}),fillOutlinePattern:(c,t)=>({u_matrix:new r.UniformMatrix4f(c,t.u_matrix),u_world:new r.Uniform2f(c,t.u_world),u_image:new r.Uniform1i(c,t.u_image),u_texsize:new r.Uniform2f(c,t.u_texsize),u_pixel_coord_upper:new r.Uniform2f(c,t.u_pixel_coord_upper),u_pixel_coord_lower:new r.Uniform2f(c,t.u_pixel_coord_lower),u_scale:new r.Uniform3f(c,t.u_scale),u_fade:new r.Uniform1f(c,t.u_fade)}),circle:(c,t)=>({u_camera_to_center_distance:new r.Uniform1f(c,t.u_camera_to_center_distance),u_extrude_scale:new r.UniformMatrix2f(c,t.u_extrude_scale),u_device_pixel_ratio:new r.Uniform1f(c,t.u_device_pixel_ratio),u_matrix:new r.UniformMatrix4f(c,t.u_matrix)}),collisionBox:(c,t)=>({u_matrix:new r.UniformMatrix4f(c,t.u_matrix),u_camera_to_center_distance:new r.Uniform1f(c,t.u_camera_to_center_distance),u_extrude_scale:new r.Uniform2f(c,t.u_extrude_scale)}),collisionCircle:(c,t)=>({u_matrix:new r.UniformMatrix4f(c,t.u_matrix),u_inv_matrix:new r.UniformMatrix4f(c,t.u_inv_matrix),u_camera_to_center_distance:new r.Uniform1f(c,t.u_camera_to_center_distance),u_viewport_size:new r.Uniform2f(c,t.u_viewport_size)}),debug:(c,t)=>({u_color:new r.UniformColor(c,t.u_color),u_matrix:new r.UniformMatrix4f(c,t.u_matrix),u_overlay:new r.Uniform1i(c,t.u_overlay),u_overlay_scale:new r.Uniform1f(c,t.u_overlay_scale)}),clippingMask:(c,t)=>({u_matrix:new r.UniformMatrix4f(c,t.u_matrix)}),heatmap:(c,t)=>({u_extrude_scale:new r.Uniform1f(c,t.u_extrude_scale),u_intensity:new r.Uniform1f(c,t.u_intensity),u_matrix:new r.UniformMatrix4f(c,t.u_matrix)}),heatmapTexture:(c,t)=>({u_image:new r.Uniform1i(c,t.u_image),u_color_ramp:new r.Uniform1i(c,t.u_color_ramp),u_opacity:new r.Uniform1f(c,t.u_opacity)}),hillshade:(c,t)=>({u_matrix:new r.UniformMatrix4f(c,t.u_matrix),u_image:new r.Uniform1i(c,t.u_image),u_latrange:new r.Uniform2f(c,t.u_latrange),u_light:new r.Uniform2f(c,t.u_light),u_shadow:new r.UniformColor(c,t.u_shadow),u_highlight:new r.UniformColor(c,t.u_highlight),u_accent:new r.UniformColor(c,t.u_accent)}),hillshadePrepare:(c,t)=>({u_matrix:new r.UniformMatrix4f(c,t.u_matrix),u_image:new r.Uniform1i(c,t.u_image),u_dimension:new r.Uniform2f(c,t.u_dimension),u_zoom:new r.Uniform1f(c,t.u_zoom),u_unpack:new r.Uniform4f(c,t.u_unpack)}),line:(c,t)=>({u_matrix:new r.UniformMatrix4f(c,t.u_matrix),u_pixels_to_tile_units:new r.UniformMatrix2f(c,t.u_pixels_to_tile_units),u_device_pixel_ratio:new r.Uniform1f(c,t.u_device_pixel_ratio),u_units_to_pixels:new r.Uniform2f(c,t.u_units_to_pixels),u_dash_image:new r.Uniform1i(c,t.u_dash_image),u_gradient_image:new r.Uniform1i(c,t.u_gradient_image),u_image_height:new r.Uniform1f(c,t.u_image_height),u_texsize:new r.Uniform2f(c,t.u_texsize),u_scale:new r.Uniform3f(c,t.u_scale),u_mix:new r.Uniform1f(c,t.u_mix)}),linePattern:(c,t)=>({u_matrix:new r.UniformMatrix4f(c,t.u_matrix),u_texsize:new r.Uniform2f(c,t.u_texsize),u_pixels_to_tile_units:new r.UniformMatrix2f(c,t.u_pixels_to_tile_units),u_device_pixel_ratio:new r.Uniform1f(c,t.u_device_pixel_ratio),u_image:new r.Uniform1i(c,t.u_image),u_units_to_pixels:new r.Uniform2f(c,t.u_units_to_pixels),u_scale:new r.Uniform3f(c,t.u_scale),u_fade:new r.Uniform1f(c,t.u_fade)}),raster:(c,t)=>({u_matrix:new r.UniformMatrix4f(c,t.u_matrix),u_tl_parent:new r.Uniform2f(c,t.u_tl_parent),u_scale_parent:new r.Uniform1f(c,t.u_scale_parent),u_buffer_scale:new r.Uniform1f(c,t.u_buffer_scale),u_fade_t:new r.Uniform1f(c,t.u_fade_t),u_opacity:new r.Uniform1f(c,t.u_opacity),u_image0:new r.Uniform1i(c,t.u_image0),u_image1:new r.Uniform1i(c,t.u_image1),u_brightness_low:new r.Uniform1f(c,t.u_brightness_low),u_brightness_high:new r.Uniform1f(c,t.u_brightness_high),u_saturation_factor:new r.Uniform1f(c,t.u_saturation_factor),u_contrast_factor:new r.Uniform1f(c,t.u_contrast_factor),u_spin_weights:new r.Uniform3f(c,t.u_spin_weights)}),symbolIcon:(c,t)=>({u_is_size_zoom_constant:new r.Uniform1i(c,t.u_is_size_zoom_constant),u_is_size_feature_constant:new r.Uniform1i(c,t.u_is_size_feature_constant),u_size_t:new r.Uniform1f(c,t.u_size_t),u_size:new r.Uniform1f(c,t.u_size),u_camera_to_center_distance:new r.Uniform1f(c,t.u_camera_to_center_distance),u_pitch:new r.Uniform1f(c,t.u_pitch),u_rotate_symbol:new r.Uniform1i(c,t.u_rotate_symbol),u_aspect_ratio:new r.Uniform1f(c,t.u_aspect_ratio),u_fade_change:new r.Uniform1f(c,t.u_fade_change),u_matrix:new r.UniformMatrix4f(c,t.u_matrix),u_label_plane_matrix:new r.UniformMatrix4f(c,t.u_label_plane_matrix),u_coord_matrix:new r.UniformMatrix4f(c,t.u_coord_matrix),u_is_text:new r.Uniform1i(c,t.u_is_text),u_pitch_with_map:new r.Uniform1i(c,t.u_pitch_with_map),u_texsize:new r.Uniform2f(c,t.u_texsize),u_tile_id:new r.Uniform3f(c,t.u_tile_id),u_zoom_transition:new r.Uniform1f(c,t.u_zoom_transition),u_inv_rot_matrix:new r.UniformMatrix4f(c,t.u_inv_rot_matrix),u_merc_center:new r.Uniform2f(c,t.u_merc_center),u_texture:new r.Uniform1i(c,t.u_texture)}),symbolSDF:(c,t)=>({u_is_size_zoom_constant:new r.Uniform1i(c,t.u_is_size_zoom_constant),u_is_size_feature_constant:new r.Uniform1i(c,t.u_is_size_feature_constant),u_size_t:new r.Uniform1f(c,t.u_size_t),u_size:new r.Uniform1f(c,t.u_size),u_camera_to_center_distance:new r.Uniform1f(c,t.u_camera_to_center_distance),u_pitch:new r.Uniform1f(c,t.u_pitch),u_rotate_symbol:new r.Uniform1i(c,t.u_rotate_symbol),u_aspect_ratio:new r.Uniform1f(c,t.u_aspect_ratio),u_fade_change:new r.Uniform1f(c,t.u_fade_change),u_matrix:new r.UniformMatrix4f(c,t.u_matrix),u_label_plane_matrix:new r.UniformMatrix4f(c,t.u_label_plane_matrix),u_coord_matrix:new r.UniformMatrix4f(c,t.u_coord_matrix),u_is_text:new r.Uniform1i(c,t.u_is_text),u_pitch_with_map:new r.Uniform1i(c,t.u_pitch_with_map),u_texsize:new r.Uniform2f(c,t.u_texsize),u_texture:new r.Uniform1i(c,t.u_texture),u_gamma_scale:new r.Uniform1f(c,t.u_gamma_scale),u_device_pixel_ratio:new r.Uniform1f(c,t.u_device_pixel_ratio),u_tile_id:new r.Uniform3f(c,t.u_tile_id),u_zoom_transition:new r.Uniform1f(c,t.u_zoom_transition),u_inv_rot_matrix:new r.UniformMatrix4f(c,t.u_inv_rot_matrix),u_merc_center:new r.Uniform2f(c,t.u_merc_center),u_is_halo:new r.Uniform1i(c,t.u_is_halo)}),symbolTextAndIcon:(c,t)=>({u_is_size_zoom_constant:new r.Uniform1i(c,t.u_is_size_zoom_constant),u_is_size_feature_constant:new r.Uniform1i(c,t.u_is_size_feature_constant),u_size_t:new r.Uniform1f(c,t.u_size_t),u_size:new r.Uniform1f(c,t.u_size),u_camera_to_center_distance:new r.Uniform1f(c,t.u_camera_to_center_distance),u_pitch:new r.Uniform1f(c,t.u_pitch),u_rotate_symbol:new r.Uniform1i(c,t.u_rotate_symbol),u_aspect_ratio:new r.Uniform1f(c,t.u_aspect_ratio),u_fade_change:new r.Uniform1f(c,t.u_fade_change),u_matrix:new r.UniformMatrix4f(c,t.u_matrix),u_label_plane_matrix:new r.UniformMatrix4f(c,t.u_label_plane_matrix),u_coord_matrix:new r.UniformMatrix4f(c,t.u_coord_matrix),u_is_text:new r.Uniform1i(c,t.u_is_text),u_pitch_with_map:new r.Uniform1i(c,t.u_pitch_with_map),u_texsize:new r.Uniform2f(c,t.u_texsize),u_texsize_icon:new r.Uniform2f(c,t.u_texsize_icon),u_texture:new r.Uniform1i(c,t.u_texture),u_texture_icon:new r.Uniform1i(c,t.u_texture_icon),u_gamma_scale:new r.Uniform1f(c,t.u_gamma_scale),u_device_pixel_ratio:new r.Uniform1f(c,t.u_device_pixel_ratio),u_is_halo:new r.Uniform1i(c,t.u_is_halo)}),background:(c,t)=>({u_matrix:new r.UniformMatrix4f(c,t.u_matrix),u_opacity:new r.Uniform1f(c,t.u_opacity),u_color:new r.UniformColor(c,t.u_color)}),backgroundPattern:(c,t)=>({u_matrix:new r.UniformMatrix4f(c,t.u_matrix),u_opacity:new r.Uniform1f(c,t.u_opacity),u_image:new r.Uniform1i(c,t.u_image),u_pattern_tl_a:new r.Uniform2f(c,t.u_pattern_tl_a),u_pattern_br_a:new r.Uniform2f(c,t.u_pattern_br_a),u_pattern_tl_b:new r.Uniform2f(c,t.u_pattern_tl_b),u_pattern_br_b:new r.Uniform2f(c,t.u_pattern_br_b),u_texsize:new r.Uniform2f(c,t.u_texsize),u_mix:new r.Uniform1f(c,t.u_mix),u_pattern_size_a:new r.Uniform2f(c,t.u_pattern_size_a),u_pattern_size_b:new r.Uniform2f(c,t.u_pattern_size_b),u_scale_a:new r.Uniform1f(c,t.u_scale_a),u_scale_b:new r.Uniform1f(c,t.u_scale_b),u_pixel_coord_upper:new r.Uniform2f(c,t.u_pixel_coord_upper),u_pixel_coord_lower:new r.Uniform2f(c,t.u_pixel_coord_lower),u_tile_units_to_pixels:new r.Uniform1f(c,t.u_tile_units_to_pixels)}),terrainRaster:Gt,terrainDepth:Gt,skybox:(c,t)=>({u_matrix:new r.UniformMatrix4f(c,t.u_matrix),u_sun_direction:new r.Uniform3f(c,t.u_sun_direction),u_cubemap:new r.Uniform1i(c,t.u_cubemap),u_opacity:new r.Uniform1f(c,t.u_opacity),u_temporal_offset:new r.Uniform1f(c,t.u_temporal_offset)}),skyboxGradient:(c,t)=>({u_matrix:new r.UniformMatrix4f(c,t.u_matrix),u_color_ramp:new r.Uniform1i(c,t.u_color_ramp),u_center_direction:new r.Uniform3f(c,t.u_center_direction),u_radius:new r.Uniform1f(c,t.u_radius),u_opacity:new r.Uniform1f(c,t.u_opacity),u_temporal_offset:new r.Uniform1f(c,t.u_temporal_offset)}),skyboxCapture:(c,t)=>({u_matrix_3f:new r.UniformMatrix3f(c,t.u_matrix_3f),u_sun_direction:new r.Uniform3f(c,t.u_sun_direction),u_sun_intensity:new r.Uniform1f(c,t.u_sun_intensity),u_color_tint_r:new r.Uniform4f(c,t.u_color_tint_r),u_color_tint_m:new r.Uniform4f(c,t.u_color_tint_m),u_luminance:new r.Uniform1f(c,t.u_luminance)})};let ss;function Is(c,t,a,l,_,p,v){const w=c.context,S=w.gl,Y=c.useProgram("collisionBox"),O=[];let z=0,H=0;for(let le=0;le<l.length;le++){const X=l[le],ce=t.getTile(X),pe=ce.getBucket(a);if(!pe)continue;let Ae=X.projMatrix;0===_[0]&&0===_[1]||(Ae=c.translatePosMatrix(X.projMatrix,ce,_,p));const Ce=v?pe.textCollisionBox:pe.iconCollisionBox,Re=pe.collisionCircleArray;if(Re.length>0){const Be=r.create$1(),nt=Ae;r.mul$1(Be,pe.placementInvProjMatrix,c.transform.glCoordMatrix),r.mul$1(Be,Be,pe.placementViewportMatrix),O.push({circleArray:Re,circleOffset:H,transform:nt,invTransform:Be}),z+=Re.length/4,H=z}Ce&&(c.terrain&&c.terrain.setupElevationDraw(ce,Y),Y.draw(w,S.LINES,r.DepthMode.disabled,r.StencilMode.disabled,c.colorModeForRenderPass(),r.CullFaceMode.disabled,va(Ae,c.transform,ce),a.id,Ce.layoutVertexBuffer,Ce.indexBuffer,Ce.segments,null,c.transform.zoom,null,Ce.collisionVertexBuffer,Ce.collisionVertexBufferExt))}if(!v||!O.length)return;const K=c.useProgram("collisionCircle"),Q=new r.StructArrayLayout2f1f2i16;Q.resize(4*z),Q._trim();let $=0;for(const le of O)for(let X=0;X<le.circleArray.length/4;X++){const ce=4*X,pe=le.circleArray[ce+0],Ae=le.circleArray[ce+1],Ce=le.circleArray[ce+2],Re=le.circleArray[ce+3];Q.emplace($++,pe,Ae,Ce,Re,0),Q.emplace($++,pe,Ae,Ce,Re,1),Q.emplace($++,pe,Ae,Ce,Re,2),Q.emplace($++,pe,Ae,Ce,Re,3)}(!ss||ss.length<2*z)&&(ss=function(le){const X=2*le,ce=new r.StructArrayLayout3ui6;ce.resize(X),ce._trim();for(let pe=0;pe<X;pe++){const Ae=6*pe;ce.uint16[Ae+0]=4*pe+0,ce.uint16[Ae+1]=4*pe+1,ce.uint16[Ae+2]=4*pe+2,ce.uint16[Ae+3]=4*pe+2,ce.uint16[Ae+4]=4*pe+3,ce.uint16[Ae+5]=4*pe+0}return ce}(z));const ie=w.createIndexBuffer(ss,!0),J=w.createVertexBuffer(Q,r.collisionCircleLayout.members,!0);for(const le of O){const X={u_matrix:le.transform,u_inv_matrix:le.invTransform,u_camera_to_center_distance:(re=c.transform).cameraToCenterDistance,u_viewport_size:[re.width,re.height]};K.draw(w,S.TRIANGLES,r.DepthMode.disabled,r.StencilMode.disabled,c.colorModeForRenderPass(),r.CullFaceMode.disabled,X,a.id,J,ie,r.SegmentVector.simpleSegment(0,2*le.circleOffset,le.circleArray.length,le.circleArray.length/2),null,c.transform.zoom,null,null,null)}var re;J.destroy(),ie.destroy()}const sn=r.identity(new Float32Array(16));function Go(c,t,a,l,_,p){const{horizontalAlign:v,verticalAlign:w}=r.getAnchorAlignment(c),S=-(v-.5)*t,Y=-(w-.5)*a,O=r.evaluateVariableOffset(c,l);return new r.pointGeometry((S/_+O[0])*p,(Y/_+O[1])*p)}function $o(c,t,a,l,_,p,v,w,S,Y,O,z){const H=c.text.placedSymbolArray,K=c.text.dynamicLayoutVertexArray,Q=c.icon.dynamicLayoutVertexArray,$={};K.clear();for(let ie=0;ie<H.length;ie++){const J=H.get(ie),re=c.allowVerticalPlacement&&!J.placedOrientation,le=J.hidden||!J.crossTileID||re?null:l[J.crossTileID];if(le){const X=new r.pointGeometry(J.tileAnchorX,J.tileAnchorY),ce=z(X),pe=An(X,a?w:v,ce),Ae=fr(p.cameraToCenterDistance,pe.signedDistanceFromCamera);let Ce=_.evaluateSizeForFeature(c.textSizeData,Y,J)*Ae/r.ONE_EM;a&&(Ce*=c.tilePixelRatio/S);const{width:Re,height:Be,anchor:nt,textOffset:Fe,textScale:ct}=le,Se=Go(nt,Re,Be,Fe,ct,Ce),ut=a?An(X.add(Se),v,ce).point:pe.point.add(t?Se.rotate(-p.angle):Se),gt=c.allowVerticalPlacement&&J.placedOrientation===r.WritingMode.vertical?Math.PI/2:0;for(let Dt=0;Dt<J.numGlyphs;Dt++)r.addDynamicAttributes(K,ut,gt);O&&J.associatedIconIndex>=0&&($[J.associatedIconIndex]={shiftedAnchor:ut,angle:gt})}else zi(J.numGlyphs,K)}if(O){Q.clear();const ie=c.icon.placedSymbolArray;for(let J=0;J<ie.length;J++){const re=ie.get(J);if(re.hidden)zi(re.numGlyphs,Q);else{const le=$[J];if(le)for(let X=0;X<re.numGlyphs;X++)r.addDynamicAttributes(Q,le.shiftedAnchor,le.angle);else zi(re.numGlyphs,Q)}}c.icon.dynamicLayoutVertexBuffer.updateData(Q)}c.text.dynamicLayoutVertexBuffer.updateData(K)}function Ta(c,t,a){return a.iconsInText&&t?"symbolTextAndIcon":c?"symbolSDF":"symbolIcon"}function wr(c,t,a,l,_,p,v,w,S,Y,O,z){const H=c.context,K=H.gl,Q=c.transform,$="map"===w,ie="map"===S,J=$&&"point"!==a.layout.get("symbol-placement"),re=$&&!ie&&!J,le=void 0!==a.layout.get("symbol-sort-key").constantOr(1);let X=!1;const ce=c.depthModeForSublayer(0,r.DepthMode.ReadOnly),pe=[0,0],Ae=a.layout.get("text-variable-anchor"),Ce=[],Re=[];c.terrain&&ie&&Re.push("PITCH_WITH_MAP_TERRAIN"),J&&Re.push("PROJECTED_POS_ON_VIEWPORT");for(const Be of l){const nt=t.getTile(Be),Fe=nt.getBucket(a);if(!Fe)continue;const ct=_?Fe.text:Fe.icon;if(!ct||!ct.segments.get().length)continue;const Se=ct.programConfigurations.get(a.id),ut=_||Fe.sdfIcons,gt=_?Fe.textSizeData:Fe.iconSizeData,Dt=ie||0!==Q.pitch,Et=c.useProgram(Ta(ut,_,Fe),Se,Re),St=r.evaluateSizeForZoom(gt,Q.zoom),Ct=[Be.canonical.x,Be.canonical.y,1<<Be.canonical.z];let bt,Yt,qt,Fn,Xn=[0,0],ai=null;if(_){if(Yt=nt.glyphAtlasTexture,qt=K.LINEAR,bt=nt.glyphAtlasTexture.size,Fe.iconsInText){Xn=nt.imageAtlasTexture.size,ai=nt.imageAtlasTexture;const oi="composite"===gt.kind||"camera"===gt.kind;Fn=Dt||c.options.rotating||c.options.zooming||oi?K.LINEAR:K.NEAREST}}else{const oi=1!==a.layout.get("icon-size").constantOr(0)||Fe.iconsNeedLinear;Yt=nt.imageAtlasTexture,qt=ut||c.options.rotating||c.options.zooming||oi||Dt?K.LINEAR:K.NEAREST,bt=nt.imageAtlasTexture.size}const hi=c.transform.calculatePixelsToTileUnitsMatrix(nt),Rn=Ft(Be.projMatrix,ie,$,c.transform,hi),lr=c.terrain&&ie&&J?r.invert(new Float32Array(16),Rn):sn,Xi=Zt(Be.projMatrix,ie,$,c.transform,hi),pn=Ae&&Fe.hasTextData(),cn="none"!==a.layout.get("icon-text-fit")&&pn&&Fe.hasIconData();if(J){const oi=Q.elevation;sa(Fe,Be.projMatrix,c,_,Rn,Xi,ie,Y,oi?ki=>oi.getAtTileOffset(Be,ki.x,ki.y):null)}const Wt=c.translatePosMatrix(Be.projMatrix,nt,p,v),vn=J||_&&Ae||cn?sn:Rn,Qn=c.translatePosMatrix(Xi,nt,p,v,!0),fn=ut&&0!==a.paint.get(_?"text-halo-width":"icon-halo-width").constantOr(1);let Li;Li=ut?Fe.iconsInText?jl(gt.kind,St,re,ie,c,Wt,vn,Qn,bt,Xn,Ct,0,c.identityMat,pe):Vo(gt.kind,St,re,ie,c,Wt,vn,Qn,_,bt,!0,Ct,0,c.identityMat,pe):wa(gt.kind,St,re,ie,c,Wt,vn,Qn,_,bt,Ct,0,c.identityMat,pe);const Js={program:Et,buffers:ct,uniformValues:Li,atlasTexture:Yt,atlasTextureIcon:ai,atlasInterpolation:qt,atlasInterpolationIcon:Fn,isSDF:ut,hasHalo:fn,tile:nt,labelPlaneMatrixInv:lr};if(le&&Fe.canOverlap){X=!0;const oi=ct.segments.get();for(const ki of oi)Ce.push({segments:new r.SegmentVector([ki]),sortKey:ki.sortKey,state:Js})}else Ce.push({segments:ct.segments,sortKey:0,state:Js})}X&&Ce.sort((Be,nt)=>Be.sortKey-nt.sortKey);for(const Be of Ce){const nt=Be.state;if(c.terrain&&c.terrain.setupElevationDraw(nt.tile,nt.program,{useDepthForOcclusion:!0,labelPlaneMatrixInv:nt.labelPlaneMatrixInv}),H.activeTexture.set(K.TEXTURE0),nt.atlasTexture.bind(nt.atlasInterpolation,K.CLAMP_TO_EDGE),nt.atlasTextureIcon&&(H.activeTexture.set(K.TEXTURE1),nt.atlasTextureIcon&&nt.atlasTextureIcon.bind(nt.atlasInterpolationIcon,K.CLAMP_TO_EDGE)),nt.isSDF){const Fe=nt.uniformValues;nt.hasHalo&&(Fe.u_is_halo=1,mo(nt.buffers,Be.segments,a,c,nt.program,ce,O,z,Fe)),Fe.u_is_halo=0}mo(nt.buffers,Be.segments,a,c,nt.program,ce,O,z,nt.uniformValues)}}function mo(c,t,a,l,_,p,v,w,S){const Y=l.context;_.draw(Y,Y.gl.TRIANGLES,p,v,w,r.CullFaceMode.disabled,S,a.id,c.layoutVertexBuffer,c.indexBuffer,t,a.paint,l.transform.zoom,c.programConfigurations.get(a.id),c.dynamicLayoutVertexBuffer,c.opacityVertexBuffer)}function Zr(c,t,a,l,_,p,v){const w=c.context.gl,S=a.paint.get("fill-pattern"),Y=S&&S.constantOr(1),O=a.getCrossfadeParameters();let z,H,K,Q,$;v?(H=Y&&!a.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",z=w.LINES):(H=Y?"fillPattern":"fill",z=w.TRIANGLES);for(const ie of l){const J=t.getTile(ie);if(Y&&!J.patternsLoaded())continue;const re=J.getBucket(a);if(!re)continue;c.prepareDrawTile(ie);const le=re.programConfigurations.get(a.id),X=c.useProgram(H,le);Y&&(c.context.activeTexture.set(w.TEXTURE0),J.imageAtlasTexture.bind(w.LINEAR,w.CLAMP_TO_EDGE),le.updatePaintBuffers(O));const ce=S.constantOr(null);if(ce&&J.imageAtlas){const Ae=J.imageAtlas,Ce=Ae.patternPositions[ce.to.toString()],Re=Ae.patternPositions[ce.from.toString()];Ce&&Re&&le.setConstantPatternPositions(Ce,Re)}const pe=c.translatePosMatrix(ie.projMatrix,J,a.paint.get("fill-translate"),a.paint.get("fill-translate-anchor"));if(v){Q=re.indexBuffer2,$=re.segments2;const Ae=c.terrain&&c.terrain.renderingToTexture?c.terrain.drapeBufferSize:[w.drawingBufferWidth,w.drawingBufferHeight];K="fillOutlinePattern"===H&&Y?Wo(pe,c,O,J,Ae):Cs(pe,Ae)}else Q=re.indexBuffer,$=re.segments,K=Y?br(pe,c,O,J):Ss(pe);c.prepareDrawProgram(c.context,X,ie.toUnwrapped()),X.draw(c.context,z,_,c.stencilModeForClipping(ie),p,r.CullFaceMode.disabled,K,a.id,re.layoutVertexBuffer,Q,$,a.paint,c.transform.zoom,le)}}function Ii(c,t,a,l,_,p,v){const w=c.context,S=w.gl,Y=a.paint.get("fill-extrusion-pattern"),O=Y.constantOr(1),z=a.getCrossfadeParameters(),H=a.paint.get("fill-extrusion-opacity");for(const K of l){const Q=t.getTile(K),$=Q.getBucket(a);if(!$)continue;const ie=$.programConfigurations.get(a.id),J=c.useProgram(O?"fillExtrusionPattern":"fillExtrusion",ie);if(c.terrain){const pe=c.terrain;if(!$.enableTerrain)continue;if(pe.setupElevationDraw(Q,J,{useMeterToDem:!0}),Jo(w,t,K,$,a,pe),!$.centroidVertexBuffer){const Ae=J.attributes.a_centroid_pos;void 0!==Ae&&S.vertexAttrib2f(Ae,0,0)}}O&&(c.context.activeTexture.set(S.TEXTURE0),Q.imageAtlasTexture.bind(S.LINEAR,S.CLAMP_TO_EDGE),ie.updatePaintBuffers(z));const re=Y.constantOr(null);if(re&&Q.imageAtlas){const pe=Q.imageAtlas,Ae=pe.patternPositions[re.to.toString()],Ce=pe.patternPositions[re.from.toString()];Ae&&Ce&&ie.setConstantPatternPositions(Ae,Ce)}const le=c.translatePosMatrix(K.projMatrix,Q,a.paint.get("fill-extrusion-translate"),a.paint.get("fill-extrusion-translate-anchor")),X=a.paint.get("fill-extrusion-vertical-gradient"),ce=O?Ho(le,c,X,H,K,z,Q):co(le,c,X,H);c.prepareDrawProgram(w,J,K.toUnwrapped()),J.draw(w,w.gl.TRIANGLES,_,p,v,r.CullFaceMode.backCCW,ce,a.id,$.layoutVertexBuffer,$.indexBuffer,$.segments,a.paint,c.transform.zoom,ie,c.terrain?$.centroidVertexBuffer:null)}}function Jo(c,t,a,l,_,p){const v=[J=>{let re=J.canonical.x-1,le=J.wrap;return re<0&&(re=(1<<J.canonical.z)-1,le--),new r.OverscaledTileID(J.overscaledZ,le,J.canonical.z,re,J.canonical.y)},J=>{let re=J.canonical.x+1,le=J.wrap;return re===1<<J.canonical.z&&(re=0,le++),new r.OverscaledTileID(J.overscaledZ,le,J.canonical.z,re,J.canonical.y)},J=>new r.OverscaledTileID(J.overscaledZ,J.wrap,J.canonical.z,J.canonical.x,(0===J.canonical.y?1<<J.canonical.z:J.canonical.y)-1),J=>new r.OverscaledTileID(J.overscaledZ,J.wrap,J.canonical.z,J.canonical.x,J.canonical.y===(1<<J.canonical.z)-1?0:J.canonical.y+1)],w=J=>{const re=t.getSource().maxzoom,le=Ae=>{const Ce=t.getTileByID(Ae);if(Ce&&Ce.hasData())return Ce.getBucket(_)};let X,ce,pe;return(J.overscaledZ===J.canonical.z||J.overscaledZ>=re)&&(X=le(J.key)),J.overscaledZ>=re&&(ce=le(J.calculateScaledKey(J.overscaledZ+1))),J.overscaledZ>re&&(pe=le(J.calculateScaledKey(J.overscaledZ-1))),X||ce||pe},S=[0,0,0],Y=(J,re)=>(S[0]=Math.min(J.min.y,re.min.y),S[1]=Math.max(J.max.y,re.max.y),S[2]=r.EXTENT-re.min.x>J.max.x?re.min.x-r.EXTENT:J.max.x,S),O=(J,re)=>(S[0]=Math.min(J.min.x,re.min.x),S[1]=Math.max(J.max.x,re.max.x),S[2]=r.EXTENT-re.min.y>J.max.y?re.min.y-r.EXTENT:J.max.y,S),z=[(J,re)=>Y(J,re),(J,re)=>Y(re,J),(J,re)=>O(J,re),(J,re)=>O(re,J)],H=new r.pointGeometry(0,0);let K,Q,$;const ie=(J,re,le,X,ce)=>{const pe=[[X?le:J,X?J:le,0],[X?le:re,X?re:le,0]],Ae=ce<0?r.EXTENT+ce:ce,Ce=[X?Ae:(J+re)/2,X?(J+re)/2:Ae,0];return 0===le&&ce<0||0!==le&&ce>0?p.getForTilePoints($,[Ce],!0,Q):pe.push(Ce),p.getForTilePoints(a,pe,!0,K),Math.max(pe[0][2],pe[1][2],Ce[2])/p.exaggeration()};for(let J=0;J<4;J++){const re=l.borders[J];if(0===re.length&&(l.borderDone[J]=!0),l.borderDone[J])continue;const le=$=v[J](a),X=w(le);if(!(X&&X.enableTerrain&&(Q=p.findDEMTileFor(le),Q&&Q.dem)))continue;if(!K){const Ce=p.findDEMTileFor(a);if(!Ce||!Ce.dem)return;K=Ce}const ce=(J<2?1:5)-J,pe=X.borders[ce];let Ae=0;for(let Ce=0;Ce<re.length;Ce++){const Re=l.featuresOnBorder[re[Ce]],Be=Re.borders[J];let nt;for(;Ae<pe.length&&(nt=X.featuresOnBorder[pe[Ae]],!(nt.borders[ce][1]>Be[0]+3));)X.borderDone[ce]||X.encodeCentroid(void 0,nt,!1),Ae++;if(nt&&Ae<pe.length){const Fe=Ae;let ct=0;for(;!(nt.borders[ce][0]>Be[1]-3)&&(ct++,++Ae!==pe.length);)nt=X.featuresOnBorder[pe[Ae]];if(nt=X.featuresOnBorder[pe[Fe]],Re.intersectsCount()>1||nt.intersectsCount()>1||1!==ct){1!==ct&&(Ae=Fe),l.encodeCentroid(void 0,Re,!1),X.borderDone[ce]||X.encodeCentroid(void 0,nt,!1);continue}const Se=z[J](Re,nt),ut=J%2?r.EXTENT-1:0;H.x=ie(Se[0],Math.min(r.EXTENT-1,Se[1]),ut,J<2,Se[2]),H.y=0,l.encodeCentroid(H,Re,!1),X.borderDone[ce]||X.encodeCentroid(H,nt,!1)}else l.encodeCentroid(void 0,Re,!1)}l.borderDone[J]=l.needsCentroidUpdate=!0,X.borderDone[ce]||(X.borderDone[ce]=X.needsCentroidUpdate=!0)}(l.needsCentroidUpdate||!l.centroidVertexBuffer&&0!==l.centroidVertexArray.length)&&l.uploadCentroid(c)}const po=new r.Color(1,0,0,1),Qt=new r.Color(0,1,0,1),Nr=new r.Color(0,0,1,1),La=new r.Color(1,0,1,1),ka=new r.Color(0,1,1,1);function as(c,t,a,l){Da(c,0,t+a/2,c.transform.width,a,l)}function fo(c,t,a,l){Da(c,t-a/2,0,a,c.transform.height,l)}function Da(c,t,a,l,_,p){const v=c.context,w=v.gl;w.enable(w.SCISSOR_TEST),w.scissor(t*r.exported.devicePixelRatio,a*r.exported.devicePixelRatio,l*r.exported.devicePixelRatio,_*r.exported.devicePixelRatio),v.clear({color:p}),w.disable(w.SCISSOR_TEST)}function Ea(c,t,a){const l=c.context,_=l.gl,p=a.projMatrix,v=c.useProgram("debug"),w=t.getTileByID(a.key);c.terrain&&c.terrain.setupElevationDraw(w,v);const S=r.DepthMode.disabled,Y=r.StencilMode.disabled,O=c.colorModeForRenderPass(),z="$debug";l.activeTexture.set(_.TEXTURE0),c.emptyTexture.bind(_.LINEAR,_.CLAMP_TO_EDGE),w._makeDebugTileBoundsBuffers(c.context,c.transform.projection);const H=w._tileDebugBuffer||c.debugBuffer,K=w._tileDebugIndexBuffer||c.debugIndexBuffer,Q=w._tileDebugSegments||c.debugSegments;v.draw(l,_.LINE_STRIP,S,Y,O,r.CullFaceMode.disabled,Ps(p,r.Color.red),z,H,K,Q);const $=w.latestRawTileData,ie=Math.floor(($&&$.byteLength||0)/1024),J=t.getTile(a).tileSize,re=512/Math.min(J,512)*(a.overscaledZ/c.transform.zoom)*.5;let le=a.canonical.toString();a.overscaledZ!==a.canonical.z&&(le+=` => ${a.overscaledZ}`),function(X,ce){X.initDebugOverlayCanvas();const pe=X.debugOverlayCanvas,Ae=X.context.gl,Ce=X.debugOverlayCanvas.getContext("2d");Ce.clearRect(0,0,pe.width,pe.height),Ce.shadowColor="white",Ce.shadowBlur=2,Ce.lineWidth=1.5,Ce.strokeStyle="white",Ce.textBaseline="top",Ce.font="bold 36px Open Sans, sans-serif",Ce.fillText(ce,5,5),Ce.strokeText(ce,5,5),X.debugOverlayTexture.update(pe),X.debugOverlayTexture.bind(Ae.LINEAR,Ae.CLAMP_TO_EDGE)}(c,`${le} ${ie}kb`),v.draw(l,_.TRIANGLES,S,Y,r.ColorMode.alphaBlended,r.CullFaceMode.disabled,Ps(p,r.Color.transparent,re),z,c.debugBuffer,c.quadTriangleIndexBuffer,c.debugSegments)}const go=r.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Ys}=go;function Bi(c,t,a,l){c.emplaceBack(t,a,l)}class os{constructor(t){this.vertexArray=new r.StructArrayLayout3f12,this.indices=new r.StructArrayLayout3ui6,Bi(this.vertexArray,-1,-1,1),Bi(this.vertexArray,1,-1,1),Bi(this.vertexArray,-1,1,1),Bi(this.vertexArray,1,1,1),Bi(this.vertexArray,-1,-1,-1),Bi(this.vertexArray,1,-1,-1),Bi(this.vertexArray,-1,1,-1),Bi(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=t.createVertexBuffer(this.vertexArray,Ys),this.indexBuffer=t.createIndexBuffer(this.indices),this.segment=r.SegmentVector.simpleSegment(0,0,36,12)}}function Tr(c,t,a,l,_,p){const v=c.gl,w=t.paint.get("sky-atmosphere-color"),S=t.paint.get("sky-atmosphere-halo-color"),Y=t.paint.get("sky-atmosphere-sun-intensity"),O={u_matrix_3f:r.fromMat4([],l),u_sun_direction:_,u_sun_intensity:Y,u_color_tint_r:[(Q=w).r,Q.g,Q.b,Q.a],u_color_tint_m:[($=S).r,$.g,$.b,$.a],u_luminance:5e-5};var Q,$;v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_CUBE_MAP_POSITIVE_X+p,t.skyboxTexture,0),a.draw(c,v.TRIANGLES,r.DepthMode.disabled,r.StencilMode.disabled,r.ColorMode.unblended,r.CullFaceMode.frontCW,O,"skyboxCapture",t.skyboxGeometry.vertexBuffer,t.skyboxGeometry.indexBuffer,t.skyboxGeometry.segment)}const Sa={symbol:function(c,t,a,l,_){if("translucent"!==c.renderPass)return;const p=r.StencilMode.disabled,v=c.colorModeForRenderPass();a.layout.get("text-variable-anchor")&&function(w,S,Y,O,z,H,K){const Q=S.transform,$="map"===z,ie="map"===H;for(const J of w){const re=O.getTile(J),le=re.getBucket(Y);if(!le||!le.text||!le.text.segments.get().length)continue;const X=r.evaluateSizeForZoom(le.textSizeData,Q.zoom),ce=S.transform.calculatePixelsToTileUnitsMatrix(re),pe=Ft(J.projMatrix,ie,$,S.transform,ce),Ae="none"!==Y.layout.get("icon-text-fit")&&le.hasIconData();if(X){const Ce=Math.pow(2,Q.zoom-re.tileID.overscaledZ),Re=Q.elevation;$o(le,$,ie,K,r.symbolSize,Q,pe,J.projMatrix,Ce,X,Ae,Re?Be=>Re.getAtTileOffset(J,Be.x,Be.y):Be=>0)}}}(l,c,a,t,a.layout.get("text-rotation-alignment"),a.layout.get("text-pitch-alignment"),_),0!==a.paint.get("icon-opacity").constantOr(1)&&wr(c,t,a,l,!1,a.paint.get("icon-translate"),a.paint.get("icon-translate-anchor"),a.layout.get("icon-rotation-alignment"),a.layout.get("icon-pitch-alignment"),a.layout.get("icon-keep-upright"),p,v),0!==a.paint.get("text-opacity").constantOr(1)&&wr(c,t,a,l,!0,a.paint.get("text-translate"),a.paint.get("text-translate-anchor"),a.layout.get("text-rotation-alignment"),a.layout.get("text-pitch-alignment"),a.layout.get("text-keep-upright"),p,v),t.map.showCollisionBoxes&&(Is(c,t,a,l,a.paint.get("text-translate"),a.paint.get("text-translate-anchor"),!0),Is(c,t,a,l,a.paint.get("icon-translate"),a.paint.get("icon-translate-anchor"),!1))},circle:function(c,t,a,l){if("translucent"!==c.renderPass)return;const _=a.paint.get("circle-opacity"),p=a.paint.get("circle-stroke-width"),v=a.paint.get("circle-stroke-opacity"),w=void 0!==a.layout.get("circle-sort-key").constantOr(1);if(0===_.constantOr(1)&&(0===p.constantOr(1)||0===v.constantOr(1)))return;const S=c.context,Y=S.gl,O=c.depthModeForSublayer(0,r.DepthMode.ReadOnly),z=r.StencilMode.disabled,H=c.colorModeForRenderPass(),K=[];for(let Q=0;Q<l.length;Q++){const $=l[Q],ie=t.getTile($),J=ie.getBucket(a);if(!J)continue;const re=J.programConfigurations.get(a.id),le=ya(a),X={programConfiguration:re,program:c.useProgram("circle",re,le),layoutVertexBuffer:J.layoutVertexBuffer,indexBuffer:J.indexBuffer,uniformValues:Ti(c,$,ie,a),tile:ie};if(w){const ce=J.segments.get();for(const pe of ce)K.push({segments:new r.SegmentVector([pe]),sortKey:pe.sortKey,state:X})}else K.push({segments:J.segments,sortKey:0,state:X})}w&&K.sort((Q,$)=>Q.sortKey-$.sortKey);for(const Q of K){const{programConfiguration:$,program:ie,layoutVertexBuffer:J,indexBuffer:re,uniformValues:le,tile:X}=Q.state,ce=Q.segments;c.terrain&&c.terrain.setupElevationDraw(X,ie,{useDepthForOcclusion:!0}),c.prepareDrawProgram(S,ie,X.tileID.toUnwrapped()),ie.draw(S,Y.TRIANGLES,O,z,H,r.CullFaceMode.disabled,le,a.id,J,re,ce,a.paint,c.transform.zoom,$)}},heatmap:function(c,t,a,l){if(0!==a.paint.get("heatmap-opacity"))if("offscreen"===c.renderPass){const _=c.context,p=_.gl,v=r.StencilMode.disabled,w=new r.ColorMode([p.ONE,p.ONE],r.Color.transparent,[!0,!0,!0,!0]);(function(S,Y,O){const z=S.gl;S.activeTexture.set(z.TEXTURE1),S.viewport.set([0,0,Y.width/4,Y.height/4]);let H=O.heatmapFbo;if(H)z.bindTexture(z.TEXTURE_2D,H.colorAttachment.get()),S.bindFramebuffer.set(H.framebuffer);else{const K=z.createTexture();z.bindTexture(z.TEXTURE_2D,K),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_S,z.CLAMP_TO_EDGE),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_T,z.CLAMP_TO_EDGE),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,z.LINEAR),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,z.LINEAR),H=O.heatmapFbo=S.createFramebuffer(Y.width/4,Y.height/4,!1),function(Q,$,ie,J){const re=Q.gl;re.texImage2D(re.TEXTURE_2D,0,re.RGBA,$.width/4,$.height/4,0,re.RGBA,Q.extRenderToTextureHalfFloat?Q.extTextureHalfFloat.HALF_FLOAT_OES:re.UNSIGNED_BYTE,null),J.colorAttachment.set(ie)}(S,Y,K,H)}})(_,c,a),_.clear({color:r.Color.transparent});for(let S=0;S<l.length;S++){const Y=l[S];if(t.hasRenderableParent(Y))continue;const O=t.getTile(Y),z=O.getBucket(a);if(!z)continue;const H=z.programConfigurations.get(a.id),K=c.useProgram("heatmap",H),{zoom:Q}=c.transform;c.terrain&&c.terrain.setupElevationDraw(O,K),c.prepareDrawProgram(_,K,Y.toUnwrapped()),K.draw(_,p.TRIANGLES,r.DepthMode.disabled,v,w,r.CullFaceMode.disabled,uo(Y.projMatrix,O,Q,a.paint.get("heatmap-intensity")),a.id,z.layoutVertexBuffer,z.indexBuffer,z.segments,a.paint,c.transform.zoom,H)}_.viewport.set([0,0,c.width,c.height])}else"translucent"===c.renderPass&&(c.context.setColorMode(c.colorModeForRenderPass()),function(_,p){const v=_.context,w=v.gl,S=p.heatmapFbo;if(!S)return;v.activeTexture.set(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,S.colorAttachment.get()),v.activeTexture.set(w.TEXTURE1);let Y=p.colorRampTexture;Y||(Y=p.colorRampTexture=new r.Texture(v,p.colorRamp,w.RGBA)),Y.bind(w.LINEAR,w.CLAMP_TO_EDGE),_.useProgram("heatmapTexture").draw(v,w.TRIANGLES,r.DepthMode.disabled,r.StencilMode.disabled,_.colorModeForRenderPass(),r.CullFaceMode.disabled,{u_image:0,u_color_ramp:1,u_opacity:p.paint.get("heatmap-opacity")},p.id,_.viewportBuffer,_.quadTriangleIndexBuffer,_.viewportSegments,p.paint,_.transform.zoom)}(c,a))},line:function(c,t,a,l){if("translucent"!==c.renderPass)return;const _=a.paint.get("line-opacity"),p=a.paint.get("line-width");if(0===_.constantOr(1)||0===p.constantOr(1))return;const v=c.depthModeForSublayer(0,r.DepthMode.ReadOnly),w=c.colorModeForRenderPass(),S=a.paint.get("line-dasharray"),Y=S.constantOr(1),O=a.layout.get("line-cap"),z=a.paint.get("line-pattern"),H=z.constantOr(1),K=a.paint.get("line-gradient"),Q=a.getCrossfadeParameters(),$=H?"linePattern":"line",ie=c.context,J=ie.gl;for(const re of l){const le=t.getTile(re);if(H&&!le.patternsLoaded())continue;const X=le.getBucket(a);if(!X)continue;c.prepareDrawTile(re);const ce=X.programConfigurations.get(a.id),pe=sr(a),Ae=c.useProgram($,ce,pe),Ce=z.constantOr(null);if(Ce&&le.imageAtlas){const ct=le.imageAtlas,Se=ct.patternPositions[Ce.to.toString()],ut=ct.patternPositions[Ce.from.toString()];Se&&ut&&ce.setConstantPatternPositions(Se,ut)}const Re=S.constantOr(null),Be=O.constantOr(null);if(!H&&Re&&Be&&le.lineAtlas){const ct=le.lineAtlas,Se=ct.getDash(Re.to,Be),ut=ct.getDash(Re.from,Be);Se&&ut&&ce.setConstantPatternPositions(Se,ut)}const nt=c.terrain?re.projMatrix:null,Fe=H?xa(c,le,a,Q,nt):ho(c,le,a,Q,nt,X.lineClipsArray.length);if(K){const ct=X.gradients[a.id];let Se=ct.texture;if(a.gradientVersion!==ct.version){let ut=256;if(a.stepInterpolant){const gt=t.getSource().maxzoom,Dt=re.canonical.z===gt?Math.ceil(1<<c.transform.maxZoom-re.canonical.z):1;ut=r.clamp(r.nextPowerOfTwo(X.maxLineLength/r.EXTENT*1024*Dt),256,ie.maxTextureSize)}ct.gradient=r.renderColorRamp({expression:a.gradientExpression(),evaluationKey:"lineProgress",resolution:ut,image:ct.gradient||void 0,clips:X.lineClipsArray}),ct.texture?ct.texture.update(ct.gradient):ct.texture=new r.Texture(ie,ct.gradient,J.RGBA),ct.version=a.gradientVersion,Se=ct.texture}ie.activeTexture.set(J.TEXTURE1),Se.bind(a.stepInterpolant?J.NEAREST:J.LINEAR,J.CLAMP_TO_EDGE)}Y&&(ie.activeTexture.set(J.TEXTURE0),le.lineAtlasTexture.bind(J.LINEAR,J.REPEAT),ce.updatePaintBuffers(Q)),H&&(ie.activeTexture.set(J.TEXTURE0),le.imageAtlasTexture.bind(J.LINEAR,J.CLAMP_TO_EDGE),ce.updatePaintBuffers(Q)),c.prepareDrawProgram(ie,Ae,re.toUnwrapped()),Ae.draw(ie,J.TRIANGLES,v,c.stencilModeForClipping(re),w,r.CullFaceMode.disabled,Fe,a.id,X.layoutVertexBuffer,X.indexBuffer,X.segments,a.paint,c.transform.zoom,ce,X.layoutVertexBuffer2)}},fill:function(c,t,a,l){const _=a.paint.get("fill-color"),p=a.paint.get("fill-opacity");if(0===p.constantOr(1))return;const v=c.colorModeForRenderPass(),w=a.paint.get("fill-pattern"),S=c.opaquePassEnabledForLayer()&&!w.constantOr(1)&&1===_.constantOr(r.Color.transparent).a&&1===p.constantOr(0)?"opaque":"translucent";if(c.renderPass===S){const Y=c.depthModeForSublayer(1,"opaque"===c.renderPass?r.DepthMode.ReadWrite:r.DepthMode.ReadOnly);Zr(c,t,a,l,Y,v,!1)}if("translucent"===c.renderPass&&a.paint.get("fill-antialias")){const Y=c.depthModeForSublayer(a.getPaintProperty("fill-outline-color")?2:0,r.DepthMode.ReadOnly);Zr(c,t,a,l,Y,v,!0)}},"fill-extrusion":function(c,t,a,l){const _=a.paint.get("fill-extrusion-opacity");if(0!==_&&"translucent"===c.renderPass){const p=new r.DepthMode(c.context.gl.LEQUAL,r.DepthMode.ReadWrite,c.depthRangeFor3D);if(1!==_||a.paint.get("fill-extrusion-pattern").constantOr(1))Ii(c,t,a,l,p,r.StencilMode.disabled,r.ColorMode.disabled),Ii(c,t,a,l,p,c.stencilModeFor3D(),c.colorModeForRenderPass());else{const v=c.colorModeForRenderPass();Ii(c,t,a,l,p,r.StencilMode.disabled,v)}}},hillshade:function(c,t,a,l){if("offscreen"!==c.renderPass&&"translucent"!==c.renderPass)return;const _=c.context,p=c.depthModeForSublayer(0,r.DepthMode.ReadOnly),v=c.colorModeForRenderPass(),w=c.terrain&&c.terrain.renderingToTexture,[S,Y]="translucent"!==c.renderPass||w?[{},l]:c.stencilConfigForOverlap(l);for(const O of Y){const z=t.getTile(O);if(z.needsHillshadePrepare&&"offscreen"===c.renderPass)dn(c,z,a,p,r.StencilMode.disabled,v);else if("translucent"===c.renderPass){const H=w&&c.terrain?c.terrain.stencilModeForRTTOverlap(O):S[O.overscaledZ];oo(c,O,z,a,p,H,v)}}_.viewport.set([0,0,c.width,c.height])},raster:function(c,t,a,l,_,p){if("translucent"!==c.renderPass||0===a.paint.get("raster-opacity")||!l.length)return;const v=c.context,w=v.gl,S=t.getSource(),Y=c.useProgram("raster"),O=c.colorModeForRenderPass(),z=c.terrain&&c.terrain.renderingToTexture,[H,K]=S instanceof ee||z?[{},l]:c.stencilConfigForOverlap(l),Q=K[K.length-1].overscaledZ,$=!c.options.moving;for(const ie of K){const J=z?r.DepthMode.disabled:c.depthModeForSublayer(ie.overscaledZ-Q,1===a.paint.get("raster-opacity")?r.DepthMode.ReadWrite:r.DepthMode.ReadOnly,w.LESS),re=ie.toUnwrapped(),le=t.getTile(ie);if(z&&(!le||!le.hasData()))continue;const X=z?ie.projMatrix:c.transform.calculateProjMatrix(re,$),ce=c.terrain&&z?c.terrain.stencilModeForRTTOverlap(ie):H[ie.overscaledZ],pe=p?0:a.paint.get("raster-fade-duration");le.registerFadeDuration(pe);const Ae=t.findLoadedParent(ie,0),Ce=Ji(le,Ae,t,c.transform,pe);let Re,Be;c.terrain&&c.terrain.prepareDrawTile(ie);const nt="nearest"===a.paint.get("raster-resampling")?w.NEAREST:w.LINEAR;v.activeTexture.set(w.TEXTURE0),le.texture.bind(nt,w.CLAMP_TO_EDGE),v.activeTexture.set(w.TEXTURE1),Ae?(Ae.texture.bind(nt,w.CLAMP_TO_EDGE),Re=Math.pow(2,Ae.tileID.overscaledZ-le.tileID.overscaledZ),Be=[le.tileID.canonical.x*Re%1,le.tileID.canonical.y*Re%1]):le.texture.bind(nt,w.CLAMP_TO_EDGE);const Fe=ba(X,Be||[0,0],Re||1,Ce,a);if(c.prepareDrawProgram(v,Y,re),S instanceof ee)Y.draw(v,w.TRIANGLES,J,r.StencilMode.disabled,O,r.CullFaceMode.disabled,Fe,a.id,S.boundsBuffer,c.quadTriangleIndexBuffer,S.boundsSegments);else{const{tileBoundsBuffer:ct,tileBoundsIndexBuffer:Se,tileBoundsSegments:ut}=c.getTileBoundsBuffers(le);Y.draw(v,w.TRIANGLES,J,ce,O,r.CullFaceMode.disabled,Fe,a.id,ct,Se,ut)}}},background:function(c,t,a,l){const _=a.paint.get("background-color"),p=a.paint.get("background-opacity");if(0===p)return;const v=c.context,w=v.gl,S=c.transform,Y=S.tileSize,O=a.paint.get("background-pattern");if(c.isPatternMissing(O))return;const z=!O&&1===_.a&&1===p&&c.opaquePassEnabledForLayer()?"opaque":"translucent";if(c.renderPass!==z)return;const H=r.StencilMode.disabled,K=c.depthModeForSublayer(0,"opaque"===z?r.DepthMode.ReadWrite:r.DepthMode.ReadOnly),Q=c.colorModeForRenderPass(),$=c.useProgram(O?"backgroundPattern":"background");let ie,J=l;J||(ie=c.getBackgroundTiles(),J=Object.values(ie).map(le=>le.tileID)),O&&(v.activeTexture.set(w.TEXTURE0),c.imageManager.bind(c.context));const re=a.getCrossfadeParameters();for(const le of J){const X=le.toUnwrapped(),ce=l?le.projMatrix:c.transform.calculateProjMatrix(X);c.prepareDrawTile(le);const pe=t?t.getTile(le):ie?ie[le.key]:new r.Tile(le,Y,S.zoom,c),Ae=O?Nl(ce,p,c,O,{tileID:le,tileSize:Y},re):Zl(ce,p,_);c.prepareDrawProgram(v,$,X);const{tileBoundsBuffer:Ce,tileBoundsIndexBuffer:Re,tileBoundsSegments:Be}=c.getTileBoundsBuffers(pe);$.draw(v,w.TRIANGLES,K,H,Q,r.CullFaceMode.disabled,Ae,a.id,Ce,Re,Be)}},sky:function(c,t,a){const l=c.transform,_="mercator"===l.projection.name?1:r.smoothstep(7,8,l.zoom),p=a.paint.get("sky-opacity")*_;if(0===p)return;const v=c.context,w=a.paint.get("sky-type"),S=new r.DepthMode(v.gl.LEQUAL,r.DepthMode.ReadOnly,[0,1]),Y=c.frameCounter/1e3%1;"atmosphere"===w?"offscreen"===c.renderPass?a.needsSkyboxCapture(c)&&(function(O,z,H,K){const Q=O.context,$=Q.gl;let ie=z.skyboxFbo;if(!ie){ie=z.skyboxFbo=Q.createFramebuffer(32,32,!1),z.skyboxGeometry=new os(Q),z.skyboxTexture=Q.gl.createTexture(),$.bindTexture($.TEXTURE_CUBE_MAP,z.skyboxTexture),$.texParameteri($.TEXTURE_CUBE_MAP,$.TEXTURE_WRAP_S,$.CLAMP_TO_EDGE),$.texParameteri($.TEXTURE_CUBE_MAP,$.TEXTURE_WRAP_T,$.CLAMP_TO_EDGE),$.texParameteri($.TEXTURE_CUBE_MAP,$.TEXTURE_MIN_FILTER,$.LINEAR),$.texParameteri($.TEXTURE_CUBE_MAP,$.TEXTURE_MAG_FILTER,$.LINEAR);for(let X=0;X<6;++X)$.texImage2D($.TEXTURE_CUBE_MAP_POSITIVE_X+X,0,$.RGBA,32,32,0,$.RGBA,$.UNSIGNED_BYTE,null)}Q.bindFramebuffer.set(ie.framebuffer),Q.viewport.set([0,0,32,32]);const J=z.getCenter(O,!0),re=O.useProgram("skyboxCapture"),le=new Float64Array(16);r.identity(le),r.rotateY(le,le,.5*-Math.PI),Tr(Q,z,re,le,J,0),r.identity(le),r.rotateY(le,le,.5*Math.PI),Tr(Q,z,re,le,J,1),r.identity(le),r.rotateX(le,le,.5*-Math.PI),Tr(Q,z,re,le,J,2),r.identity(le),r.rotateX(le,le,.5*Math.PI),Tr(Q,z,re,le,J,3),r.identity(le),Tr(Q,z,re,le,J,4),r.identity(le),r.rotateY(le,le,Math.PI),Tr(Q,z,re,le,J,5),Q.viewport.set([0,0,O.width,O.height])}(c,a),a.markSkyboxValid(c)):"sky"===c.renderPass&&function(O,z,H,K,Q){const $=O.context,ie=$.gl,J=O.transform,re=O.useProgram("skybox");$.activeTexture.set(ie.TEXTURE0),ie.bindTexture(ie.TEXTURE_CUBE_MAP,z.skyboxTexture);const le={u_matrix:J.skyboxMatrix,u_sun_direction:z.getCenter(O,!1),u_cubemap:0,u_opacity:K,u_temporal_offset:Q};O.prepareDrawProgram($,re),re.draw($,ie.TRIANGLES,H,r.StencilMode.disabled,O.colorModeForRenderPass(),r.CullFaceMode.backCW,le,"skybox",z.skyboxGeometry.vertexBuffer,z.skyboxGeometry.indexBuffer,z.skyboxGeometry.segment)}(c,a,S,p,Y):"gradient"===w&&"sky"===c.renderPass&&function(O,z,H,K,Q){const $=O.context,ie=$.gl,J=O.transform,re=O.useProgram("skyboxGradient");z.skyboxGeometry||(z.skyboxGeometry=new os($)),$.activeTexture.set(ie.TEXTURE0);let le=z.colorRampTexture;le||(le=z.colorRampTexture=new r.Texture($,z.colorRamp,ie.RGBA)),le.bind(ie.LINEAR,ie.CLAMP_TO_EDGE);const X=(ce=J.skyboxMatrix,pe=z.getCenter(O,!1),Ae=z.paint.get("sky-gradient-radius"),Ce=K,Re=Q,{u_matrix:ce,u_color_ramp:0,u_center_direction:pe,u_radius:r.degToRad(Ae),u_opacity:Ce,u_temporal_offset:Re});var ce,pe,Ae,Ce,Re;O.prepareDrawProgram($,re),re.draw($,ie.TRIANGLES,H,r.StencilMode.disabled,O.colorModeForRenderPass(),r.CullFaceMode.backCW,X,"skyboxGradient",z.skyboxGeometry.vertexBuffer,z.skyboxGeometry.indexBuffer,z.skyboxGeometry.segment)}(c,a,S,p,Y)},debug:function(c,t,a){for(let l=0;l<a.length;l++)Ea(c,t,a[l])},custom:function(c,t,a){const l=c.context,_=a.implementation;if("mercator"===c.transform.projection.name){if("offscreen"===c.renderPass){const p=_.prerender;p&&(c.setCustomLayerDefaults(),l.setColorMode(c.colorModeForRenderPass()),p.call(_,l.gl,c.transform.customLayerMatrix()),l.setDirty(),c.setBaseState())}else if("translucent"===c.renderPass){c.setCustomLayerDefaults(),l.setColorMode(c.colorModeForRenderPass()),l.setStencilMode(r.StencilMode.disabled);const p="3d"===_.renderingMode?new r.DepthMode(c.context.gl.LEQUAL,r.DepthMode.ReadWrite,c.depthRangeFor3D):c.depthModeForSublayer(0,r.DepthMode.ReadOnly);l.setDepthMode(p),_.render(l.gl,c.transform.customLayerMatrix()),l.setDirty(),c.setBaseState(),l.bindFramebuffer.set(null)}}else r.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.")}};class Ko{constructor(t,a){this.context=new zr(t),this.transform=a,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=r.SourceCache.maxUnderzooming+r.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ua,this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(t,a){const l=!!t&&!!t.terrain&&"mercator"===this.transform.projection.name;if(!(l||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Ri(this,t));const _=this._terrain;this.transform.elevation=l?_:null,_.update(t,this.transform,a)}_updateFog(t){const a=t.fog;if(!a||a.getOpacity(this.transform.pitch)<1||a.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[l,_]=a.getFovAdjustedRange(this.transform._fov);if(l>_)return void(this.transform.fogCullDistSq=null);const p=l+.78*(_-l);this.transform.fogCullDistSq=p*p}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(t,a){if(this.width=t*r.exported.devicePixelRatio,this.height=a*r.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const l of this.style.order)this.style._layers[l].resize()}setup(){const t=this.context,a=new r.StructArrayLayout2i4;a.emplaceBack(0,0),a.emplaceBack(r.EXTENT,0),a.emplaceBack(0,r.EXTENT),a.emplaceBack(r.EXTENT,r.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(a,r.posAttributes.members),this.tileExtentSegments=r.SegmentVector.simpleSegment(0,0,4,2);const l=new r.StructArrayLayout2i4;l.emplaceBack(0,0),l.emplaceBack(r.EXTENT,0),l.emplaceBack(0,r.EXTENT),l.emplaceBack(r.EXTENT,r.EXTENT),this.debugBuffer=t.createVertexBuffer(l,r.posAttributes.members),this.debugSegments=r.SegmentVector.simpleSegment(0,0,4,5);const _=new r.StructArrayLayout2i4;_.emplaceBack(-1,-1),_.emplaceBack(1,-1),_.emplaceBack(-1,1),_.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(_,r.posAttributes.members),this.viewportSegments=r.SegmentVector.simpleSegment(0,0,4,2);const p=new r.StructArrayLayout4i8;p.emplaceBack(0,0,0,0),p.emplaceBack(r.EXTENT,0,r.EXTENT,0),p.emplaceBack(0,r.EXTENT,0,r.EXTENT),p.emplaceBack(r.EXTENT,r.EXTENT,r.EXTENT,r.EXTENT),this.mercatorBoundsBuffer=t.createVertexBuffer(p,r.boundsAttributes.members),this.mercatorBoundsSegments=r.SegmentVector.simpleSegment(0,0,4,2);const v=new r.StructArrayLayout3ui6;v.emplaceBack(0,1,2),v.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(v);const w=new r.StructArrayLayout1ui2;for(const Y of[0,1,3,2,0])w.emplaceBack(Y);this.debugIndexBuffer=t.createIndexBuffer(w),this.emptyTexture=new r.Texture(t,{width:1,height:1,data:new Uint8Array([0,0,0,0])},t.gl.RGBA),this.identityMat=r.create$1();const S=this.context.gl;this.stencilClearMode=new r.StencilMode({func:S.ALWAYS,mask:0},0,255,S.ZERO,S.ZERO,S.ZERO),this.loadTimeStamps.push(r.window.performance.now())}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(t){return t._makeTileBoundsBuffers(this.context,this.transform.projection),t._tileBoundsBuffer?{tileBoundsBuffer:t._tileBoundsBuffer,tileBoundsIndexBuffer:t._tileBoundsIndexBuffer,tileBoundsSegments:t._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const t=this.context,a=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this.useProgram("clippingMask").draw(t,a.TRIANGLES,r.DepthMode.disabled,this.stencilClearMode,r.ColorMode.disabled,r.CullFaceMode.disabled,Mr(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(t,a,l){if(!(a&&this.currentStencilSource!==a.id&&t.isTileClipped()&&l&&l.length))return;this.currentStencilSource=a.id;const _=this.context,p=_.gl;this.nextStencilID+l.length>256&&this.clearStencil(),_.setColorMode(r.ColorMode.disabled),_.setDepthMode(r.DepthMode.disabled);const v=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const w of l){const S=a.getTile(w),Y=this._tileClippingMaskIDs[w.key]=this.nextStencilID++,{tileBoundsBuffer:O,tileBoundsIndexBuffer:z,tileBoundsSegments:H}=this.getTileBoundsBuffers(S);v.draw(_,p.TRIANGLES,r.DepthMode.disabled,new r.StencilMode({func:p.ALWAYS,mask:0},Y,255,p.KEEP,p.KEEP,p.REPLACE),r.ColorMode.disabled,r.CullFaceMode.disabled,Mr(w.projMatrix),"$clipping",O,z,H)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const t=this.nextStencilID++,a=this.context.gl;return new r.StencilMode({func:a.NOTEQUAL,mask:255},t,255,a.KEEP,a.KEEP,a.REPLACE)}stencilModeForClipping(t){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(t);const a=this.context.gl;return new r.StencilMode({func:a.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,a.KEEP,a.KEEP,a.REPLACE)}stencilConfigForOverlap(t){const a=this.context.gl,l=t.sort((v,w)=>w.overscaledZ-v.overscaledZ),_=l[l.length-1].overscaledZ,p=l[0].overscaledZ-_+1;if(p>1){this.currentStencilSource=void 0,this.nextStencilID+p>256&&this.clearStencil();const v={};for(let w=0;w<p;w++)v[w+_]=new r.StencilMode({func:a.GEQUAL,mask:255},w+this.nextStencilID,255,a.KEEP,a.KEEP,a.REPLACE);return this.nextStencilID+=p,[v,l]}return[{[_]:r.StencilMode.disabled},l]}colorModeForRenderPass(){const t=this.context.gl;if(this._showOverdrawInspector){const a=1/8;return new r.ColorMode([t.CONSTANT_COLOR,t.ONE],new r.Color(a,a,a,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?r.ColorMode.unblended:r.ColorMode.alphaBlended}depthModeForSublayer(t,a,l){if(!this.opaquePassEnabledForLayer())return r.DepthMode.disabled;const _=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new r.DepthMode(l||this.context.gl.LEQUAL,a,[_,_])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(t,a){this.style=t,this.options=a,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(r.exported.now()),this.imageManager.beginFrame();const l=this.style.order,_=this.style._sourceCaches;for(const Y in _){const O=_[Y];O.used&&O.prepare(this.context)}const p={},v={},w={};for(const Y in _){const O=_[Y];p[Y]=O.getVisibleCoordinates(),v[Y]=p[Y].slice().reverse(),w[Y]=O.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let Y=0;Y<l.length;Y++)if(this.style._layers[l[Y]].is3D()){this.opaquePassCutoff=Y;break}if(this.terrain&&(this.terrain.updateTileBinding(w),this.opaquePassCutoff=0),!r.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const Y of l){const O=this.style._layers[Y],z=t._getLayerSourceCache(O);if(!O.hasOffscreenPass()||O.isHidden(this.transform.zoom))continue;const H=z?v[z.id]:void 0;("custom"===O.type||O.isSky()||H&&H.length)&&this.renderLayer(this,z,O,H)}this.depthRangeFor3D=[0,1-(t.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);let S=r.Color.transparent;if(this.style.fog&&this.style.fog.getOpacity(this.transform.pitch)&&(S=this.style.fog.properties.get("color")),this.context.clear({color:a.showOverdrawInspector?r.Color.black:S,depth:1}),this.clearStencil(),this._showOverdrawInspector=a.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=l.length-1;this.currentLayer>=0;this.currentLayer--){const Y=this.style._layers[l[this.currentLayer]],O=t._getLayerSourceCache(Y);if(Y.isSky())continue;const z=O?v[O.id]:void 0;this._renderTileClippingMasks(Y,O,z),this.renderLayer(this,O,Y,z)}if(this.renderPass="sky",this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<l.length;this.currentLayer++){const Y=this.style._layers[l[this.currentLayer]],O=t._getLayerSourceCache(Y);Y.isSky()&&this.renderLayer(this,O,Y,O?v[O.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<l.length;){const Y=this.style._layers[l[this.currentLayer]],O=t._getLayerSourceCache(Y);if(Y.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(Y)){if(Y.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const z=O?("symbol"===Y.type?w:v)[O.id]:void 0;this._renderTileClippingMasks(Y,O,O?p[O.id]:void 0),this.renderLayer(this,O,Y,z),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry){let Y=null;r.values(this.style._layers).forEach(O=>{const z=t._getLayerSourceCache(O);z&&!O.isHidden(this.transform.zoom)&&(!Y||Y.getSource().maxzoom<z.getSource().maxzoom)&&(Y=z)}),Y&&this.options.showTileBoundaries&&Sa.debug(this,Y,Y.getVisibleCoordinates())}this.options.showPadding&&function(Y){const O=Y.transform.padding;as(Y,Y.transform.height-(O.top||0),3,po),as(Y,O.bottom||0,3,Qt),fo(Y,O.left||0,3,Nr),fo(Y,Y.transform.width-(O.right||0),3,La);const z=Y.transform.centerPoint;var H,K,Q,$;Da(H=Y,(K=z.x)-1,(Q=Y.transform.height-z.y)-10,2,20,$=ka),Da(H,K-10,Q-1,20,2,$)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%r.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(r.window.performance.now()),this.saveCanvasCopy())}renderLayer(t,a,l,_){l.isHidden(this.transform.zoom)||("background"===l.type||"sky"===l.type||"custom"===l.type||_&&_.length)&&(this.id=l.id,this.gpuTimingStart(l),Sa[l.type](t,a,l,_,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(t){if(!this.options.gpuTiming)return;const a=this.context.extTimerQuery;let l=this.gpuTimers[t.id];l||(l=this.gpuTimers[t.id]={calls:0,cpuTime:0,query:a.createQueryEXT()}),l.calls++,a.beginQueryEXT(a.TIME_ELAPSED_EXT,l.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery;t.endQueryEXT(t.TIME_ELAPSED_EXT)}collectGpuTimers(){const t=this.gpuTimers;return this.gpuTimers={},t}queryGpuTimers(t){const a={};for(const l in t){const _=t[l],p=this.context.extTimerQuery,v=p.getQueryObjectEXT(_.query,p.QUERY_RESULT_EXT)/1e6;p.deleteQueryEXT(_.query),a[l]=v}return a}translatePosMatrix(t,a,l,_,p){if(!l[0]&&!l[1])return t;const v=p?"map"===_?this.transform.angle:0:"viewport"===_?-this.transform.angle:0;if(v){const Y=Math.sin(v),O=Math.cos(v);l=[l[0]*O-l[1]*Y,l[0]*Y+l[1]*O]}const w=[p?l[0]:nn(a,l[0],this.transform.zoom),p?l[1]:nn(a,l[1],this.transform.zoom),0],S=new Float32Array(16);return r.translate(S,t,w),S}saveTileTexture(t){const a=this._tileTextures[t.size[0]];a?a.push(t):this._tileTextures[t.size[0]]=[t]}getTileTexture(t){const a=this._tileTextures[t];return a&&a.length>0?a.pop():null}isPatternMissing(t){if(!t)return!1;if(!t.from||!t.to)return!0;const a=this.imageManager.getPattern(t.from.toString()),l=this.imageManager.getPattern(t.to.toString());return!a||!l}currentGlobalDefines(){const t=this.terrain&&this.terrain.renderingToTexture,a=this.style&&this.style.fog,l=[];return this.terrain&&!this.terrain.renderingToTexture&&l.push("TERRAIN"),a&&!t&&0!==a.getOpacity(this.transform.pitch)&&l.push("FOG"),t&&l.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&l.push("OVERDRAW_INSPECTOR"),l}useProgram(t,a,l){this.cache=this.cache||{};const _=l||[],p=this.currentGlobalDefines().concat(_),v=is.cacheKey(t,p,a);return this.cache[v]||(this.cache[v]=new is(this.context,t,Es[t],a,qo[t],p)),this.cache[v]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=r.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new r.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}prepareDrawTile(t){this.terrain&&this.terrain.prepareDrawTile(t)}prepareDrawProgram(t,a,l){if(this.terrain&&this.terrain.renderingToTexture)return;const _=this.style.fog;if(_){const p=_.getOpacity(this.transform.pitch);0!==p&&a.setFogUniformValues(t,((v,w,S,Y)=>{const O=w.properties.get("color"),z=v.frameCounter/1e3%1,H=[O.r/O.a,O.g/O.a,O.b/O.a,Y];return{u_fog_matrix:S?v.transform.calculateFogTileMatrix(S):v.identityMat,u_fog_range:w.getFovAdjustedRange(v.transform._fov),u_fog_color:H,u_fog_horizon_blend:w.properties.get("horizon-blend"),u_fog_temporal_offset:z}})(this,_,l,p))}}setTileLoadedFlag(t){this.tileLoaded=t}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const t=this.context.gl,a=t.createTexture();return t.bindTexture(t.TEXTURE_2D,a),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,0,0,t.drawingBufferWidth,t.drawingBufferHeight,0),a}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const t=this.style&&this.style.fog;return!!t&&0!==t.getOpacity(this.transform.pitch)}getBackgroundTiles(){const t=this._backgroundTiles,a=this._backgroundTiles={},l=this.transform.coveringTiles({tileSize:512});for(const _ of l)a[_.key]=t[_.key]||new r.Tile(_,512,this.transform.tileZoom,this);return a}clearBackgroundTiles(){this._backgroundTiles={}}}class ls{constructor(t=0,a=0,l=0,_=0){if(isNaN(t)||t<0||isNaN(a)||a<0||isNaN(l)||l<0||isNaN(_)||_<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=t,this.bottom=a,this.left=l,this.right=_}interpolate(t,a,l){return null!=a.top&&null!=t.top&&(this.top=r.number(t.top,a.top,l)),null!=a.bottom&&null!=t.bottom&&(this.bottom=r.number(t.bottom,a.bottom,l)),null!=a.left&&null!=t.left&&(this.left=r.number(t.left,a.left,l)),null!=a.right&&null!=t.right&&(this.right=r.number(t.right,a.right,l)),this}getCenter(t,a){const l=r.clamp((this.left+t-this.right)/2,0,t),_=r.clamp((this.top+a-this.bottom)/2,0,a);return new r.pointGeometry(l,_)}equals(t){return this.top===t.top&&this.bottom===t.bottom&&this.left===t.left&&this.right===t.right}clone(){return new ls(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Lr(c,t){return[c[4*t],c[4*t+1],c[4*t+2],c[4*t+3]]}function Yi(c,t,a){c[4*t+0]=a[0],c[4*t+1]=a[1],c[4*t+2]=a[2],c[4*t+3]=a[3]}function Ca(c,t){const a=Lr(c,3);r.fromQuat(c,t),Yi(c,3,a)}function yo(c,t){Yi(c,3,[t[0],t[1],t[2],1])}function Os(c,t){const a=r.identity$1([]);return r.rotateZ$1(a,a,-t),r.rotateX$1(a,a,-c),a}function kr(c,t){const a=[c[0],c[1],0],l=[t[0],t[1],0];if(r.length(a)>=1e-15){const v=r.normalize([],a);r.scale(l,v,r.dot(l,v)),t[0]=l[0],t[1]=l[1]}const _=r.cross([],t,c);if(r.len(_)<1e-15)return null;const p=Math.atan2(-_[1],_[0]);return Os(Math.atan2(Math.sqrt(c[0]*c[0]+c[1]*c[1]),-c[2]),p)}class vo{constructor(t,a){this.position=t,this.orientation=a}get position(){return this._position}set position(t){this._position=this._renderWorldCopies?function(a){if(!a)return;const l=Array.isArray(a)?new r.MercatorCoordinate(a[0],a[1],a[2]):a;return l.x=r.wrap(l.x,0,1),l}(t):t}lookAtPoint(t,a){if(this.orientation=null,!this.position)return;const l=this._elevation?this._elevation.getAtPointOrZero(r.MercatorCoordinate.fromLngLat(t)):0,_=this.position,p=r.MercatorCoordinate.fromLngLat(t,l),v=[p.x-_.x,p.y-_.y,p.z-_.z];a||(a=[0,0,1]),a[2]=Math.abs(a[2]),this.orientation=kr(v,a)}setPitchBearing(t,a){this.orientation=Os(r.degToRad(t),r.degToRad(-a))}}class ri{constructor(t,a){this._transform=r.identity([]),this._orientation=r.identity$1([]),a&&(this._orientation=a,Ca(this._transform,this._orientation)),t&&yo(this._transform,t)}get mercatorPosition(){const t=this.position;return new r.MercatorCoordinate(t[0],t[1],t[2])}get position(){const t=Lr(this._transform,3);return[t[0],t[1],t[2]]}set position(t){yo(this._transform,t)}get orientation(){return this._orientation}set orientation(t){this._orientation=t,Ca(this._transform,this._orientation)}getPitchBearing(){const t=this.forward(),a=this.right();return{bearing:Math.atan2(-a[1],a[0]),pitch:Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2])}}setPitchBearing(t,a){this._orientation=Os(t,a),Ca(this._transform,this._orientation)}forward(){const t=Lr(this._transform,2);return[-t[0],-t[1],-t[2]]}up(){const t=Lr(this._transform,1);return[-t[0],-t[1],-t[2]]}right(){const t=Lr(this._transform,0);return[t[0],t[1],t[2]]}getCameraToWorld(t,a){const l=new Float64Array(16);return r.invert(l,this.getWorldToCamera(t,a)),l}getWorldToCameraPosition(t,a,l){const _=this.position;r.scale(_,_,-t);const p=new Float64Array(16);return r.fromScaling(p,[l,l,l]),r.translate(p,p,_),p[10]*=a,p}getWorldToCamera(t,a){const l=new Float64Array(16),_=new Float64Array(4),p=this.position;return r.conjugate(_,this._orientation),r.scale(p,p,-t),r.fromQuat(l,_),r.translate(l,l,p),l[1]*=-1,l[5]*=-1,l[9]*=-1,l[13]*=-1,l[8]*=a,l[9]*=a,l[10]*=a,l[11]*=a,l}getCameraToClipPerspective(t,a,l,_){const p=new Float64Array(16);return r.perspective(p,t,a,l,_),p}getDistanceToElevation(t){const a=0===t?0:r.mercatorZfromAltitude(t,this.position[1]),l=this.forward();return(a-this.position[2])/l[2]}clone(){return new ri([...this.position],[...this.orientation])}}function Ki(c,t){const a=xo(c),l=function(p,v,w,S,Y){const O=new r.LngLat(w.lng-180*Dr,w.lat),z=new r.LngLat(w.lng+180*Dr,w.lat),H=p.project(O.lng,O.lat),K=p.project(z.lng,z.lat),Q=-Math.atan2(K.y-H.y,K.x-H.x),$=r.MercatorCoordinate.fromLngLat(w);$.y=r.clamp($.y,-.999975,.999975);const ie=$.toLngLat(),J=p.project(ie.lng,ie.lat),re=r.MercatorCoordinate.fromLngLat(ie);re.x+=Dr;const le=re.toLngLat(),X=p.project(le.lng,le.lat),ce=Xo(X.x-J.x,X.y-J.y,Q),pe=r.MercatorCoordinate.fromLngLat(ie);pe.y+=Dr;const Ae=pe.toLngLat(),Ce=p.project(Ae.lng,Ae.lat),Re=Xo(Ce.x-J.x,Ce.y-J.y,Q),Be=Math.abs(ce.x)/Math.abs(Re.y),nt=r.identity([]);r.rotateZ(nt,nt,-Q*(1-(Y?0:S)));const Fe=r.identity([]);return r.scale$1(Fe,Fe,[1,1-(1-Be)*S,1]),Fe[4]=-Re.x/Re.y*S,r.rotateZ(Fe,Fe,Q),r.multiply(Fe,nt,Fe),Fe}(c.projection,0,c.center,a,t),_=cs(c);return r.scale$1(l,l,[_,_,1]),l}function cs(c){const t=c.projection,a=xo(c),l=Er(t,c.center),_=Er(t,r.LngLat.convert(t.center));return Math.pow(2,l*a+(1-a)*_)}function xo(c){const t=c.projection.range;if(!t)return 0;const a=Math.max(c.width,c.height),l=Math.log(a/1024)/Math.LN2;return r.smoothstep(t[0]+l,t[1]+l,c.zoom)}const Dr=1/4e4;function Er(c,t){const a=r.clamp(t.lat,-r.MAX_MERCATOR_LATITUDE,r.MAX_MERCATOR_LATITUDE),l=new r.LngLat(t.lng-180*Dr,a),_=new r.LngLat(t.lng+180*Dr,a),p=c.project(l.lng,a),v=c.project(_.lng,a),w=r.MercatorCoordinate.fromLngLat(l),S=r.MercatorCoordinate.fromLngLat(_),Y=v.x-p.x,O=v.y-p.y,z=S.x-w.x,H=S.y-w.y,K=Math.sqrt((z*z+H*H)/(Y*Y+O*O));return Math.log(K)/Math.LN2}function Xo(c,t,a){const l=Math.cos(a),_=Math.sin(a);return{x:c*l-t*_,y:c*_+t*l}}class Mo{constructor(t,a,l,_,p){this.tileSize=512,this._renderWorldCopies=void 0===p||p,this._minZoom=t||0,this._maxZoom=a||22,this._minPitch=null==l?0:l,this._maxPitch=null==_?60:_,this.setProjection(),this.setMaxBounds(),this.width=0,this.height=0,this._center=new r.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new ls,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new ri,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._horizonShift=.1}clone(){const t=new Mo(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return t._elevation=this._elevation,t._centerAltitude=this._centerAltitude,t.tileSize=this.tileSize,t.setMaxBounds(this.getMaxBounds()),t.width=this.width,t.height=this.height,t.cameraElevationReference=this.cameraElevationReference,t._center=this._center,t._setZoom(this.zoom),t._cameraZoom=this._cameraZoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._averageElevation=this._averageElevation,t._unmodified=this._unmodified,t._edgeInsets=this._edgeInsets.clone(),t._camera=this._camera.clone(),t._calcMatrices(),t.freezeTileCoverage=this.freezeTileCoverage,t.setProjection(this.getProjection()),t}get elevation(){return this._elevation}set elevation(t){this._elevation!==t&&(this._elevation=t,t?this._updateCenterElevation()&&this._updateCameraOnTerrain():(this._cameraZoom=null,this._centerAltitude=0),this._calcMatrices())}updateElevation(t){this._terrainEnabled()&&null==this._cameraZoom&&this._updateCenterElevation()&&this._updateCameraOnTerrain(),t&&this._constrainCameraAltitude(),this._calcMatrices()}getProjection(){return r.pick(this.projection,["name","center","parallels"])}setProjection(t){null==t&&(t={name:"mercator"}),this.projectionOptions=t;const a=this.projection?this.getProjection():void 0;return this.projection=r.getProjection(t),!I(a,this.getProjection())&&(this._calcMatrices(),!0)}get minZoom(){return this._minZoom}set minZoom(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))}get maxZoom(){return this._maxZoom}set maxZoom(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))}get minPitch(){return this._minPitch}set minPitch(t){this._minPitch!==t&&(this._minPitch=t,this.pitch=Math.max(this.pitch,t))}get maxPitch(){return this._maxPitch}set maxPitch(t){this._maxPitch!==t&&(this._maxPitch=t,this.pitch=Math.min(this.pitch,t))}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.wrap}set renderWorldCopies(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t}get worldSize(){return this.tileSize*this.scale}get cameraWorldSize(){const t=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(t))}get pixelsPerMeter(){return r.mercatorZfromAltitude(1,this.center.lat)*this.worldSize}get cameraPixelsPerMeter(){return r.mercatorZfromAltitude(1,this.center.lat)*this.cameraWorldSize}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new r.pointGeometry(this.width,this.height)}get bearing(){return r.wrap(this.rotation,-180,180)}set bearing(t){this.rotation=t}get rotation(){return-this.angle/Math.PI*180}set rotation(t){const a=-t*Math.PI/180;var l,_,p,v,w,S,Y,O,z,H;this.angle!==a&&(this._unmodified=!1,this.angle=a,this._calcMatrices(),this.rotationMatrix=(l=new r.ARRAY_TYPE(4),r.ARRAY_TYPE!=Float32Array&&(l[1]=0,l[2]=0),l[0]=1,l[3]=1,l),_=this.rotationMatrix,v=this.angle,w=(p=this.rotationMatrix)[0],S=p[1],Y=p[2],O=p[3],z=Math.sin(v),H=Math.cos(v),_[0]=w*H+Y*z,_[1]=S*H+O*z,_[2]=w*-z+Y*H,_[3]=S*-z+O*H)}get pitch(){return this._pitch/Math.PI*180}set pitch(t){const a=r.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==a&&(this._unmodified=!1,this._pitch=a,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(t){this._averageElevation=t,this._calcFogMatrices()}get zoom(){return this._zoom}set zoom(t){const a=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==a&&(this._unmodified=!1,this._setZoom(a),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._constrain(),this._calcMatrices())}_setZoom(t){this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom}_updateCenterElevation(){if(!this._elevation)return!1;const t=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center),-1);return-1===t?(this._cameraZoom=null,!1):(this._centerAltitude=t,!0)}_updateCameraOnTerrain(){const t=this.cameraToCenterDistance/this.worldSize,a=r.mercatorZfromAltitude(this._centerAltitude,this.center.lat);this._cameraZoom=this._zoomFromMercatorZ(a+t)}sampleAverageElevation(){if(!this._elevation)return 0;const t=this._elevation,a=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],l=this.horizonLineFromTop();let _=0,p=0;for(let v=0;v<a.length;v++){const w=new r.pointGeometry(a[v][0]*this.width,l+a[v][1]*(this.height-l)),S=t.pointCoordinate(w);if(!S)continue;const Y=1/Math.hypot(S[0]-this._camera.position[0],S[1]-this._camera.position[1]);_+=S[3]*Y,p+=Y}return 0===p?NaN:_/p}get center(){return this._center}set center(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCenterElevation()?this._updateCameraOnTerrain():this._cameraZoom=null:this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._cameraZoom||!this._elevation)return;const t=this._cameraZoom,a=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),l=r.mercatorZfromAltitude(a,this.center.lat),_=this._mercatorZfromZoom(t),p=this._mercatorZfromZoom(this._maxZoom),v=Math.max(_-l,p);this._setZoom(this._zoomFromMercatorZ(v))}get padding(){return this._edgeInsets.toJSON()}set padding(t){this._edgeInsets.equals(t)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,t,1),this._calcMatrices())}computeZoomRelativeTo(t){const a=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,t.toAltitude()));let l;l=t.z<this._camera.position[2]?[a.x,a.y,a.z]:[t.x,t.y,t.z];const _=r.length(r.sub([],this._camera.position,l));return r.clamp(this._zoomFromMercatorZ(_),this._minZoom,this._maxZoom)}setFreeCameraOptions(t){if(!this.height||!t.position&&!t.orientation)return;this._updateCameraState();let a=!1;if(t.orientation&&!r.exactEquals(t.orientation,this._camera.orientation)&&(a=this._setCameraOrientation(t.orientation)),t.position){const l=[t.position.x,t.position.y,t.position.z];r.exactEquals$1(l,this._camera.position)||(this._setCameraPosition(l),a=!0)}a&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const t=this._camera.position,a=new vo;return a.position=new r.MercatorCoordinate(t[0],t[1],t[2]),a.orientation=this._camera.orientation,a._elevation=this.elevation,a._renderWorldCopies=this.renderWorldCopies,a}_setCameraOrientation(t){if(!r.length$1(t))return!1;r.normalize$1(t,t);const a=r.transformQuat([],[0,0,-1],t),l=r.transformQuat([],[0,-1,0],t);if(l[2]<0)return!1;const _=kr(a,l);return!!_&&(this._camera.orientation=_,!0)}_setCameraPosition(t){const a=this.zoomScale(this.minZoom)*this.tileSize,l=this.zoomScale(this.maxZoom)*this.tileSize,_=this.cameraToCenterDistance;t[2]=r.clamp(t[2],_/l,_/a),this._camera.position=t}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(t){return this._edgeInsets.equals(t)}interpolatePadding(t,a,l){this._unmodified=!1,this._edgeInsets.interpolate(t,a,l),this._constrain(),this._calcMatrices()}coveringZoomLevel(t){const a=(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize));return Math.max(0,a)}getVisibleUnwrappedCoordinates(t){const a=[new r.UnwrappedTileID(0,t)];if(this.renderWorldCopies){const l=this.pointCoordinate(new r.pointGeometry(0,0)),_=this.pointCoordinate(new r.pointGeometry(this.width,0)),p=this.pointCoordinate(new r.pointGeometry(this.width,this.height)),v=this.pointCoordinate(new r.pointGeometry(0,this.height)),w=Math.floor(Math.min(l.x,_.x,p.x,v.x)),S=Math.floor(Math.max(l.x,_.x,p.x,v.x)),Y=1;for(let O=w-Y;O<=S+Y;O++)0!==O&&a.push(new r.UnwrappedTileID(O,t))}return a}coveringTiles(t){let a=this.coveringZoomLevel(t);const l=a,_=this.elevation&&!t.isTerrainDEM,p="mercator"===this.projection.name;if(void 0!==t.minzoom&&a<t.minzoom)return[];void 0!==t.maxzoom&&a>t.maxzoom&&(a=t.maxzoom);const v=this.locationCoordinate(this.center),w=1<<a,S=[w*v.x,w*v.y,0],Y=j.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,a),O=this.pointCoordinate(this.getCameraPoint()),z=w*r.mercatorZfromAltitude(1,this.center.lat),H=this._camera.position[2]/r.mercatorZfromAltitude(1,this.center.lat),K=[w*O.x,w*O.y,H],Q=this.cameraToCenterDistance/t.tileSize*(t.roundZoom?1:.502),$=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&p?a:0,ie=t.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,J=t.isTerrainDEM?-ie:this._elevation?this._elevation.getMinElevationBelowMSL():0,re=cs(this),le=Se=>{const ut=1/4e4,gt=new r.MercatorCoordinate(Se.x+ut,Se.y,Se.z),Dt=new r.MercatorCoordinate(Se.x,Se.y+ut,Se.z),Et=Se.toLngLat(),St=gt.toLngLat(),Ct=Dt.toLngLat(),bt=this.locationCoordinate(Et),Yt=this.locationCoordinate(St),qt=this.locationCoordinate(Ct),Fn=Math.hypot(Yt.x-bt.x,Yt.y-bt.y),Xn=Math.hypot(qt.x-bt.x,qt.y-bt.y);return Math.sqrt(Fn*Xn)*re/ut},X=(Se,ut,gt,Dt,Et,St)=>{const Ct=r.tileTransform({z:Se,x:ut,y:gt},this.projection);return new Je([(Dt+Ct.x/Ct.scale)*w,w*(Ct.y/Ct.scale),Et],[(Dt+Ct.x2/Ct.scale)*w,w*(Ct.y2/Ct.scale),St])},ce=Se=>({aabb:X(0,0,0,Se,J,ie),zoom:0,x:0,y:0,wrap:Se,fullyVisible:!1}),pe=[];let Ae=[];const Ce=a,Re=t.reparseOverscaled?l:a,Be=Se=>{if(!this._elevation||!Se.tileID)return;const ut=this._elevation.getMinMaxForTile(Se.tileID),gt=Se.aabb;ut?(gt.min[2]=ut.min,gt.max[2]=ut.max,gt.center[2]=(gt.min[2]+gt.max[2])/2):(Se.shouldSplit=ct(Se),Se.shouldSplit||(gt.min[2]=gt.max[2]=gt.center[2]=this._centerAltitude))},nt=Se=>Se*Se,Fe=nt((H-this._centerAltitude)*z),ct=Se=>{if(Se.zoom<$)return!0;if(Se.zoom===Ce)return!1;if(null!=Se.shouldSplit)return Se.shouldSplit;const ut=Se.aabb.distanceX(K),gt=Se.aabb.distanceY(K);let Dt=Fe;_&&(Dt=nt(Se.aabb.distanceZ(K)*z));let Et=1;if(!p&&l<=5){const Ct=Math.pow(2,Se.zoom),bt=le(new r.MercatorCoordinate((Se.x+.5)/Ct,(Se.y+.5)/Ct));Et=bt>.85?1:bt}const St=ut*ut+gt*gt+Dt;return St<nt((1<<Ce-Se.zoom)*Q*Et*((Ct,bt)=>{if(bt*nt(.707)<Ct)return 1;const Yt=Math.sqrt(bt/Ct);return Yt/(1.4144271570014144+(Math.pow(1.1,Yt-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(Dt,Fe),St))};if(this.renderWorldCopies)for(let Se=1;Se<=3;Se++)pe.push(ce(-Se)),pe.push(ce(Se));for(pe.push(ce(0));pe.length>0;){const Se=pe.pop(),ut=Se.x,gt=Se.y;let Dt=Se.fullyVisible;if(!Dt){const Et=Se.aabb.intersects(Y);if(0===Et)continue;Dt=2===Et}if(Se.zoom!==Ce&&ct(Se))for(let Et=0;Et<4;Et++){const St=(ut<<1)+Et%2,Ct=(gt<<1)+(Et>>1),bt={aabb:"mercator"===this.projection.name?Se.aabb.quadrant(Et):X(Se.zoom+1,St,Ct,Se.wrap,0,0),zoom:Se.zoom+1,x:St,y:Ct,wrap:Se.wrap,fullyVisible:Dt,tileID:void 0,shouldSplit:void 0};_&&(bt.tileID=new r.OverscaledTileID(Se.zoom+1===Ce?Re:Se.zoom+1,Se.wrap,Se.zoom+1,St,Ct),Be(bt)),pe.push(bt)}else{const Et=Se.zoom===Ce?Re:Se.zoom;if(t.minzoom&&t.minzoom>Et)continue;const St=S[0]-(.5+ut+(Se.wrap<<Se.zoom))*(1<<a-Se.zoom),Ct=S[1]-.5-gt,bt=Se.tileID?Se.tileID:new r.OverscaledTileID(Et,Se.wrap,Se.zoom,ut,gt);Ae.push({tileID:bt,distanceSq:St*St+Ct*Ct})}}if(this.fogCullDistSq){const Se=this.fogCullDistSq,ut=this.horizonLineFromTop();Ae=Ae.filter(gt=>{const Dt=[0,0,0,1],Et=[r.EXTENT,r.EXTENT,0,1],St=this.calculateFogTileMatrix(gt.tileID.toUnwrapped());r.transformMat4(Dt,Dt,St),r.transformMat4(Et,Et,St);const Ct=r.getAABBPointSquareDist(Dt,Et);if(0===Ct)return!0;let bt=!1;const Yt=this._elevation;if(Yt&&Ct>Se&&0!==ut){const qt=this.calculateProjMatrix(gt.tileID.toUnwrapped());let Fn;t.isTerrainDEM||(Fn=Yt.getMinMaxForTile(gt.tileID)),Fn||(Fn={min:J,max:ie});const Xn=r.furthestTileCorner(this.rotation),ai=[Xn[0]*r.EXTENT,Xn[1]*r.EXTENT,Fn.max];r.transformMat4$1(ai,ai,qt),bt=(1-ai[1])*this.height*.5<ut}return Ct<Se||bt})}return Ae.sort((Se,ut)=>Se.distanceSq-ut.distanceSq).map(Se=>Se.tileID)}resize(t,a){this.width=t,this.height=a,this.pixelsToGLUnits=[2/t,-2/a],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(t){return Math.pow(2,t)}scaleZoom(t){return Math.log(t)/Math.LN2}project(t){const a=r.clamp(t.lat,-r.MAX_MERCATOR_LATITUDE,r.MAX_MERCATOR_LATITUDE),l=this.projection.project(t.lng,a);return new r.pointGeometry(l.x*this.worldSize,l.y*this.worldSize)}unproject(t){return this.projection.unproject(t.x/this.worldSize,t.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(t,a){const l=this.pointCoordinate(a),_=this.pointCoordinate(this.centerPoint),p=this.locationCoordinate(t);this.setLocation(new r.MercatorCoordinate(p.x-(l.x-_.x),p.y-(l.y-_.y)))}setLocation(t){this.center=this.coordinateLocation(t),this.renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(t){return this._coordinatePoint(this.locationCoordinate(t),!1)}locationPoint3D(t){return this._coordinatePoint(this.locationCoordinate(t),!0)}pointLocation(t){return this.coordinateLocation(this.pointCoordinate(t))}pointLocation3D(t){return this.coordinateLocation(this.pointCoordinate3D(t))}locationCoordinate(t,a){const l=a?r.mercatorZfromAltitude(a,t.lat):void 0,_=this.projection.project(t.lng,t.lat);return new r.MercatorCoordinate(_.x,_.y,l)}coordinateLocation(t){return this.projection.unproject(t.x,t.y)}pointRayIntersection(t,a){const l=null!=a?a:this._centerAltitude,_=[t.x,t.y,0,1],p=[t.x,t.y,1,1];r.transformMat4(_,_,this.pixelMatrixInverse),r.transformMat4(p,p,this.pixelMatrixInverse);const v=p[3];r.scale$2(_,_,1/_[3]),r.scale$2(p,p,1/v);const w=_[2],S=p[2];return{p0:_,p1:p,t:w===S?0:(l-w)/(S-w)}}screenPointToMercatorRay(t){const a=[t.x,t.y,0,1],l=[t.x,t.y,1,1];return r.transformMat4(a,a,this.pixelMatrixInverse),r.transformMat4(l,l,this.pixelMatrixInverse),r.scale$2(a,a,1/a[3]),r.scale$2(l,l,1/l[3]),a[2]=r.mercatorZfromAltitude(a[2],this._center.lat)*this.worldSize,l[2]=r.mercatorZfromAltitude(l[2],this._center.lat)*this.worldSize,r.scale$2(a,a,1/this.worldSize),r.scale$2(l,l,1/this.worldSize),new $e([a[0],a[1],a[2]],r.normalize([],r.sub([],l,a)))}rayIntersectionCoordinate(t){const{p0:a,p1:l,t:_}=t,p=r.mercatorZfromAltitude(a[2],this._center.lat),v=r.mercatorZfromAltitude(l[2],this._center.lat);return new r.MercatorCoordinate(r.number(a[0],l[0],_)/this.worldSize,r.number(a[1],l[1],_)/this.worldSize,r.number(p,v,_))}pointCoordinate(t,a=this._centerAltitude){const l=this.horizonLineFromTop(!1),_=new r.pointGeometry(t.x,Math.max(l,t.y));return this.rayIntersectionCoordinate(this.pointRayIntersection(_,a))}pointCoordinate3D(t){if(!this.elevation)return this.pointCoordinate(t);const a=this.elevation;let l=this.elevation.pointCoordinate(t);if(l)return new r.MercatorCoordinate(l[0],l[1],l[2]);let _=0,p=this.horizonLineFromTop();if(t.y>p)return this.pointCoordinate(t);const v=.02*p,w=t.clone();for(let S=0;S<10&&p-_>v;S++){w.y=r.number(_,p,.66);const Y=a.pointCoordinate(w);Y?(p=w.y,l=Y):_=w.y}return l?new r.MercatorCoordinate(l[0],l[1],l[2]):this.pointCoordinate(t)}isPointAboveHorizon(t){if(this.elevation)return!this.elevation.pointCoordinate(t);{const a=this.horizonLineFromTop();return t.y<a}}_coordinatePoint(t,a){const l=a&&this.elevation?this.elevation.getAtPointOrZero(t,this._centerAltitude):this._centerAltitude,_=[t.x*this.worldSize,t.y*this.worldSize,l+t.toAltitude(),1];return r.transformMat4(_,_,this.pixelMatrix),_[3]>0?new r.pointGeometry(_[0]/_[3],_[1]/_[3]):new r.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getBounds(t,a){const l=new r.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),_=new r.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),p=new r.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),v=new r.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let w=this.pointCoordinate(l,t),S=this.pointCoordinate(_,t);const Y=this.pointCoordinate(p,a),O=this.pointCoordinate(v,a),z=(H,K)=>(K.y-H.y)/(K.x-H.x);return w.y>1&&S.y>=0?w=new r.MercatorCoordinate((1-O.y)/z(O,w)+O.x,1):w.y<0&&S.y<=1&&(w=new r.MercatorCoordinate(-O.y/z(O,w)+O.x,0)),S.y>1&&w.y>=0?S=new r.MercatorCoordinate((1-Y.y)/z(Y,S)+Y.x,1):S.y<0&&w.y<=1&&(S=new r.MercatorCoordinate(-Y.y/z(Y,S)+Y.x,0)),(new r.LngLatBounds).extend(this.coordinateLocation(w)).extend(this.coordinateLocation(S)).extend(this.coordinateLocation(O)).extend(this.coordinateLocation(Y))}_getBounds3D(){const t=this.elevation,a=t.visibleDemTiles.reduce((l,_)=>{if(_.dem){const p=_.dem.tree;l.min=Math.min(l.min,p.minimums[0]),l.max=Math.max(l.max,p.maximums[0])}return l},{min:Number.MAX_VALUE,max:0});return this._getBounds(a.min*t.exaggeration(),a.max*t.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(t=!0){const a=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,l=this.height/2-a*(1-this._horizonShift);return t?Math.max(0,l):l}getMaxBounds(){return this.maxBounds}setMaxBounds(t){this.maxBounds=t,this.minLat=-r.MAX_MERCATOR_LATITUDE,this.maxLat=r.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,t&&(this.minLat=t.getSouth(),this.maxLat=t.getNorth(),this.minLng=t.getWest(),this.maxLng=t.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=r.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=r.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=r.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=r.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(t,a){let l,_,p;const v=t.canonical,w=r.identity(new Float64Array(16));if("mercator"===this.projection.name)l=a/this.zoomScale(v.z),_=(v.x+Math.pow(2,v.z)*t.wrap)*l,p=v.y*l;else{const S=r.tileTransform(v,this.projection);l=1,_=S.x+t.wrap*S.scale,p=S.y,r.scale$1(w,w,[l/S.scale,l/S.scale,this.pixelsPerMeter/this.worldSize])}return r.translate(w,w,[_,p,0]),r.scale$1(w,w,[l/r.EXTENT,l/r.EXTENT,1]),w}calculateDistanceTileData(t){const a=t.key,l=this._distanceTileDataCache;if(l[a])return l[a];const _=t.canonical,p=1/this.height,v=this.cameraWorldSize/this.zoomScale(_.z),w=(_.x+Math.pow(2,_.z)*t.wrap)*v,S=_.y*v,Y=this.point,O=this.angle,z=Math.sin(-O),H=-Math.cos(-O);return l[a]={bearing:[z,H],center:[(Y.x-w)*p,(Y.y-S)*p],scale:v/r.EXTENT*p},l[a]}calculateFogTileMatrix(t){const a=t.key,l=this._fogTileMatrixCache;if(l[a])return l[a];const _=this.calculatePosMatrix(t,this.cameraWorldSize);return r.multiply(_,this.worldToFogMatrix,_),l[a]=new Float32Array(_),l[a]}calculateProjMatrix(t,a=!1){const l=t.key,_=a?this._alignedProjMatrixCache:this._projMatrixCache;if(_[l])return _[l];const p=this.calculatePosMatrix(t,this.worldSize);return r.multiply(p,"mercator"===this.projection.name?a?this.alignedProjMatrix:this.projMatrix:this.mercatorMatrix,p),_[l]=new Float32Array(p),_[l]}calculatePixelsToTileUnitsMatrix(t){const a=t.tileID.key,l=this._pixelsToTileUnitsCache;if(l[a])return l[a];const _=function(p,v){const{scale:w}=p.tileTransform,S=w*r.EXTENT/(p.tileSize*Math.pow(2,v.zoom-p.tileID.overscaledZ+p.tileID.canonical.z));return Y=new Float32Array(4),H=(O=v.inverseAdjustmentMatrix)[1],K=O[2],Q=O[3],ie=(z=[S,S])[1],Y[0]=O[0]*($=z[0]),Y[1]=H*$,Y[2]=K*ie,Y[3]=Q*ie,Y;var Y,O,z,H,K,Q,$,ie}(t,this);return l[a]=_,l[a]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation)return;const t=this._elevation;this._updateCameraState();const a=this._camera.position,l=this._camera.forward();if(a[2]<=0||l[2]>=0)return;const _=r.mercatorZfromAltitude(1,this._center.lat);a[2]/=_,l[2]/=_,r.normalize(l,l);const p=t.raycast(a,l,t.exaggeration());if(p){const v=r.scaleAndAdd([],a,l,p),w=new r.MercatorCoordinate(v[0],v[1],r.mercatorZfromAltitude(v[2],r.latFromMercatorY(v[1]))),S=this._camera.position,Y=w.z+r.length([w.x-S[0],w.y-S[1],w.z-S[2]]);this._cameraZoom=this._zoomFromMercatorZ(Y),this._centerAltitude=w.toAltitude(),this._center=this.coordinateLocation(w),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCameraAltitude(){if(!this._elevation)return;const t=this._elevation;this._updateCameraState();const a=t.getAtPointOrZero(this._camera.mercatorPosition),l=this._minimumHeightOverTerrain()*Math.cos(r.degToRad(this._maxPitch)),_=r.mercatorZfromAltitude(a,this._center.lat),p=this._camera.position[2]-_;if(p<l){const v=this.locationCoordinate(this._center,this._centerAltitude),w=this._camera.mercatorPosition,S=[v.x-w.x,v.y-w.y,v.z-w.z],Y=r.length(S);S[2]-=l-p;const O=r.length(S);if(0===O)return;r.scale(S,S,Y/O),this._camera.position=[v.x-S[0],v.y-S[1],v.z-S[2]],this._camera.orientation=kr(S,this._camera.up()),this._updateStateFromCamera()}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;if(this._constraining=!0,"mercator"!==this.projection.name){const z=this.center;return z.lat=r.clamp(z.lat,this.minLat,this.maxLat),!this.maxBounds&&this.renderWorldCopies||(z.lng=r.clamp(z.lng,this.minLng,this.maxLng)),this.center=z,void(this._constraining=!1)}const t=this._unmodified,{x:a,y:l}=this.point;let _=0,p=a,v=l;const w=this.width/2,S=this.height/2,Y=this.worldMinY*this.scale,O=this.worldMaxY*this.scale;if(l-S<Y&&(v=Y+S),l+S>O&&(v=O-S),O-Y<this.height&&(_=Math.max(_,this.height/(O-Y)),v=(O+Y)/2),this.maxBounds||!this.renderWorldCopies){const z=this.worldMinX*this.scale,H=this.worldMaxX*this.scale,K=this.worldSize/2-(z+H)/2;p=(a+K+this.worldSize)%this.worldSize-K,p-w<z&&(p=z+w),p+w>H&&(p=H-w),H-z<this.width&&(_=Math.max(_,this.width/(H-z)),p=(H+z)/2)}p===a&&v===l||(this.center=this.unproject(new r.pointGeometry(p,v))),_&&(this.zoom+=this.scaleZoom(_)),this._constrainCameraAltitude(),this._unmodified=t,this._constraining=!1}_minZoomForBounds(){let t=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(t=Math.max(t,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),t}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const t=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;const a=this.pixelsPerMeter;this._updateCameraState();const l=Math.PI/2+this._pitch,_=this.fovAboveCenter,p=this.elevation?this.elevation.getMinElevationBelowMSL()*a:0,v=(this._camera.position[2]*this.worldSize-p)/Math.cos(this._pitch),w=Math.sin(_)*v/Math.sin(r.clamp(Math.PI-l-_,.01,Math.PI-.01)),S=this.point,Y=S.x,O=S.y,z=Math.cos(Math.PI/2-this._pitch)*w+v,H=Math.min(1.01*z,v*(1/this._horizonShift)),K=this.height/50,Q=this._camera.getWorldToCamera(this.worldSize,a),$=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,K,H);$[8]=2*-t.x/this.width,$[9]=2*t.y/this.height;let ie=r.mul$1([],$,Q);if("mercator"!==this.projection.name){const nt=this.locationCoordinate(this.center),Fe=r.identity([]);r.translate(Fe,Fe,[nt.x*this.worldSize,nt.y*this.worldSize,0]),r.multiply(Fe,Fe,Ki(this)),r.translate(Fe,Fe,[-nt.x*this.worldSize,-nt.y*this.worldSize,0]),r.multiply(ie,ie,Fe),this.inverseAdjustmentMatrix=function(ct){const Se=Ki(ct,!0);return Ie([],[Se[0],Se[1],Se[4],Se[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=r.scale$1([],ie,[this.worldSize,this.worldSize,this.worldSize/a]),this.projMatrix=ie,this.invProjMatrix=r.invert(new Float64Array(16),this.projMatrix);const J=new Float32Array(16);r.identity(J),r.scale$1(J,J,[1,-1,1]),r.rotateX(J,J,this._pitch),r.rotateZ(J,J,this.angle);const re=r.perspective(new Float32Array(16),this._fov,this.width/this.height,K,H),le=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;re[8]=2*-t.x/this.width,re[9]=2*(t.y+le)/this.height,this.skyboxMatrix=r.multiply(J,re,J);const X=this.width%2/2,ce=this.height%2/2,pe=Math.cos(this.angle),Ae=Math.sin(this.angle),Ce=Y-Math.round(Y)+pe*X+Ae*ce,Re=O-Math.round(O)+pe*ce+Ae*X,Be=new Float64Array(ie);if(r.translate(Be,Be,[Ce>.5?Ce-1:Ce,Re>.5?Re-1:Re,0]),this.alignedProjMatrix=Be,ie=r.create$1(),r.scale$1(ie,ie,[this.width/2,-this.height/2,1]),r.translate(ie,ie,[1,-1,0]),this.labelPlaneMatrix=ie,ie=r.create$1(),r.scale$1(ie,ie,[1,-1,1]),r.translate(ie,ie,[-1,-1,0]),r.scale$1(ie,ie,[2/this.width,2/this.height,1]),this.glCoordMatrix=ie,this.pixelMatrix=r.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},ie=r.invert(new Float64Array(16),this.pixelMatrix),!ie)throw new Error("failed to invert matrix");this.pixelMatrixInverse=ie,this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const t=this.cameraWorldSize,a=this.cameraPixelsPerMeter,l=this._camera.position,_=1/this.height,p=[t,t,a];r.scale(p,p,_),r.scale(l,l,-1),r.multiply$1(l,l,p);const v=r.create$1();r.translate(v,v,l),r.scale$1(v,v,p),this.mercatorFogMatrix=v,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(t,a,_)}_updateCameraState(){if(!this.height)return;this._camera.setPitchBearing(this._pitch,this.angle);const t=this._camera.forward(),a=this.cameraToCenterDistance,l=this.point,_=this._mercatorZfromZoom(this._cameraZoom?this._cameraZoom:this._zoom)-r.mercatorZfromAltitude(this._centerAltitude,this.center.lat),p=this.cameraToCenterDistance/_;this._camera.position=[l.x/this.worldSize-t[0]*a/p,l.y/this.worldSize-t[1]*a/p,r.mercatorZfromAltitude(this._centerAltitude,this._center.lat)+-t[2]*a/p]}_translateCameraConstrained(t){const a=this._maxCameraBoundsDistance()*Math.cos(this._pitch),l=t[2];let _=1;l>0&&(_=Math.min((a-this._camera.position[2])/l,1)),this._camera.position=r.scaleAndAdd([],this._camera.position,t,_),this._updateStateFromCamera()}_updateStateFromCamera(){const t=this._camera.position,a=this._camera.forward(),{pitch:l,bearing:_}=this._camera.getPitchBearing(),p=r.mercatorZfromAltitude(this._centerAltitude,this.center.lat),v=this._mercatorZfromZoom(this._maxZoom)*Math.cos(r.degToRad(this._maxPitch)),w=Math.max((t[2]-p)/Math.cos(l),v),S=this._zoomFromMercatorZ(w);r.scaleAndAdd(t,t,a,w),this._pitch=r.clamp(l,r.degToRad(this.minPitch),r.degToRad(this.maxPitch)),this.angle=r.wrap(_,-Math.PI,Math.PI),this._setZoom(r.clamp(S,this._minZoom,this._maxZoom)),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._center=this.coordinateLocation(new r.MercatorCoordinate(t[0],t[1],t[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(t){return Math.pow(2,t)*this.tileSize}_mercatorZfromZoom(t){return this.cameraToCenterDistance/this._worldSizeFromZoom(t)}_minimumHeightOverTerrain(){const t=Math.min((null!=this._cameraZoom?this._cameraZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(t)}_zoomFromMercatorZ(t){return this.scaleZoom(this.cameraToCenterDistance/(t*this.tileSize))}_terrainEnabled(){return!(!this._elevation||"mercator"!==this.projection.name&&(r.warnOnce("Terrain is not yet supported with alternate projections. Use mercator to enable terrain."),1))}anyCornerOffEdge(t,a){const l=Math.min(t.x,a.x),_=Math.max(t.x,a.x),p=Math.min(t.y,a.y),v=Math.max(t.y,a.y);if(p<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;const w=[new r.pointGeometry(l,p),new r.pointGeometry(_,v),new r.pointGeometry(l,v),new r.pointGeometry(_,p)],S=this.renderWorldCopies?-3:0,Y=this.renderWorldCopies?4:1;for(const O of w){const z=this.pointRayIntersection(O);if(z.t<0)return!0;const H=this.rayIntersectionCoordinate(z);if(H.x<S||H.y<0||H.x>Y||H.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+r.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new r.pointGeometry(0,0),new r.pointGeometry(this.width,this.height))}zoomDeltaToMovement(t,a){const l=r.length(r.sub([],this._camera.position,t)),_=this._zoomFromMercatorZ(l)+a;return l-this._mercatorZfromZoom(_)}getCameraPoint(){const t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new r.pointGeometry(0,t))}}function Pa(c,t){let a=!1,l=null;const _=()=>{l=null,a&&(c(),l=setTimeout(_,t),a=!1)};return()=>(a=!0,l||_(),l)}class Aa{constructor(t){this._hashName=t&&encodeURIComponent(t),r.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Pa(this._updateHashUnthrottled.bind(this),300)}addTo(t){return this._map=t,r.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return r.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(t){const a=this._map.getCenter(),l=Math.round(100*this._map.getZoom())/100,_=Math.ceil((l*Math.LN2+Math.log(512/360/.5))/Math.LN10),p=Math.pow(10,_),v=Math.round(a.lng*p)/p,w=Math.round(a.lat*p)/p,S=this._map.getBearing(),Y=this._map.getPitch();let O="";if(O+=t?`/${v}/${w}/${l}`:`${l}/${w}/${v}`,(S||Y)&&(O+="/"+Math.round(10*S)/10),Y&&(O+=`/${Math.round(Y)}`),this._hashName){const z=this._hashName;let H=!1;const K=r.window.location.hash.slice(1).split("&").map(Q=>{const $=Q.split("=")[0];return $===z?(H=!0,`${$}=${O}`):Q}).filter(Q=>Q);return H||K.push(`${z}=${O}`),`#${K.join("&")}`}return`#${O}`}_getCurrentHash(){const t=r.window.location.hash.replace("#","");if(this._hashName){let a;return t.split("&").map(l=>l.split("=")).forEach(l=>{l[0]===this._hashName&&(a=l)}),(a&&a[1]||"").split("/")}return t.split("/")}_onHashChange(){const t=this._getCurrentHash();if(t.length>=3&&!t.some(a=>isNaN(a))){const a=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(t[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:a,pitch:+(t[4]||0)}),!0}return!1}_updateHashUnthrottled(){const t=r.window.location.href.replace(/(#.+)?$/,this.getHashString());r.window.history.replaceState(r.window.history.state,null,t)}}const us={linearity:.3,easing:r.bezier(0,0,.3,1)},Qo=r.extend({deceleration:2500,maxSpeed:1400},us),el=r.extend({deceleration:20,maxSpeed:1400},us),Ia=r.extend({deceleration:1e3,maxSpeed:360},us),bo=r.extend({deceleration:1e3,maxSpeed:90},us);class tl{constructor(t){this._map=t,this.clear()}clear(){this._inertiaBuffer=[]}record(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:r.exported.now(),settings:t})}_drainInertiaBuffer(){const t=this._inertiaBuffer,a=r.exported.now();for(;t.length>0&&a-t[0].time>160;)t.shift()}_onMoveEnd(t){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const a={zoom:0,bearing:0,pitch:0,pan:new r.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:p}of this._inertiaBuffer)a.zoom+=p.zoomDelta||0,a.bearing+=p.bearingDelta||0,a.pitch+=p.pitchDelta||0,p.panDelta&&a.pan._add(p.panDelta),p.around&&(a.around=p.around),p.pinchAround&&(a.pinchAround=p.pinchAround);const l=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,_={};if(a.pan.mag()){const p=Fs(a.pan.mag(),l,r.extend({},Qo,t||{}));_.offset=a.pan.mult(p.amount/a.pan.mag()),_.center=this._map.transform.center,zs(_,p)}if(a.zoom){const p=Fs(a.zoom,l,el);_.zoom=this._map.transform.zoom+p.amount,zs(_,p)}if(a.bearing){const p=Fs(a.bearing,l,Ia);_.bearing=this._map.transform.bearing+r.clamp(p.amount,-179,179),zs(_,p)}if(a.pitch){const p=Fs(a.pitch,l,bo);_.pitch=this._map.transform.pitch+p.amount,zs(_,p)}if(_.zoom||_.bearing){const p=void 0===a.pinchAround?a.around:a.pinchAround;_.around=p?this._map.unproject(p):this._map.getCenter()}return this.clear(),r.extend(_,{noMoveStart:!0})}}function zs(c,t){(!c.duration||c.duration<t.duration)&&(c.duration=t.duration,c.easing=t.easing)}function Fs(c,t,a){const{maxSpeed:l,linearity:_,deceleration:p}=a,v=r.clamp(c*_/(t/1e3),-l,l),w=Math.abs(v)/(p*_);return{easing:a.easing,duration:1e3*w,amount:v*(w/2)}}class yi extends r.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,a,l,_={}){const p=U.mousePos(a.getCanvasContainer(),l),v=a.unproject(p);super(t,r.extend({point:p,lngLat:v,originalEvent:l},_)),this._defaultPrevented=!1,this.target=a}}class Rs extends r.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,a,l){const _="touchend"===t?l.changedTouches:l.touches,p=U.touchPos(a.getCanvasContainer(),_),v=p.map(S=>a.unproject(S)),w=p.reduce((S,Y,O,z)=>S.add(Y.div(z.length)),new r.pointGeometry(0,0));super(t,{points:p,point:w,lngLats:v,lngLat:a.unproject(w),originalEvent:l}),this._defaultPrevented=!1}}class ds extends r.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,a,l){super(t,{originalEvent:l}),this._defaultPrevented=!1}}class nl{constructor(t,a){this._map=t,this._clickTolerance=a.clickTolerance}reset(){delete this._mousedownPos}wheel(t){return this._firePreventable(new ds(t.type,this._map,t))}mousedown(t,a){return this._mousedownPos=a,this._firePreventable(new yi(t.type,this._map,t))}mouseup(t){this._map.fire(new yi(t.type,this._map,t))}preclick(t){const a=r.extend({},t);a.type="preclick",this._map.fire(new yi(a.type,this._map,a))}click(t,a){this._mousedownPos&&this._mousedownPos.dist(a)>=this._clickTolerance||(this.preclick(t),this._map.fire(new yi(t.type,this._map,t)))}dblclick(t){return this._firePreventable(new yi(t.type,this._map,t))}mouseover(t){this._map.fire(new yi(t.type,this._map,t))}mouseout(t){this._map.fire(new yi(t.type,this._map,t))}touchstart(t){return this._firePreventable(new Rs(t.type,this._map,t))}touchmove(t){this._map.fire(new Rs(t.type,this._map,t))}touchend(t){this._map.fire(new Rs(t.type,this._map,t))}touchcancel(t){this._map.fire(new Rs(t.type,this._map,t))}_firePreventable(t){if(this._map.fire(t),t.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class il{constructor(t){this._map=t}reset(){this._delayContextMenu=!1,delete this._contextMenuEvent}mousemove(t){this._map.fire(new yi(t.type,this._map,t))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new yi("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(t){this._delayContextMenu?this._contextMenuEvent=t:this._map.fire(new yi(t.type,this._map,t)),this._map.listens("contextmenu")&&t.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Bs{constructor(t,a){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=a.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(t,a){this.isEnabled()&&t.shiftKey&&0===t.button&&(U.disableDrag(),this._startPos=this._lastPos=a,this._active=!0)}mousemoveWindow(t,a){if(!this._active)return;const l=a;if(this._lastPos.equals(l)||!this._box&&l.dist(this._startPos)<this._clickTolerance)return;const _=this._startPos;this._lastPos=l,this._box||(this._box=U.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));const p=Math.min(_.x,l.x),v=Math.max(_.x,l.x),w=Math.min(_.y,l.y),S=Math.max(_.y,l.y);this._map._requestDomTask(()=>{this._box&&(U.setTransform(this._box,`translate(${p}px,${w}px)`),this._box.style.width=v-p+"px",this._box.style.height=S-w+"px")})}mouseupWindow(t,a){if(!this._active||0!==t.button)return;const l=this._startPos,_=a;if(this.reset(),U.suppressClick(),l.x!==_.x||l.y!==_.y)return this._map.fire(new r.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:p=>p.fitScreenCoordinates(l,_,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",t)}keydown(t){this._active&&27===t.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",t))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(U.remove(this._box),this._box=null),U.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(t,a){return this._map.fire(new r.Event(t,{originalEvent:a}))}}function Ya(c,t){const a={};for(let l=0;l<c.length;l++)a[c[l].identifier]=t[l];return a}class rl{constructor(t){this.reset(),this.numTouches=t.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(t,a,l){(this.centroid||l.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),l.length===this.numTouches&&(this.centroid=function(_){const p=new r.pointGeometry(0,0);for(const v of _)p._add(v);return p.div(_.length)}(a),this.touches=Ya(l,a)))}touchmove(t,a,l){if(this.aborted||!this.centroid)return;const _=Ya(l,a);for(const p in this.touches){const v=this.touches[p],w=_[p];(!w||w.dist(v)>30)&&(this.aborted=!0)}}touchend(t,a,l){if((!this.centroid||t.timeStamp-this.startTime>500)&&(this.aborted=!0),0===l.length){const _=!this.aborted&&this.centroid;if(this.reset(),_)return _}}}class Oa{constructor(t){this.singleTap=new rl(t),this.numTaps=t.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(t,a,l){this.singleTap.touchstart(t,a,l)}touchmove(t,a,l){this.singleTap.touchmove(t,a,l)}touchend(t,a,l){const _=this.singleTap.touchend(t,a,l);if(_){const p=t.timeStamp-this.lastTime<500,v=!this.lastTap||this.lastTap.dist(_)<30;if(p&&v||this.reset(),this.count++,this.lastTime=t.timeStamp,this.lastTap=_,this.count===this.numTaps)return this.reset(),_}}}class si{constructor(){this._zoomIn=new Oa({numTouches:1,numTaps:2}),this._zoomOut=new Oa({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(t,a,l){this._zoomIn.touchstart(t,a,l),this._zoomOut.touchstart(t,a,l)}touchmove(t,a,l){this._zoomIn.touchmove(t,a,l),this._zoomOut.touchmove(t,a,l)}touchend(t,a,l){const _=this._zoomIn.touchend(t,a,l),p=this._zoomOut.touchend(t,a,l);return _?(this._active=!0,t.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:v=>v.easeTo({duration:300,zoom:v.getZoom()+1,around:v.unproject(_)},{originalEvent:t})}):p?(this._active=!0,t.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:v=>v.easeTo({duration:300,zoom:v.getZoom()-1,around:v.unproject(p)},{originalEvent:t})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Hl={0:1,2:2};class Ui{constructor(t){this.reset(),this._clickTolerance=t.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(t,a){return!1}_move(t,a){return{}}mousedown(t,a){if(this._lastPoint)return;const l=U.mouseButton(t);this._correctButton(t,l)&&(this._lastPoint=a,this._eventButton=l)}mousemoveWindow(t,a){const l=this._lastPoint;if(l)if(t.preventDefault(),function(_,p){const v=Hl[p];return void 0===_.buttons||(_.buttons&v)!==v}(t,this._eventButton))this.reset();else if(this._moved||!(a.dist(l)<this._clickTolerance))return this._moved=!0,this._lastPoint=a,this._move(l,a)}mouseupWindow(t){this._lastPoint&&U.mouseButton(t)===this._eventButton&&(this._moved&&U.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class sl extends Ui{mousedown(t,a){super.mousedown(t,a),this._lastPoint&&(this._active=!0)}_correctButton(t,a){return 0===a&&!t.ctrlKey}_move(t,a){return{around:a,panDelta:a.sub(t)}}}class ar extends Ui{_correctButton(t,a){return 0===a&&t.ctrlKey||2===a}_move(t,a){const l=.8*(a.x-t.x);if(l)return this._active=!0,{bearingDelta:l}}contextmenu(t){t.preventDefault()}}class Sr extends Ui{_correctButton(t,a){return 0===a&&t.ctrlKey||2===a}_move(t,a){const l=-.5*(a.y-t.y);if(l)return this._active=!0,{pitchDelta:l}}contextmenu(t){t.preventDefault()}}class al{constructor(t,a){this._map=t,this._el=t.getCanvasContainer(),this._minTouches=1,this._clickTolerance=a.clickTolerance||1,this.reset(),r.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new r.pointGeometry(0,0)}touchstart(t,a,l){return this._calculateTransform(t,a,l)}touchmove(t,a,l){if(this._active&&!(l.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===l.length)return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return t.preventDefault(),this._calculateTransform(t,a,l)}}touchend(t,a,l){this._calculateTransform(t,a,l),this._active&&l.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(t,a,l){l.length>0&&(this._active=!0);const _=Ya(l,a),p=new r.pointGeometry(0,0),v=new r.pointGeometry(0,0);let w=0;for(const Y in _){const O=_[Y],z=this._touches[Y];z&&(p._add(O),v._add(O.sub(z)),w++,_[Y]=O)}if(this._touches=_,w<this._minTouches||!v.mag())return;const S=v.div(w);return this._sum._add(S),this._sum.mag()<this._clickTolerance?void 0:{around:p.div(w),panDelta:S}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=U.create("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){"hidden"===this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="visible"),this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show")},500)}}class za{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(t){}_move(t,a,l){return{}}touchstart(t,a,l){this._firstTwoTouches||l.length<2||(this._firstTwoTouches=[l[0].identifier,l[1].identifier],this._start([a[0],a[1]]))}touchmove(t,a,l){if(!this._firstTwoTouches)return;t.preventDefault();const[_,p]=this._firstTwoTouches,v=Hr(l,a,_),w=Hr(l,a,p);if(!v||!w)return;const S=this._aroundCenter?null:v.add(w).div(2);return this._move([v,w],S,t)}touchend(t,a,l){if(!this._firstTwoTouches)return;const[_,p]=this._firstTwoTouches,v=Hr(l,a,_),w=Hr(l,a,p);v&&w||(this._active&&U.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(t){this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Hr(c,t,a){for(let l=0;l<c.length;l++)if(c[l].identifier===a)return t[l]}function Wr(c,t){return Math.log(c/t)/Math.LN2}class Us extends za{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(t){this._startDistance=this._distance=t[0].dist(t[1])}_move(t,a){const l=this._distance;if(this._distance=t[0].dist(t[1]),this._active||!(Math.abs(Wr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Wr(this._distance,l),pinchAround:a}}}function Vr(c,t){return 180*c.angleWith(t)/Math.PI}class di extends za{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(t){this._startVector=this._vector=t[0].sub(t[1]),this._minDiameter=t[0].dist(t[1])}_move(t,a){const l=this._vector;if(this._vector=t[0].sub(t[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Vr(this._vector,l),pinchAround:a}}_isBelowThreshold(t){this._minDiameter=Math.min(this._minDiameter,t.mag());const a=25/(Math.PI*this._minDiameter)*360,l=Vr(t,this._startVector);return Math.abs(l)<a}}function js(c){return Math.abs(c.y)>Math.abs(c.x)}class wo extends za{constructor(t){super(),this._map=t}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}_start(t){this._lastPoints=t,js(t[0].sub(t[1]))&&(this._valid=!1)}_move(t,a,l){const _=t[0].sub(this._lastPoints[0]),p=t[1].sub(this._lastPoints[1]);if(!(this._map._cooperativeGestures&&l.touches.length<3)&&(this._valid=this.gestureBeginsVertically(_,p,l.timeStamp),this._valid))return this._lastPoints=t,this._active=!0,{pitchDelta:(_.y+p.y)/2*-.5}}gestureBeginsVertically(t,a,l){if(void 0!==this._valid)return this._valid;const _=t.mag()>=2,p=a.mag()>=2;if(!_&&!p)return;if(!_||!p)return void 0===this._firstMove&&(this._firstMove=l),l-this._firstMove<100&&void 0;const v=t.y>0==a.y>0;return js(t)&&js(a)&&v}}const Zs={panStep:100,bearingStep:15,pitchStep:10};class ft{constructor(){const t=Zs;this._panStep=t.panStep,this._bearingStep=t.bearingStep,this._pitchStep=t.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(t){if(t.altKey||t.ctrlKey||t.metaKey)return;let a=0,l=0,_=0,p=0,v=0;switch(t.keyCode){case 61:case 107:case 171:case 187:a=1;break;case 189:case 109:case 173:a=-1;break;case 37:t.shiftKey?l=-1:(t.preventDefault(),p=-1);break;case 39:t.shiftKey?l=1:(t.preventDefault(),p=1);break;case 38:t.shiftKey?_=1:(t.preventDefault(),v=-1);break;case 40:t.shiftKey?_=-1:(t.preventDefault(),v=1);break;default:return}return this._rotationDisabled&&(l=0,_=0),{cameraAnimation:w=>{const S=w.getZoom();w.easeTo({duration:300,easeId:"keyboardHandler",easing:ol,zoom:a?Math.round(S)+a*(t.shiftKey?2:1):S,bearing:w.getBearing()+l*this._bearingStep,pitch:w.getPitch()+_*this._pitchStep,offset:[-p*this._panStep,-v*this._panStep],center:w.getCenter()},{originalEvent:t})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function ol(c){return c*(2-c)}const To=4.000244140625;class Ns{constructor(t,a){this._map=t,this._el=t.getCanvasContainer(),this._handler=a,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,r.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert","_isFullscreen"],this)}setZoomRate(t){this._defaultZoomRate=t}setWheelZoomRate(t){this._wheelZoomRate=t}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(t){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(t.ctrlKey||t.metaKey||this.isZooming()||this._isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let a=t.deltaMode===r.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY;const l=r.exported.now(),_=l-(this._lastWheelEventTime||0);this._lastWheelEventTime=l,0!==a&&a%To==0?this._type="wheel":0!==a&&Math.abs(a)<4?this._type="trackpad":_>400?(this._type=null,this._lastValue=a,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(_*a)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,a+=this._lastValue)),t.shiftKey&&a&&(a/=4),this._type&&(this._lastWheelEvent=t,this._delta-=a,this._active||this._start(t)),t.preventDefault()}_onTimeout(t){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(t)}_start(t){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const a=U.mousePos(this._el,t);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:a,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const t=this._map.transform,a=()=>t._terrainEnabled()?t.computeZoomRelativeTo(this._aroundCoord):t.zoom;if(0!==this._delta){const S="wheel"===this._type&&Math.abs(this._delta)>To?this._wheelZoomRate:this._defaultZoomRate;let Y=2/(1+Math.exp(-Math.abs(this._delta*S)));this._delta<0&&0!==Y&&(Y=1/Y);const O=a(),z=Math.pow(2,O),H="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):z;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(H*Y))),"wheel"===this._type&&(this._startZoom=a(),this._easing=this._smoothOutEasing(200)),this._delta=0}const l="number"==typeof this._targetZoom?this._targetZoom:a(),_=this._startZoom,p=this._easing;let v,w=!1;if("wheel"===this._type&&_&&p){const S=Math.min((r.exported.now()-this._lastWheelEventTime)/200,1),Y=p(S);v=r.number(_,l,Y),S<1?this._frameId||(this._frameId=!0):w=!0}else v=l,w=!0;return this._active=!0,w&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!w,zoomDelta:v-a(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(t){let a=r.ease;if(this._prevEase){const l=this._prevEase,_=(r.exported.now()-l.start)/l.duration,p=l.easing(_+.01)-l.easing(_),v=.27/Math.sqrt(p*p+1e-4)*.01,w=Math.sqrt(.0729-v*v);a=r.bezier(v,w,.25,1)}return this._prevEase={start:r.exported.now(),duration:t,easing:a},a}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=U.create("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(r.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_isFullscreen(){return!!r.window.document.fullscreenElement}_showBlockerAlert(){"hidden"===this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="visible"),this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show")},200)}}class Hs{constructor(t,a){this._clickZoom=t,this._tapZoom=a}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class ll{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(t,a){return t.preventDefault(),{cameraAnimation:l=>{l.easeTo({duration:300,zoom:l.getZoom()+(t.shiftKey?-1:1),around:l.unproject(a)},{originalEvent:t})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class cl{constructor(){this._tap=new Oa({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(t,a,l){this._swipePoint||(this._tapTime&&t.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?l.length>0&&(this._swipePoint=a[0],this._swipeTouch=l[0].identifier):this._tap.touchstart(t,a,l))}touchmove(t,a,l){if(this._tapTime){if(this._swipePoint){if(l[0].identifier!==this._swipeTouch)return;const _=a[0],p=_.y-this._swipePoint.y;return this._swipePoint=_,t.preventDefault(),this._active=!0,{zoomDelta:p/128}}}else this._tap.touchmove(t,a,l)}touchend(t,a,l){this._tapTime?this._swipePoint&&0===l.length&&this.reset():this._tap.touchend(t,a,l)&&(this._tapTime=t.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ul{constructor(t,a,l){this._el=t,this._mousePan=a,this._touchPan=l}enable(t){this._inertiaOptions=t||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class dl{constructor(t,a,l){this._pitchWithRotate=t.pitchWithRotate,this._mouseRotate=a,this._mousePitch=l}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class hl{constructor(t,a,l,_){this._el=t,this._touchZoom=a,this._touchRotate=l,this._tapDragZoom=_,this._rotationDisabled=!1,this._enabled=!0}enable(t){this._touchZoom.enable(t),this._rotationDisabled||this._touchRotate.enable(t),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ws=c=>c.zoom||c.drag||c.pitch||c.rotate;class _l extends r.Event{}class Fa{constructor(){this.constants=[1,1,.01],this.radius=0}setup(t,a){const l=r.sub([],a,t);this.radius=r.length(l[2]<0?r.div([],l,this.constants):[l[0],l[1],0])}projectRay(t){r.div(t,t,this.constants),r.normalize(t,t),r.mul$2(t,t,this.constants);const a=r.scale([],t,this.radius);if(a[2]>0){const l=r.scale([],[0,0,1],r.dot(a,[0,0,1])),_=r.scale([],r.normalize([],[a[0],a[1],0]),this.radius),p=r.add([],a,r.scale([],r.sub([],r.add([],_,l),a),2));a[0]=p[0],a[1]=p[1]}return a}}function hs(c){return c.panDelta&&c.panDelta.mag()||c.zoomDelta||c.bearingDelta||c.pitchDelta}class Ra{constructor(t,a){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new tl(t),this._bearingSnap=a.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Fa,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(a),r.bindAll(["handleEvent","handleWindowEvent"],this);const l=this._el;this._listeners=[[l,"touchstart",{passive:!0}],[l,"touchmove",{passive:!1}],[l,"touchend",void 0],[l,"touchcancel",void 0],[l,"mousedown",void 0],[l,"mousemove",void 0],[l,"mouseup",void 0],[r.window.document,"mousemove",{capture:!0}],[r.window.document,"mouseup",void 0],[l,"mouseover",void 0],[l,"mouseout",void 0],[l,"dblclick",void 0],[l,"click",void 0],[l,"keydown",{capture:!1}],[l,"keyup",void 0],[l,"wheel",{passive:!1}],[l,"contextmenu",void 0],[r.window,"blur",void 0]];for(const[_,p,v]of this._listeners)U.addEventListener(_,p,_===r.window.document?this.handleWindowEvent:this.handleEvent,v)}destroy(){for(const[t,a,l]of this._listeners)U.removeEventListener(t,a,t===r.window.document?this.handleWindowEvent:this.handleEvent,l)}_addDefaultHandlers(t){const a=this._map,l=a.getCanvasContainer();this._add("mapEvent",new nl(a,t));const _=a.boxZoom=new Bs(a,t);this._add("boxZoom",_);const p=new si,v=new ll;a.doubleClickZoom=new Hs(v,p),this._add("tapZoom",p),this._add("clickZoom",v);const w=new cl;this._add("tapDragZoom",w);const S=a.touchPitch=new wo(a);this._add("touchPitch",S);const Y=new ar(t),O=new Sr(t);a.dragRotate=new dl(t,Y,O),this._add("mouseRotate",Y,["mousePitch"]),this._add("mousePitch",O,["mouseRotate"]);const z=new sl(t),H=new al(a,t);a.dragPan=new ul(l,z,H),this._add("mousePan",z),this._add("touchPan",H,["touchZoom","touchRotate"]);const K=new di,Q=new Us;a.touchZoomRotate=new hl(l,Q,K,w),this._add("touchRotate",K,["touchPan","touchZoom"]),this._add("touchZoom",Q,["touchPan","touchRotate"]),this._add("blockableMapEvent",new il(a));const $=a.scrollZoom=new Ns(a,this);this._add("scrollZoom",$,["mousePan"]);const ie=a.keyboard=new ft;this._add("keyboard",ie);for(const J of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])t.interactive&&t[J]&&a[J].enable(t[J])}_add(t,a,l){this._handlers.push({handlerName:t,handler:a,allowed:l}),this._handlersById[t]=a}stop(t){if(!this._updatingCamera){for(const{handler:a}of this._handlers)a.reset();this._inertia.clear(),this._fireEvents({},{},t),this._changes=[]}}isActive(){for(const{handler:t}of this._handlers)if(t.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(Ws(this._eventsInProgress))||this.isZooming()}_blockedByActive(t,a,l){for(const _ in t)if(_!==l&&(!a||a.indexOf(_)<0))return!0;return!1}handleWindowEvent(t){this.handleEvent(t,`${t.type}Window`)}_getMapTouches(t){const a=[];for(const l of t)this._el.contains(l.target)&&a.push(l);return a}handleEvent(t,a){this._updatingCamera=!0;const l="renderFrame"===t.type,_=l?void 0:t,p={needsRenderFrame:!1},v={},w={},S=t.touches?this._getMapTouches(t.touches):void 0,Y=S?U.touchPos(this._el,S):l?void 0:U.mousePos(this._el,t);for(const{handlerName:H,handler:K,allowed:Q}of this._handlers){if(!K.isEnabled())continue;let $;this._blockedByActive(w,Q,H)?K.reset():K[a||t.type]&&($=K[a||t.type](t,Y,S),this.mergeHandlerResult(p,v,$,H,_),$&&$.needsRenderFrame&&this._triggerRenderFrame()),($||K.isActive())&&(w[H]=K)}const O={};for(const H in this._previousActiveHandlers)w[H]||(O[H]=_);this._previousActiveHandlers=w,(Object.keys(O).length||hs(p))&&(this._changes.push([p,v,O]),this._triggerRenderFrame()),(Object.keys(w).length||hs(p))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:z}=p;z&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],z(this._map))}mergeHandlerResult(t,a,l,_,p){if(!l)return;r.extend(t,l);const v={handlerName:_,originalEvent:l.originalEvent||p};void 0!==l.zoomDelta&&(a.zoom=v),void 0!==l.panDelta&&(a.drag=v),void 0!==l.pitchDelta&&(a.pitch=v),void 0!==l.bearingDelta&&(a.rotate=v)}_applyChanges(){const t={},a={},l={};for(const[_,p,v]of this._changes)_.panDelta&&(t.panDelta=(t.panDelta||new r.pointGeometry(0,0))._add(_.panDelta)),_.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+_.zoomDelta),_.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+_.bearingDelta),_.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+_.pitchDelta),void 0!==_.around&&(t.around=_.around),void 0!==_.aroundCoord&&(t.aroundCoord=_.aroundCoord),void 0!==_.pinchAround&&(t.pinchAround=_.pinchAround),_.noInertia&&(t.noInertia=_.noInertia),r.extend(a,p),r.extend(l,v);this._updateMapTransform(t,a,l),this._changes=[]}_updateMapTransform(t,a,l){const _=this._map,p=_.transform,v=re=>[re.x,re.y,re.z];if((re=>{const le=this._eventsInProgress.drag;return le&&!this._handlersById[le.handlerName].isActive()})()&&!hs(t)){const re=p.zoom;p.cameraElevationReference="sea",p.recenterOnTerrain(),p.cameraElevationReference="ground",re!==p.zoom&&this._map._update(!0)}if(!hs(t))return this._fireEvents(a,l,!0);let{panDelta:w,zoomDelta:S,bearingDelta:Y,pitchDelta:O,around:z,aroundCoord:H,pinchAround:K}=t;void 0!==K&&(z=K),(re=>a.drag&&!this._eventsInProgress.drag)()&&z&&(this._dragOrigin=v(p.pointCoordinate3D(z)),this._trackingEllipsoid.setup(p._camera.position,this._dragOrigin)),p.cameraElevationReference="sea",_._stop(!0),z=z||_.transform.centerPoint,Y&&(p.bearing+=Y),O&&(p.pitch+=O),p._updateCameraState();const Q=[0,0,0];if(w){const re=p.screenPointToMercatorRay(z),le=p.screenPointToMercatorRay(z.sub(w)),X=this._trackingEllipsoid.projectRay(re.dir),ce=this._trackingEllipsoid.projectRay(le.dir);Q[0]=ce[0]-X[0],Q[1]=ce[1]-X[1]}const $=p.zoom,ie=[0,0,0];if(S){const re=v(H||p.pointCoordinate3D(z)),le={dir:r.normalize([],r.sub([],re,p._camera.position))},X=p.screenPointToMercatorRay(p.centerPoint);if(le.dir[2]<0){const ce=r.altitudeFromMercatorZ(re[2],re[1]),pe=p.rayIntersectionCoordinate(p.pointRayIntersection(p.centerPoint,ce)),Ae=p.zoomDeltaToMovement(v(pe),S)*(X.dir[2]/le.dir[2]);r.scale(ie,le.dir,Ae)}else if(p._terrainEnabled()){const ce=p.zoomDeltaToMovement(re,S);r.scale(ie,le.dir,ce)}}const J=r.add(Q,Q,ie);p._translateCameraConstrained(J),S&&Math.abs(p.zoom-$)>1e-4&&p.recenterOnTerrain(),p.cameraElevationReference="ground",this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(a,l,!0)}_fireEvents(t,a,l){const _=Ws(this._eventsInProgress),p=Ws(t),v={};for(const O in t){const{originalEvent:z}=t[O];this._eventsInProgress[O]||(v[`${O}start`]=z),this._eventsInProgress[O]=t[O]}!_&&p&&this._fireEvent("movestart",p.originalEvent);for(const O in v)this._fireEvent(O,v[O]);p&&this._fireEvent("move",p.originalEvent);for(const O in t){const{originalEvent:z}=t[O];this._fireEvent(O,z)}const w={};let S;for(const O in this._eventsInProgress){const{handlerName:z,originalEvent:H}=this._eventsInProgress[O];this._handlersById[z].isActive()||(delete this._eventsInProgress[O],S=a[z]||H,w[`${O}end`]=S)}for(const O in w)this._fireEvent(O,w[O]);const Y=Ws(this._eventsInProgress);if(l&&(_||p)&&!Y){this._updatingCamera=!0;const O=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),z=H=>0!==H&&-this._bearingSnap<H&&H<this._bearingSnap;O?(z(O.bearing||this._map.getBearing())&&(O.bearing=0),this._map.easeTo(O,{originalEvent:S})):(this._map.fire(new r.Event("moveend",{originalEvent:S})),z(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(t,a){this._map.fire(new r.Event(t,a?{originalEvent:a}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(t=>{delete this._frameId,this.handleEvent(new _l("renderFrame",{timeStamp:t})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const Lo="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class ml extends r.Evented{constructor(t,a){super(),this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=a.bearingSnap,r.bindAll(["_renderFrameCallback"],this)}getCenter(){return new r.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(t,a){return this.jumpTo({center:t},a)}panBy(t,a,l){return t=r.pointGeometry.convert(t).mult(-1),this.panTo(this.transform.center,r.extend({offset:t},a),l)}panTo(t,a,l){return this.easeTo(r.extend({center:t},a),l)}getZoom(){return this.transform.zoom}setZoom(t,a){return this.jumpTo({zoom:t},a),this}zoomTo(t,a,l){return this.easeTo(r.extend({zoom:t},a),l)}zoomIn(t,a){return this.zoomTo(this.getZoom()+1,t,a),this}zoomOut(t,a){return this.zoomTo(this.getZoom()-1,t,a),this}getBearing(){return this.transform.bearing}setBearing(t,a){return this.jumpTo({bearing:t},a),this}getPadding(){return this.transform.padding}setPadding(t,a){return this.jumpTo({padding:t},a),this}rotateTo(t,a,l){return this.easeTo(r.extend({bearing:t},a),l)}resetNorth(t,a){return this.rotateTo(0,r.extend({duration:1e3},t),a),this}resetNorthPitch(t,a){return this.easeTo(r.extend({bearing:0,pitch:0,duration:1e3},t),a),this}snapToNorth(t,a){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,a):this}getPitch(){return this.transform.pitch}setPitch(t,a){return this.jumpTo({pitch:t},a),this}cameraForBounds(t,a){t=r.LngLatBounds.convert(t);const l=a&&a.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),l,a)}_extendCameraOptions(t){const a={top:0,bottom:0,right:0,left:0};if("number"==typeof(t=r.extend({padding:a,offset:[0,0],maxZoom:this.transform.maxZoom},t)).padding){const l=t.padding;t.padding={top:l,bottom:l,right:l,left:l}}return t.padding=r.extend(a,t.padding),t}_cameraForBoxAndBearing(t,a,l,_){const p=this._extendCameraOptions(_),v=this.transform,w=v.padding,S=v.project(r.LngLat.convert(t)),Y=v.project(r.LngLat.convert(a)),O=S.rotate(-r.degToRad(l)),z=Y.rotate(-r.degToRad(l)),H=new r.pointGeometry(Math.max(O.x,z.x),Math.max(O.y,z.y)),K=new r.pointGeometry(Math.min(O.x,z.x),Math.min(O.y,z.y)),Q=H.sub(K),$=(v.width-(w.left+w.right+p.padding.left+p.padding.right))/Q.x,ie=(v.height-(w.top+w.bottom+p.padding.top+p.padding.bottom))/Q.y;if(ie<0||$<0)return void r.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const J=Math.min(v.scaleZoom(v.scale*Math.min($,ie)),p.maxZoom),re="number"==typeof p.offset.x?new r.pointGeometry(p.offset.x,p.offset.y):r.pointGeometry.convert(p.offset),le=new r.pointGeometry((p.padding.left-p.padding.right)/2,(p.padding.top-p.padding.bottom)/2).rotate(l*Math.PI/180),X=re.add(le).mult(v.scale/v.zoomScale(J));return{center:v.unproject(S.add(Y).div(2).sub(X)),zoom:J,bearing:l}}_cameraForBox(t,a,l,_,p){const v=this._extendCameraOptions(p);l=l||0,_=_||0,t=r.LngLat.convert(t),a=r.LngLat.convert(a);const w=this.transform.clone();w.padding=v.padding;const S=this.getFreeCameraOptions(),Y=new r.LngLat(.5*(t.lng+a.lng),.5*(t.lat+a.lat)),O=.5*(l+_);if(w._camera.position[2]<r.mercatorZfromAltitude(O,Y.lat))return void r.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");S.lookAtPoint(Y),w.setFreeCameraOptions(S);const z=r.MercatorCoordinate.fromLngLat(t),H=r.MercatorCoordinate.fromLngLat(a),K=w.pointRayIntersection(w.centerPoint,O),Q=[($=w.rayIntersectionCoordinate(K)).x,$.y,$.z];var $;const ie=w.screenPointToMercatorRay(w.centerPoint);let J,re=0;do{const le=Math.floor(w.zoom),X=1<<le,ce=Math.min(X*z.x,X*H.x),pe=Math.min(X*z.y,X*H.y),Ae=Math.max(X*z.x,X*H.x),Ce=Math.max(X*z.y,X*H.y),Re=new Je([ce,pe,l],[Ae,Ce,_]),Be=j.fromInvProjectionMatrix(w.invProjMatrix,w.worldSize,le);if(2!==Re.intersects(Be)){J&&(w._camera.position=r.scaleAndAdd([],w._camera.position,ie.dir,-J),w._updateStateFromCamera());break}const nt=r.sub([],w._camera.position,Q);J=.5*r.length(nt),w._camera.position=r.scaleAndAdd([],w._camera.position,ie.dir,J);try{w._updateStateFromCamera()}catch(Fe){return void r.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}}while(++re<10);return{center:w.center,zoom:w.zoom,bearing:w.bearing,pitch:w.pitch}}fitBounds(t,a,l){return this._fitInternal(this.cameraForBounds(t,a),a,l)}_raycastElevationBox(t,a){const l=this.transform.elevation;if(!l)return;const _=new r.pointGeometry(t.x,a.y),p=new r.pointGeometry(a.x,t.y),v=l.pointCoordinate(t);if(!v)return;const w=l.pointCoordinate(a);if(!w)return;const S=l.pointCoordinate(_);if(!S)return;const Y=l.pointCoordinate(p);if(!Y)return;const O=new r.MercatorCoordinate(v[0],v[1]).toLngLat(),z=new r.MercatorCoordinate(w[0],w[1]).toLngLat(),H=new r.MercatorCoordinate(S[0],S[1]).toLngLat(),K=new r.MercatorCoordinate(Y[0],Y[1]).toLngLat(),Q=Math.min(O.lng,Math.min(z.lng,Math.min(H.lng,K.lng))),$=Math.min(O.lat,Math.min(z.lat,Math.min(H.lat,K.lat))),ie=Math.max(O.lng,Math.max(z.lng,Math.max(H.lng,K.lng))),J=Math.max(O.lat,Math.max(z.lat,Math.max(H.lat,K.lat))),re=Math.min(v[3],Math.min(w[3],Math.min(S[3],Y[3]))),le=Math.max(v[3],Math.max(w[3],Math.max(S[3],Y[3])));return{minLngLat:new r.LngLat(Q,$),maxLngLat:new r.LngLat(ie,J),minAltitude:re,maxAltitude:le}}fitScreenCoordinates(t,a,l,_,p){let v,w,S,Y;const O=r.pointGeometry.convert(t),z=r.pointGeometry.convert(a),H=this._raycastElevationBox(O,z);if(H)v=H.minLngLat,w=H.maxLngLat,S=H.minAltitude,Y=H.maxAltitude;else{if(this.transform.anyCornerOffEdge(O,z))return this;v=this.transform.pointLocation(O),w=this.transform.pointLocation(z)}return this._fitInternal(0===this.transform.pitch?this._cameraForBoxAndBearing(this.transform.pointLocation(r.pointGeometry.convert(t)),this.transform.pointLocation(r.pointGeometry.convert(a)),l,_):this._cameraForBox(v,w,S,Y,_),_,p)}_fitInternal(t,a,l){return t?(delete(a=r.extend(t,a)).padding,a.linear?this.easeTo(a,l):this.flyTo(a,l)):this}jumpTo(t,a){this.stop();const l=this.transform;let _=!1,p=!1,v=!1;return"zoom"in t&&l.zoom!==+t.zoom&&(_=!0,l.zoom=+t.zoom),void 0!==t.center&&(l.center=r.LngLat.convert(t.center)),"bearing"in t&&l.bearing!==+t.bearing&&(p=!0,l.bearing=+t.bearing),"pitch"in t&&l.pitch!==+t.pitch&&(v=!0,l.pitch=+t.pitch),null==t.padding||l.isPaddingEqual(t.padding)||(l.padding=t.padding),this.fire(new r.Event("movestart",a)).fire(new r.Event("move",a)),_&&this.fire(new r.Event("zoomstart",a)).fire(new r.Event("zoom",a)).fire(new r.Event("zoomend",a)),p&&this.fire(new r.Event("rotatestart",a)).fire(new r.Event("rotate",a)).fire(new r.Event("rotateend",a)),v&&this.fire(new r.Event("pitchstart",a)).fire(new r.Event("pitch",a)).fire(new r.Event("pitchend",a)),this.fire(new r.Event("moveend",a))}getFreeCameraOptions(){return"mercator"!==this.transform.projection.name&&r.warnOnce(Lo),this.transform.getFreeCameraOptions()}setFreeCameraOptions(t,a){const l=this.transform;if("mercator"!==l.projection.name)return void r.warnOnce(Lo);this.stop();const _=l.zoom,p=l.pitch,v=l.bearing;l.setFreeCameraOptions(t);const w=_!==l.zoom,S=p!==l.pitch,Y=v!==l.bearing;return this.fire(new r.Event("movestart",a)).fire(new r.Event("move",a)),w&&this.fire(new r.Event("zoomstart",a)).fire(new r.Event("zoom",a)).fire(new r.Event("zoomend",a)),Y&&this.fire(new r.Event("rotatestart",a)).fire(new r.Event("rotate",a)).fire(new r.Event("rotateend",a)),S&&this.fire(new r.Event("pitchstart",a)).fire(new r.Event("pitch",a)).fire(new r.Event("pitchend",a)),this.fire(new r.Event("moveend",a)),this}easeTo(t,a){this._stop(!1,t.easeId),(!1===(t=r.extend({offset:[0,0],duration:500,easing:r.ease},t)).animate||!t.essential&&r.exported.prefersReducedMotion)&&(t.duration=0);const l=this.transform,_=this.getZoom(),p=this.getBearing(),v=this.getPitch(),w=this.getPadding(),S="zoom"in t?+t.zoom:_,Y="bearing"in t?this._normalizeBearing(t.bearing,p):p,O="pitch"in t?+t.pitch:v,z="padding"in t?t.padding:l.padding,H=r.pointGeometry.convert(t.offset);let K=l.centerPoint.add(H);const Q=l.pointLocation(K),$=r.LngLat.convert(t.center||Q);this._normalizeCenter($);const ie=l.project(Q),J=l.project($).sub(ie),re=l.zoomScale(S-_);let le,X;t.around&&(le=r.LngLat.convert(t.around),X=l.locationPoint(le));const ce={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||S!==_,this._rotating=this._rotating||p!==Y,this._pitching=this._pitching||O!==v,this._padding=!l.isPaddingEqual(z),this._easeId=t.easeId,this._prepareEase(a,t.noMoveStart,ce),this._ease(pe=>{if(this._zooming&&(l.zoom=r.number(_,S,pe)),this._rotating&&(l.bearing=r.number(p,Y,pe)),this._pitching&&(l.pitch=r.number(v,O,pe)),this._padding&&(l.interpolatePadding(w,z,pe),K=l.centerPoint.add(H)),le)l.setLocationAtPoint(le,X);else{const Ae=l.zoomScale(l.zoom-_),Ce=S>_?Math.min(2,re):Math.max(.5,re),Re=Math.pow(Ce,1-pe),Be=l.unproject(ie.add(J.mult(pe*Re)).mult(Ae));l.setLocationAtPoint(l.renderWorldCopies?Be.wrap():Be,K)}this._fireMoveEvents(a)},pe=>{l.recenterOnTerrain(),this._afterEase(a,pe)},t),this}_prepareEase(t,a,l={}){this._moving=!0,this.transform.cameraElevationReference="sea",a||l.moving||this.fire(new r.Event("movestart",t)),this._zooming&&!l.zooming&&this.fire(new r.Event("zoomstart",t)),this._rotating&&!l.rotating&&this.fire(new r.Event("rotatestart",t)),this._pitching&&!l.pitching&&this.fire(new r.Event("pitchstart",t))}_fireMoveEvents(t){this.fire(new r.Event("move",t)),this._zooming&&this.fire(new r.Event("zoom",t)),this._rotating&&this.fire(new r.Event("rotate",t)),this._pitching&&this.fire(new r.Event("pitch",t))}_afterEase(t,a){if(this._easeId&&a&&this._easeId===a)return;delete this._easeId,this.transform.cameraElevationReference="ground";const l=this._zooming,_=this._rotating,p=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,l&&this.fire(new r.Event("zoomend",t)),_&&this.fire(new r.Event("rotateend",t)),p&&this.fire(new r.Event("pitchend",t)),this.fire(new r.Event("moveend",t))}flyTo(t,a){if(!t.essential&&r.exported.prefersReducedMotion){const ut=r.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(ut,a)}this.stop(),t=r.extend({offset:[0,0],speed:1.2,curve:1.42,easing:r.ease},t);const l=this.transform,_=this.getZoom(),p=this.getBearing(),v=this.getPitch(),w=this.getPadding(),S="zoom"in t?r.clamp(+t.zoom,l.minZoom,l.maxZoom):_,Y="bearing"in t?this._normalizeBearing(t.bearing,p):p,O="pitch"in t?+t.pitch:v,z="padding"in t?t.padding:l.padding,H=l.zoomScale(S-_),K=r.pointGeometry.convert(t.offset);let Q=l.centerPoint.add(K);const $=l.pointLocation(Q),ie=r.LngLat.convert(t.center||$);this._normalizeCenter(ie);const J=l.project($),re=l.project(ie).sub(J);let le=t.curve;const X=Math.max(l.width,l.height),ce=X/H,pe=re.mag();if("minZoom"in t){const ut=r.clamp(Math.min(t.minZoom,_,S),l.minZoom,l.maxZoom),gt=X/l.zoomScale(ut-_);le=Math.sqrt(gt/pe*2)}const Ae=le*le;function Ce(ut){const gt=(ce*ce-X*X+(ut?-1:1)*Ae*Ae*pe*pe)/(2*(ut?ce:X)*Ae*pe);return Math.log(Math.sqrt(gt*gt+1)-gt)}function Re(ut){return(Math.exp(ut)-Math.exp(-ut))/2}function Be(ut){return(Math.exp(ut)+Math.exp(-ut))/2}const nt=Ce(0);let Fe=function(ut){return Be(nt)/Be(nt+le*ut)},ct=function(ut){return X*((Be(nt)*(Re(gt=nt+le*ut)/Be(gt))-Re(nt))/Ae)/pe;var gt},Se=(Ce(1)-nt)/le;if(Math.abs(pe)<1e-6||!isFinite(Se)){if(Math.abs(X-ce)<1e-6)return this.easeTo(t,a);const ut=ce<X?-1:1;Se=Math.abs(Math.log(ce/X))/le,ct=function(){return 0},Fe=function(gt){return Math.exp(ut*le*gt)}}return t.duration="duration"in t?+t.duration:1e3*Se/("screenSpeed"in t?+t.screenSpeed/le:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=p!==Y,this._pitching=O!==v,this._padding=!l.isPaddingEqual(z),this._prepareEase(a,!1),this._ease(ut=>{const gt=ut*Se,Dt=1/Fe(gt);l.zoom=1===ut?S:_+l.scaleZoom(Dt),this._rotating&&(l.bearing=r.number(p,Y,ut)),this._pitching&&(l.pitch=r.number(v,O,ut)),this._padding&&(l.interpolatePadding(w,z,ut),Q=l.centerPoint.add(K));const Et=1===ut?ie:l.unproject(J.add(re.mult(ct(gt))).mult(Dt));l.setLocationAtPoint(l.renderWorldCopies?Et.wrap():Et,Q),l._updateCenterElevation(),this._fireMoveEvents(a)},()=>this._afterEase(a),t),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(t,a){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const l=this._onEaseEnd;delete this._onEaseEnd,l.call(this,a)}if(!t){const l=this.handlers;l&&l.stop(!1)}return this}_ease(t,a,l){!1===l.animate||0===l.duration?(t(1),a()):(this._easeStart=r.exported.now(),this._easeOptions=l,this._onEaseFrame=t,this._onEaseEnd=a,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const t=Math.min((r.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(t,a){t=r.wrap(t,-180,180);const l=Math.abs(t-a);return Math.abs(t-360-a)<l&&(t-=360),Math.abs(t+360-a)<l&&(t+=360),t}_normalizeCenter(t){const a=this.transform;if(!a.renderWorldCopies||a.maxBounds)return;const l=t.lng-a.center.lng;t.lng+=l>180?-360:l<-180?360:0}}class ko{constructor(t={}){this.options=t,r.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(t){const a=this.options&&this.options.compact;return this._map=t,this._container=U.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=U.create("button","mapboxgl-ctrl-attrib-button",this._container),U.create("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden",!0),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=U.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),a&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===a&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){U.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(t,a){const l=this._map._getUIString(`AttributionControl.${a}`);t.setAttribute("aria-label",l),t.firstElementChild&&t.firstElementChild.setAttribute("title",l)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));const a=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||r.config.ACCESS_TOKEN}];if(t){const l=a.reduce((_,p,v)=>(p.value&&(_+=`${p.key}=${p.value}${v<a.length-1?"&":""}`),_),"?");t.href=`${r.config.FEEDBACK_URL}/${l}${this._map._hash?this._map._hash.getHashString(!0):""}`,t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}}_updateData(t){!t||"metadata"!==t.sourceDataType&&"visibility"!==t.sourceDataType&&"style"!==t.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map(_=>"string"!=typeof _?"":_)):"string"==typeof this.options.customAttribution&&t.push(this.options.customAttribution)),this._map.style.stylesheet){const _=this._map.style.stylesheet;this.styleOwner=_.owner,this.styleId=_.id}const a=this._map.style._sourceCaches;for(const _ in a){const p=a[_];if(p.used){const v=p.getSource();v.attribution&&t.indexOf(v.attribution)<0&&t.push(v.attribution)}}t.sort((_,p)=>_.length-p.length),t=t.filter((_,p)=>{for(let v=p+1;v<t.length;v++)if(t[v].indexOf(_)>=0)return!1;return!0});const l=t.join(" | ");l!==this._attribHTML&&(this._attribHTML=l,t.length?(this._innerContainer.innerHTML=l,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Do{constructor(){r.bindAll(["_updateLogo"],this),r.bindAll(["_updateCompact"],this)}onAdd(t){this._map=t,this._container=U.create("div","mapboxgl-ctrl");const a=U.create("a","mapboxgl-ctrl-logo");return a.target="_blank",a.rel="noopener nofollow",a.href="https://www.mapbox.com/",a.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),a.setAttribute("rel","noopener nofollow"),this._container.appendChild(a),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){U.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const t=this._map.style._sourceCaches;if(0===Object.entries(t).length)return!0;for(const a in t){const l=t[a].getSource();if(l.hasOwnProperty("mapbox_logo")&&!l.mapbox_logo)return!1}return!0}_updateCompact(){const t=this._container.children;if(t.length){const a=t[0];this._map.getCanvasContainer().offsetWidth<250?a.classList.add("mapboxgl-compact"):a.classList.remove("mapboxgl-compact")}}}class Eo{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(t){const a=++this._id;return this._queue.push({callback:t,id:a,cancelled:!1}),a}remove(t){const a=this._currentlyRunning,l=a?this._queue.concat(a):this._queue;for(const _ of l)if(_.id===t)return void(_.cancelled=!0)}run(t=0){const a=this._currentlyRunning=this._queue;this._queue=[];for(const l of a)if(!l.cancelled&&(l.callback(t),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function So(c,t,a){if(c=new r.LngLat(c.lng,c.lat),t){const l=new r.LngLat(c.lng-360,c.lat),_=new r.LngLat(c.lng+360,c.lat),p=360*Math.ceil(Math.abs(c.lng-a.center.lng)/360),v=a.locationPoint(c).distSqr(t),w=t.x<0||t.y<0||t.x>a.width||t.y>a.height;a.locationPoint(l).distSqr(t)<v&&(w||Math.abs(l.lng-a.center.lng)<p)?c=l:a.locationPoint(_).distSqr(t)<v&&(w||Math.abs(_.lng-a.center.lng)<p)&&(c=_)}for(;Math.abs(c.lng-a.center.lng)>180;){const l=a.locationPoint(c);if(l.x>=0&&l.y>=0&&l.x<=a.width&&l.y<=a.height)break;c.lng>a.center.lng?c.lng-=360:c.lng+=360}return c}const _s={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class Vs extends r.Evented{constructor(t,a){if(super(),(t instanceof r.window.HTMLElement||a)&&(t=r.extend({element:t},a)),r.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=t&&t.anchor||"center",this._color=t&&t.color||"#3FB1CE",this._scale=t&&t.scale||1,this._draggable=t&&t.draggable||!1,this._clickTolerance=t&&t.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=t&&t.rotation||0,this._rotationAlignment=t&&t.rotationAlignment||"auto",this._pitchAlignment=t&&t.pitchAlignment&&"auto"!==t.pitchAlignment?t.pitchAlignment:this._rotationAlignment,t&&t.element)this._element=t.element,this._offset=r.pointGeometry.convert(t&&t.offset||[0,0]);else{this._defaultMarker=!0,this._element=U.create("div"),this._element.setAttribute("aria-label","Map marker");const _=U.createNS("http://www.w3.org/2000/svg","svg"),p=41,v=27;_.setAttributeNS(null,"display","block"),_.setAttributeNS(null,"height",`${p}px`),_.setAttributeNS(null,"width",`${v}px`),_.setAttributeNS(null,"viewBox",`0 0 ${v} ${p}`);const w=U.createNS("http://www.w3.org/2000/svg","g");w.setAttributeNS(null,"stroke","none"),w.setAttributeNS(null,"stroke-width","1"),w.setAttributeNS(null,"fill","none"),w.setAttributeNS(null,"fill-rule","evenodd");const S=U.createNS("http://www.w3.org/2000/svg","g");S.setAttributeNS(null,"fill-rule","nonzero");const Y=U.createNS("http://www.w3.org/2000/svg","g");Y.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Y.setAttributeNS(null,"fill","#000000");const O=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const le of O){const X=U.createNS("http://www.w3.org/2000/svg","ellipse");X.setAttributeNS(null,"opacity","0.04"),X.setAttributeNS(null,"cx","10.5"),X.setAttributeNS(null,"cy","5.80029008"),X.setAttributeNS(null,"rx",le.rx),X.setAttributeNS(null,"ry",le.ry),Y.appendChild(X)}const z=U.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"fill",this._color);const H=U.createNS("http://www.w3.org/2000/svg","path");H.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),z.appendChild(H);const K=U.createNS("http://www.w3.org/2000/svg","g");K.setAttributeNS(null,"opacity","0.25"),K.setAttributeNS(null,"fill","#000000");const Q=U.createNS("http://www.w3.org/2000/svg","path");Q.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),K.appendChild(Q);const $=U.createNS("http://www.w3.org/2000/svg","g");$.setAttributeNS(null,"transform","translate(6.0, 7.0)"),$.setAttributeNS(null,"fill","#FFFFFF");const ie=U.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"transform","translate(8.0, 8.0)");const J=U.createNS("http://www.w3.org/2000/svg","circle");J.setAttributeNS(null,"fill","#000000"),J.setAttributeNS(null,"opacity","0.25"),J.setAttributeNS(null,"cx","5.5"),J.setAttributeNS(null,"cy","5.5"),J.setAttributeNS(null,"r","5.4999962");const re=U.createNS("http://www.w3.org/2000/svg","circle");re.setAttributeNS(null,"fill","#FFFFFF"),re.setAttributeNS(null,"cx","5.5"),re.setAttributeNS(null,"cy","5.5"),re.setAttributeNS(null,"r","5.4999962"),ie.appendChild(J),ie.appendChild(re),S.appendChild(Y),S.appendChild(z),S.appendChild(K),S.appendChild($),S.appendChild(ie),_.appendChild(S),_.setAttributeNS(null,"height",p*this._scale+"px"),_.setAttributeNS(null,"width",v*this._scale+"px"),this._element.appendChild(_),this._offset=r.pointGeometry.convert(t&&t.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",_=>{_.preventDefault()}),this._element.addEventListener("mousedown",_=>{_.preventDefault()});const l=this._element.classList;for(const _ in _s)l.remove(`mapboxgl-marker-anchor-${_}`);l.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),t.on("remove",this._clearFadeTimer),t._addMarker(this),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._map.off("remove",this._clearFadeTimer),this._map._removeMarker(this),delete this._map),this._clearFadeTimer(),U.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=r.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(t){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),t){if(!("offset"in t.options)){const a=38.1,l=13.5,_=Math.sqrt(Math.pow(l,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-a],"bottom-left":[_,-1*(a-l+_)],"bottom-right":[-_,-1*(a-l+_)],left:[l,-1*(a-l)],right:[-l,-1*(a-l)]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(t){const a=t.code,l=t.charCode||t.keyCode;"Space"!==a&&"Enter"!==a&&32!==l&&13!==l||this.togglePopup()}_onMapClick(t){const a=t.originalEvent.target,l=this._element;this._popup&&(a===l||l.contains(a))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const t=this._popup;return t?(t.isOpen()?(t.remove(),this._element.setAttribute("aria-expanded","false")):(t.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_evaluateOpacity(){const t=this._pos?this._pos.sub(this._transformedOffset()):null;if(!this._withinScreenBounds(t))return void this._clearFadeTimer();const a=this._map.unproject(t);let l=!1;if(this._map.transform._terrainEnabled()&&this._map.getTerrain()){const p=this._map.getFreeCameraOptions();if(p.position){const v=p.position.toLngLat();l=v.distanceTo(a)<.9*v.distanceTo(this._lngLat)}}const _=(1-this._map._queryFogOpacity(a))*(l?.2:1);this._element.style.opacity=`${_}`,this._popup&&this._popup._setOpacity(`${_}`),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_withinScreenBounds(t){const a=this._map.transform;return!!t&&t.x>=0&&t.x<a.width&&t.y>=0&&t.y<a.height}_update(t){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=So(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._transformedOffset());let a="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?a=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(a=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let l="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?l="rotateX(0deg)":"map"===this._pitchAlignment&&(l=`rotateX(${this._map.getPitch()}deg)`),t&&"moveend"!==t.type||(this._pos=this._pos.round()),this._map._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&U.setTransform(this._element,`${_s[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${l} ${a}`),!this._map.getTerrain()&&!this._map.getFog()||this._fadeTimer||(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))})}_transformedOffset(){if(!this._defaultMarker)return this._offset;const t=this._map.transform,a=this._offset.mult(this._scale);return"map"===this._rotationAlignment&&a._rotate(t.angle),"map"===this._pitchAlignment&&(a.y*=Math.cos(t._pitch)),a}getOffset(){return this._offset}setOffset(t){return this._offset=r.pointGeometry.convert(t),this._update(),this}_onMove(t){if(!this._isDragging){const a=this._clickTolerance||this._map._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=a}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new r.Event("dragstart"))),this.fire(new r.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new r.Event("dragend")),this._state="inactive"}_addDragHandler(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._transformedOffset()),this._pointerdownPos=t.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(t){return this._rotation=t||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(t){return this._rotationAlignment=t||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(t){return this._pitchAlignment=t&&"auto"!==t?t:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}class pl{constructor(t){this.jumpTo(t)}getValue(t){if(t<=this._startTime)return this._start;if(t>=this._endTime)return this._end;const a=r.easeCubicInOut((t-this._startTime)/(this._endTime-this._startTime));return this._start*(1-a)+this._end*a}isEasing(t){return t>=this._startTime&&t<=this._endTime}jumpTo(t){this._startTime=-1/0,this._endTime=-1/0,this._start=t,this._end=t}easeTo(t,a,l){this._start=this.getValue(a),this._end=t,this._startTime=a,this._endTime=a+l}}const fl={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},{HTMLImageElement:qr,HTMLElement:qs,ImageBitmap:Cr}=r.window,gl={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function Gs(c){c.parentNode&&c.parentNode.removeChild(c)}const yl={showCompass:!0,showZoom:!0,visualizePitch:!1};class Co{constructor(t,a,l=!1){this._clickTolerance=10,this.element=a,this.mouseRotate=new ar({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,l&&(this.mousePitch=new Sr({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),r.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),U.addEventListener(a,"mousedown",this.mousedown),U.addEventListener(a,"touchstart",this.touchstart,{passive:!1}),U.addEventListener(a,"touchmove",this.touchmove),U.addEventListener(a,"touchend",this.touchend),U.addEventListener(a,"touchcancel",this.reset)}down(t,a){this.mouseRotate.mousedown(t,a),this.mousePitch&&this.mousePitch.mousedown(t,a),U.disableDrag()}move(t,a){const l=this.map,_=this.mouseRotate.mousemoveWindow(t,a);if(_&&_.bearingDelta&&l.setBearing(l.getBearing()+_.bearingDelta),this.mousePitch){const p=this.mousePitch.mousemoveWindow(t,a);p&&p.pitchDelta&&l.setPitch(l.getPitch()+p.pitchDelta)}}off(){const t=this.element;U.removeEventListener(t,"mousedown",this.mousedown),U.removeEventListener(t,"touchstart",this.touchstart,{passive:!1}),U.removeEventListener(t,"touchmove",this.touchmove),U.removeEventListener(t,"touchend",this.touchend),U.removeEventListener(t,"touchcancel",this.reset),this.offTemp()}offTemp(){U.enableDrag(),U.removeEventListener(r.window,"mousemove",this.mousemove),U.removeEventListener(r.window,"mouseup",this.mouseup)}mousedown(t){this.down(r.extend({},t,{ctrlKey:!0,preventDefault:()=>t.preventDefault()}),U.mousePos(this.element,t)),U.addEventListener(r.window,"mousemove",this.mousemove),U.addEventListener(r.window,"mouseup",this.mouseup)}mousemove(t){this.move(t,U.mousePos(this.element,t))}mouseup(t){this.mouseRotate.mouseupWindow(t),this.mousePitch&&this.mousePitch.mouseupWindow(t),this.offTemp()}touchstart(t){1!==t.targetTouches.length?this.reset():(this._startPos=this._lastPos=U.touchPos(this.element,t.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>t.preventDefault()},this._startPos))}touchmove(t){1!==t.targetTouches.length?this.reset():(this._lastPos=U.touchPos(this.element,t.targetTouches)[0],this.move({preventDefault:()=>t.preventDefault()},this._lastPos))}touchend(t){0===t.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Po={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1};let or,Ba=0,$s=!1;const Ua={maxWidth:100,unit:"metric"};function Ao(c,t,a){const l=a&&a.maxWidth||100,_=c._container.getBoundingClientRect().height/2,p=c.unproject([0,_]),v=c.unproject([l,_]),w=p.distanceTo(v);if(a&&"imperial"===a.unit){const S=3.2808*w;S>5280?ms(t,l,S/5280,c._getUIString("ScaleControl.Miles"),c):ms(t,l,S,c._getUIString("ScaleControl.Feet"),c)}else a&&"nautical"===a.unit?ms(t,l,w/1852,c._getUIString("ScaleControl.NauticalMiles"),c):w>=1e3?ms(t,l,w/1e3,c._getUIString("ScaleControl.Kilometers"),c):ms(t,l,w,c._getUIString("ScaleControl.Meters"),c)}function ms(c,t,a,l,_){const p=function(w){const S=Math.pow(10,`${Math.floor(w)}`.length-1);let Y=w/S;return Y=Y>=10?10:Y>=5?5:Y>=3?3:Y>=2?2:Y>=1?1:function(O){const z=Math.pow(10,Math.ceil(-Math.log(O)/Math.LN10));return Math.round(O*z)/z}(Y),S*Y}(a),v=p/a;_._requestDomTask(()=>{c.style.width=t*v+"px",c.innerHTML=`${p}&nbsp;${l}`})}const Wl={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Pr=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Gr={version:r.version,supported:T,setRTLTextPlugin:r.setRTLTextPlugin,getRTLTextPluginStatus:r.getRTLTextPluginStatus,Map:class extends ml{constructor(c){if(null!=(c=r.extend({},gl,c)).minZoom&&null!=c.maxZoom&&c.minZoom>c.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=c.minPitch&&null!=c.maxPitch&&c.minPitch>c.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=c.minPitch&&c.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=c.maxPitch&&c.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Mo(c.minZoom,c.maxZoom,c.minPitch,c.maxPitch,c.renderWorldCopies),c),this._interactive=c.interactive,this._maxTileCacheSize=c.maxTileCacheSize,this._failIfMajorPerformanceCaveat=c.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=c.preserveDrawingBuffer,this._antialias=c.antialias,this._trackResize=c.trackResize,this._bearingSnap=c.bearingSnap,this._refreshExpiredTiles=c.refreshExpiredTiles,this._fadeDuration=c.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=c.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=c.collectResourceTiming,this._optimizeForTerrain=c.optimizeForTerrain,this._renderTaskQueue=new Eo,this._domRenderTaskQueue=new Eo,this._controls=[],this._markers=[],this._mapId=r.uniqueId(),this._locale=r.extend({},fl,c.locale),this._clickTolerance=c.clickTolerance,this._cooperativeGestures=c.cooperativeGestures,this._averageElevationLastSampledAt=-1/0,this._averageElevation=new pl(0),this._requestManager=new r.RequestManager(c.transformRequest,c.accessToken,c.testMode),this._silenceAuthErrors=!!c.testMode,"string"==typeof c.container){if(this._container=r.window.document.getElementById(c.container),!this._container)throw new Error(`Container '${c.container}' not found.`)}else{if(!(c.container instanceof qs))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=c.container}if(c.maxBounds&&this.setMaxBounds(c.maxBounds),r.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),void 0!==r.window&&(r.window.addEventListener("online",this._onWindowOnline,!1),r.window.addEventListener("resize",this._onWindowResize,!1),r.window.addEventListener("orientationchange",this._onWindowResize,!1),r.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1)),this.handlers=new Ra(this,c),this._localFontFamily=c.localFontFamily,this._localIdeographFontFamily=c.localIdeographFontFamily,c.style&&this.setStyle(c.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),c.projection&&this.setProjection(c.projection),this._hash=c.hash&&new Aa("string"==typeof c.hash&&c.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:c.center,zoom:c.zoom,bearing:c.bearing,pitch:c.pitch}),c.bounds&&(this.resize(),this.fitBounds(c.bounds,r.extend({},c.fitBoundsOptions,{duration:0})))),this.resize(),c.attributionControl&&this.addControl(new ko({customAttribution:c.customAttribution})),this._logoControl=new Do,this.addControl(this._logoControl,c.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",t=>{this._update("style"===t.dataType),this.fire(new r.Event(`${t.dataType}data`,t))}),this.on("dataloading",t=>{this.fire(new r.Event(`${t.dataType}dataloading`,t))})}_getMapId(){return this._mapId}addControl(c,t){if(void 0===t&&(t=c.getDefaultPosition?c.getDefaultPosition():"top-right"),!c||!c.onAdd)return this.fire(new r.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const a=c.onAdd(this);this._controls.push(c);const l=this._controlPositions[t];return-1!==t.indexOf("bottom")?l.insertBefore(a,l.firstChild):l.appendChild(a),this}removeControl(c){if(!c||!c.onRemove)return this.fire(new r.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const t=this._controls.indexOf(c);return t>-1&&this._controls.splice(t,1),c.onRemove(this),this}hasControl(c){return this._controls.indexOf(c)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(c){const[t,a]=this._containerDimensions();if(t===this.transform.width&&a===this.transform.height)return this;this._resizeCanvas(t,a),this.transform.resize(t,a),this.painter.resize(Math.ceil(t),Math.ceil(a));const l=!this._moving;return l&&this.fire(new r.Event("movestart",c)).fire(new r.Event("move",c)),this.fire(new r.Event("resize",c)),l&&this.fire(new r.Event("moveend",c)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(c){return this.transform.setMaxBounds(r.LngLatBounds.convert(c)),this._update()}setMinZoom(c){if((c=null==c?-2:c)>=-2&&c<=this.transform.maxZoom)return this.transform.minZoom=c,this._update(),this.getZoom()<c?this.setZoom(c):this.fire(new r.Event("zoomstart")).fire(new r.Event("zoom")).fire(new r.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(c){if((c=null==c?22:c)>=this.transform.minZoom)return this.transform.maxZoom=c,this._update(),this.getZoom()>c?this.setZoom(c):this.fire(new r.Event("zoomstart")).fire(new r.Event("zoom")).fire(new r.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(c){if((c=null==c?0:c)<0)throw new Error("minPitch must be greater than or equal to 0");if(c>=0&&c<=this.transform.maxPitch)return this.transform.minPitch=c,this._update(),this.getPitch()<c?this.setPitch(c):this.fire(new r.Event("pitchstart")).fire(new r.Event("pitch")).fire(new r.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(c){if((c=null==c?85:c)>85)throw new Error("maxPitch must be less than or equal to 85");if(c>=this.transform.minPitch)return this.transform.maxPitch=c,this._update(),this.getPitch()>c?this.setPitch(c):this.fire(new r.Event("pitchstart")).fire(new r.Event("pitch")).fire(new r.Event("pitchend")),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(c){return this.transform.renderWorldCopies=c,this._update()}getProjection(){return this.transform.getProjection()}setProjection(c){this._lazyInitEmptyStyle(),"string"==typeof c&&(c={name:c}),this._runtimeProjection=c,this.style.updateProjection()}project(c){return this.transform.locationPoint3D(r.LngLat.convert(c))}unproject(c){return this.transform.pointLocation3D(r.pointGeometry.convert(c))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()}_createDelegatedListener(c,t,a){if("mouseenter"===c||"mouseover"===c){let l=!1;const _=v=>{const w=t.filter(Y=>this.getLayer(Y)),S=w.length?this.queryRenderedFeatures(v.point,{layers:w}):[];S.length?l||(l=!0,a.call(this,new yi(c,this,v.originalEvent,{features:S}))):l=!1},p=()=>{l=!1};return{layers:new Set(t),listener:a,delegates:{mousemove:_,mouseout:p}}}if("mouseleave"===c||"mouseout"===c){let l=!1;const _=v=>{const w=t.filter(S=>this.getLayer(S));(w.length?this.queryRenderedFeatures(v.point,{layers:w}):[]).length?l=!0:l&&(l=!1,a.call(this,new yi(c,this,v.originalEvent)))},p=v=>{l&&(l=!1,a.call(this,new yi(c,this,v.originalEvent)))};return{layers:new Set(t),listener:a,delegates:{mousemove:_,mouseout:p}}}{const l=_=>{const p=t.filter(w=>this.getLayer(w)),v=p.length?this.queryRenderedFeatures(_.point,{layers:p}):[];v.length&&(_.features=v,a.call(this,_),delete _.features)};return{layers:new Set(t),listener:a,delegates:{[c]:l}}}}on(c,t,a){if(void 0===a)return super.on(c,t);Array.isArray(t)||(t=[t]);const l=this._createDelegatedListener(c,t,a);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[c]=this._delegatedListeners[c]||[],this._delegatedListeners[c].push(l);for(const _ in l.delegates)this.on(_,l.delegates[_]);return this}once(c,t,a){if(void 0===a)return super.once(c,t);Array.isArray(t)||(t=[t]);const l=this._createDelegatedListener(c,t,a);for(const _ in l.delegates)this.once(_,l.delegates[_]);return this}off(c,t,a){if(void 0===a)return super.off(c,t);t=new Set(Array.isArray(t)?t:[t]);const l=(p,v)=>{if(p.size!==v.size)return!1;for(const w of p)if(!v.has(w))return!1;return!0},_=this._delegatedListeners?this._delegatedListeners[c]:void 0;return _&&(p=>{for(let v=0;v<p.length;v++){const w=p[v];if(w.listener===a&&l(w.layers,t)){for(const S in w.delegates)this.off(S,w.delegates[S]);return p.splice(v,1),this}}})(_),this}queryRenderedFeatures(c,t){return this.style?(void 0!==t||void 0===c||c instanceof r.pointGeometry||Array.isArray(c)||(t=c,c=void 0),this.style.queryRenderedFeatures(c=c||[[0,0],[this.transform.width,this.transform.height]],t=t||{},this.transform)):[]}querySourceFeatures(c,t){return this.style.querySourceFeatures(c,t)}queryTerrainElevation(c,t){const a=this.transform.elevation;return a?(t=r.extend({},{exaggerated:!0},t),a.getAtPoint(r.MercatorCoordinate.fromLngLat(c),null,t.exaggerated)):null}setStyle(c,t){return!1!==(t=r.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},t)).diff&&t.localIdeographFontFamily===this._localIdeographFontFamily&&t.localFontFamily===this._localFontFamily&&this.style&&c?(this._diffStyle(c,t),this):(this._localIdeographFontFamily=t.localIdeographFontFamily,this._localFontFamily=t.localFontFamily,this._updateStyle(c,t))}_getUIString(c){const t=this._locale[c];if(null==t)throw new Error(`Missing UI string '${c}'`);return t}_updateStyle(c,t){return this.style&&(this.style.setEventedParent(null),this.style._remove(),delete this.style),c&&(this.style=new Ai(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof c?this.style.loadURL(c):this.style.loadJSON(c)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Ai(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(c,t){if("string"==typeof c){const a=this._requestManager.normalizeStyleURL(c),l=this._requestManager.transformRequest(a,r.ResourceType.Style);r.getJSON(l,(_,p)=>{_?this.fire(new r.ErrorEvent(_)):p&&this._updateDiff(p,t)})}else"object"==typeof c&&this._updateDiff(c,t)}_updateDiff(c,t){try{this.style.setState(c)&&this._update(!0)}catch(a){r.warnOnce(`Unable to perform style diff: ${a.message||a.error||a}.  Rebuilding the style from scratch.`),this._updateStyle(c,t)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():r.warnOnce("There is no style added to the map.")}addSource(c,t){return this._lazyInitEmptyStyle(),this.style.addSource(c,t),this._update(!0)}isSourceLoaded(c){const t=this.style&&this.style._getSourceCaches(c);if(0!==t.length)return t.every(a=>a.loaded());this.fire(new r.ErrorEvent(new Error(`There is no source with ID '${c}'`)))}areTilesLoaded(){const c=this.style&&this.style._sourceCaches;for(const t in c){const a=c[t]._tiles;for(const l in a){const _=a[l];if("loaded"!==_.state&&"errored"!==_.state)return!1}}return!0}addSourceType(c,t,a){return this._lazyInitEmptyStyle(),this.style.addSourceType(c,t,a)}removeSource(c){return this.style.removeSource(c),this._updateTerrain(),this._update(!0)}getSource(c){return this.style.getSource(c)}addImage(c,t,{pixelRatio:a=1,sdf:l=!1,stretchX:_,stretchY:p,content:v}={}){if(this._lazyInitEmptyStyle(),t instanceof qr||Cr&&t instanceof Cr){const{width:w,height:S,data:Y}=r.exported.getImageData(t);this.style.addImage(c,{data:new r.RGBAImage({width:w,height:S},Y),pixelRatio:a,stretchX:_,stretchY:p,content:v,sdf:l,version:0})}else{if(void 0===t.width||void 0===t.height)return this.fire(new r.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:w,height:S,data:Y}=t,O=t;this.style.addImage(c,{data:new r.RGBAImage({width:w,height:S},new Uint8Array(Y)),pixelRatio:a,stretchX:_,stretchY:p,content:v,sdf:l,version:0,userImage:O}),O.onAdd&&O.onAdd(this,c)}}}updateImage(c,t){const a=this.style.getImage(c);if(!a)return this.fire(new r.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const l=t instanceof qr||Cr&&t instanceof Cr?r.exported.getImageData(t):t,{width:_,height:p,data:v}=l;return void 0===_||void 0===p?this.fire(new r.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):_!==a.data.width||p!==a.data.height?this.fire(new r.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(a.data.replace(v,!(t instanceof qr||Cr&&t instanceof Cr)),void this.style.updateImage(c,a))}hasImage(c){return c?!!this.style.getImage(c):(this.fire(new r.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(c){this.style.removeImage(c)}loadImage(c,t){r.getImage(this._requestManager.transformRequest(c,r.ResourceType.Image),(a,l)=>{t(a,l instanceof qr?r.exported.getImageData(l):l)})}listImages(){return this.style.listImages()}addLayer(c,t){return this._lazyInitEmptyStyle(),this.style.addLayer(c,t),this._update(!0)}moveLayer(c,t){return this.style.moveLayer(c,t),this._update(!0)}removeLayer(c){return this.style.removeLayer(c),this._update(!0)}getLayer(c){return this.style.getLayer(c)}setLayerZoomRange(c,t,a){return this.style.setLayerZoomRange(c,t,a),this._update(!0)}setFilter(c,t,a={}){return this.style.setFilter(c,t,a),this._update(!0)}getFilter(c){return this.style.getFilter(c)}setPaintProperty(c,t,a,l={}){return this.style.setPaintProperty(c,t,a,l),this._update(!0)}getPaintProperty(c,t){return this.style.getPaintProperty(c,t)}setLayoutProperty(c,t,a,l={}){return this.style.setLayoutProperty(c,t,a,l),this._update(!0)}getLayoutProperty(c,t){return this.style.getLayoutProperty(c,t)}setLight(c,t={}){return this._lazyInitEmptyStyle(),this.style.setLight(c,t),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(c){return this._lazyInitEmptyStyle(),this.style.setTerrain(c),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(c){return this._lazyInitEmptyStyle(),this.style.setFog(c),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(c){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(r.LngLat.convert(c),this.transform):0}setFeatureState(c,t){return this.style.setFeatureState(c,t),this._update()}removeFeatureState(c,t){return this.style.removeFeatureState(c,t),this._update()}getFeatureState(c){return this.style.getFeatureState(c)}_containerDimensions(){let c=0,t=0;return this._container&&(c=this._container.getBoundingClientRect().width||400,t=this._container.getBoundingClientRect().height||300),[c,t]}_detectMissingCSS(){"rgb(250, 128, 114)"!==r.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&r.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const c=this._container;c.classList.add("mapboxgl-map"),(this._missingCSSCanary=U.create("div","mapboxgl-canary",c)).style.visibility="hidden",this._detectMissingCSS();const t=this._canvasContainer=U.create("div","mapboxgl-canvas-container",c);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=U.create("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const a=this._containerDimensions();this._resizeCanvas(a[0],a[1]);const l=this._controlContainer=U.create("div","mapboxgl-control-container",c),_=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(p=>{_[p]=U.create("div",`mapboxgl-ctrl-${p}`,l)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(c,t){const a=r.exported.devicePixelRatio||1;this._canvas.width=a*Math.ceil(c),this._canvas.height=a*Math.ceil(t),this._canvas.style.width=`${c}px`,this._canvas.style.height=`${t}px`}_addMarker(c){this._markers.push(c)}_removeMarker(c){const t=this._markers.indexOf(c);-1!==t&&this._markers.splice(t,1)}_setupPainter(){const c=r.extend({},T.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),t=this._canvas.getContext("webgl",c)||this._canvas.getContext("experimental-webgl",c);t?(r.storeAuthState(t,!0),this.painter=new Ko(t,this.transform),this.on("data",a=>{"source"===a.dataType&&this.painter.setTileLoadedFlag(!0)}),r.exported$1.testSupport(t)):this.fire(new r.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(c){c.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new r.Event("webglcontextlost",{originalEvent:c}))}_contextRestored(c){this._setupPainter(),this.resize(),this._update(),this.fire(new r.Event("webglcontextrestored",{originalEvent:c}))}_onMapScroll(c){if(c.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(c){return this.style?(this._styleDirty=this._styleDirty||c,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(c){return this._update(),this._renderTaskQueue.add(c)}_cancelRenderFrame(c){this._renderTaskQueue.remove(c)}_requestDomTask(c){!this.loaded()||this.loaded()&&!this.isMoving()?c():this._domRenderTaskQueue.add(c)}_render(c){let t;const a=this.painter.context.extTimerQuery,l=r.exported.now();this.listens("gpu-timing-frame")&&(t=a.createQueryEXT(),a.beginQueryEXT(a.TIME_ELAPSED_EXT,t));let _=this._updateAverageElevation(l);if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(c),this._domRenderTaskQueue.run(c),this._removed)return;let p=!1;const v=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const S=this.transform.zoom,Y=this.transform.pitch,O=r.exported.now();this.style.zoomHistory.update(S,O);const z=new r.EvaluationParameters(S,{now:O,fadeDuration:v,pitch:Y,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),H=z.crossFadingFactor();1===H&&H===this._crossFadingFactor||(p=!0,this._crossFadingFactor=H),this.style.update(z)}if(this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),this.style._updateSources(this.transform),this._forceMarkerUpdate()),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,v,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:v,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),speedIndexTiming:this.speedIndexTiming}),this.fire(new r.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new r.Event("load"))),this.style&&(this.style.hasTransitions()||p)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const S=r.exported.now()-l;a.endQueryEXT(a.TIME_ELAPSED_EXT,t),setTimeout(()=>{const Y=a.getQueryObjectEXT(t,a.QUERY_RESULT_EXT)/1e6;a.deleteQueryEXT(t),this.fire(new r.Event("gpu-timing-frame",{cpuTime:S,gpuTime:Y}))},50)}if(this.listens("gpu-timing-layer")){const S=this.painter.collectGpuTimers();setTimeout(()=>{const Y=this.painter.queryGpuTimers(S);this.fire(new r.Event("gpu-timing-layer",{layerTimes:Y}))},50)}const w=this._sourcesDirty||this._styleDirty||this._placementDirty||_;if(w||this._repaint)this.triggerRepaint();else{const S=!this.isMoving()&&this.loaded();if(S&&(_=this._updateAverageElevation(l,!0)),_)this.triggerRepaint();else if(this._triggerFrame(!1),S&&(this.fire(new r.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const Y=this._calculateSpeedIndex();this.fire(new r.Event("speedindexcompleted",{speedIndex:Y})),this.speedIndexTiming=!1}}return!this._loaded||this._fullyLoaded||w||(this._fullyLoaded=!0,this._authenticate()),this}_forceMarkerUpdate(){for(const c of this._markers)c._update()}_updateAverageElevation(c,t=!1){const a=l=>(this.transform.averageElevation=l,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&a(0);if((t||c-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(c)){const l=this.transform.averageElevation;let _=this.transform.sampleAverageElevation();isNaN(_)?_=0:this._averageElevationLastSampledAt=c;const p=Math.abs(l-_);if(p>1){if(this._isInitialLoad)return this._averageElevation.jumpTo(_),a(_);this._averageElevation.easeTo(_,c,300)}else if(p>1e-4)return this._averageElevation.jumpTo(_),a(_)}return!!this._averageElevation.isEasing(c)&&a(this._averageElevation.getValue(c))}_authenticate(){r.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,c=>{if(c&&(c.message===r.AUTH_ERR_MSG||401===c.status)){const t=this.painter.context.gl;r.storeAuthState(t,!1),this._logoControl instanceof Do&&this._logoControl._updateLogo(),t&&t.clear(t.DEPTH_BUFFER_BIT|t.COLOR_BUFFER_BIT|t.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new r.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),r.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}_calculateSpeedIndex(){const c=this.painter.canvasCopy(),t=this.painter.getCanvasCopiesAndTimestamps();t.timeStamps.push(performance.now());const a=this.painter.context.gl,l=a.createFramebuffer();function _(p){a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,p,0);const v=new Uint8Array(a.drawingBufferWidth*a.drawingBufferHeight*4);return a.readPixels(0,0,a.drawingBufferWidth,a.drawingBufferHeight,a.RGBA,a.UNSIGNED_BYTE,v),v}return a.bindFramebuffer(a.FRAMEBUFFER,l),this._canvasPixelComparison(_(c),t.canvasCopies.map(_),t.timeStamps)}_canvasPixelComparison(c,t,a){let l=a[1]-a[0];const _=c.length/4;for(let p=0;p<t.length;p++){const v=t[p];let w=0;for(let S=0;S<v.length;S+=4)v[S]===c[S]&&v[S+1]===c[S+1]&&v[S+2]===c[S+2]&&v[S+3]===c[S+3]&&(w+=1);l+=(a[p+2]-a[p+1])*(1-w/_)}return l}remove(){this._hash&&this._hash.remove();for(const t of this._controls)t.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.clearWorkerCaches(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==r.window&&(r.window.removeEventListener("resize",this._onWindowResize,!1),r.window.removeEventListener("orientationchange",this._onWindowResize,!1),r.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),r.window.removeEventListener("online",this._onWindowOnline,!1));const c=this.painter.context.gl.getExtension("WEBGL_lose_context");c&&c.loseContext(),Gs(this._canvasContainer),Gs(this._controlContainer),Gs(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),r.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new r.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(c){this._renderNextFrame=this._renderNextFrame||c,this.style&&!this._frame&&(this._frame=r.exported.frame(t=>{const a=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,a&&this._render(t)}))}_onWindowOnline(){this._update()}_onWindowResize(c){this._trackResize&&this.resize({originalEvent:c})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(c){this._showTileBoundaries!==c&&(this._showTileBoundaries=c,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(c){this._showTerrainWireframe!==c&&(this._showTerrainWireframe=c,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(c){this._speedIndexTiming!==c&&(this._speedIndexTiming=c,this._update())}get showPadding(){return!!this._showPadding}set showPadding(c){this._showPadding!==c&&(this._showPadding=c,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(c){this._showCollisionBoxes!==c&&(this._showCollisionBoxes=c,c?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(c){this._showOverdrawInspector!==c&&(this._showOverdrawInspector=c,this._update())}get repaint(){return!!this._repaint}set repaint(c){this._repaint!==c&&(this._repaint=c,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(c){this._vertices=c,this._update()}_setCacheLimits(c,t){r.setCacheLimits(c,t)}get version(){return r.version}},NavigationControl:class{constructor(c){this.options=r.extend({},yl,c),this._container=U.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",t=>t.preventDefault()),this.options.showZoom&&(r.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",t=>this._map.zoomIn({},{originalEvent:t})),U.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",t=>this._map.zoomOut({},{originalEvent:t})),U.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(r.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",t=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:t}):this._map.resetNorth({},{originalEvent:t})}),this._compassIcon=U.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))}_updateZoomButtons(){const c=this._map.getZoom(),t=c===this._map.getMaxZoom(),a=c===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=a,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",a.toString())}_rotateCompassArrow(){const c=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._map._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=c)})}onAdd(c){return this._map=c,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Co(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){U.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(c,t){const a=U.create("button",c,this._container);return a.type="button",a.addEventListener("click",t),a}_setButtonTitle(c,t){const a=this._map._getUIString(`NavigationControl.${t}`);c.setAttribute("aria-label",a),c.firstElementChild&&c.firstElementChild.setAttribute("title",a)}},GeolocateControl:class extends r.Evented{constructor(c){super(),this.options=r.extend({},Po,c),r.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation"],this),this._onDeviceOrientationListener=this._onDeviceOrientation.bind(this),this._updateMarkerRotationThrottled=Pa(this._updateMarkerRotation,20)}onAdd(c){var t;return this._map=c,this._container=U.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),t=this._setupUI,void 0!==or?t(or):void 0!==r.window.navigator.permissions?r.window.navigator.permissions.query({name:"geolocation"}).then(a=>{or="denied"!==a.state,t(or)}):(or=!!r.window.navigator.geolocation,t(or)),this._container}onRemove(){void 0!==this._geolocationWatchID&&(r.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),U.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ba=0,$s=!1}_isOutOfMapMaxBounds(c){const t=this._map.getMaxBounds(),a=c.coords;return t&&(a.longitude<t.getWest()||a.longitude>t.getEast()||a.latitude<t.getSouth()||a.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(c){if(this._map){if(this._isOutOfMapMaxBounds(c))return this._setErrorState(),this.fire(new r.Event("outofmaxbounds",c)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=c,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(c),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(c),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new r.Event("geolocate",c)),this._finish()}}_updateCamera(c){const t=new r.LngLat(c.coords.longitude,c.coords.latitude),a=c.coords.accuracy,l=this._map.getBearing(),_=r.extend({bearing:l},this.options.fitBoundsOptions);this._map.fitBounds(t.toBounds(a),_,{geolocateSource:!0})}_updateMarker(c){if(c){const t=new r.LngLat(c.coords.longitude,c.coords.latitude);this._accuracyCircleMarker.setLngLat(t).addTo(this._map),this._userLocationDotMarker.setLngLat(t).addTo(this._map),this._accuracy=c.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const c=this._map._container.getBoundingClientRect().height/2,t=this._map.unproject([0,c]),a=this._map.unproject([100,c]),l=t.distanceTo(a)/100,_=Math.ceil(2*this._accuracy/l);this._circleElement.style.width=`${_}px`,this._circleElement.style.height=`${_}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(c){if(this._map){if(this.options.trackUserLocation)if(1===c.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",t),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",t),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===c.code&&$s)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new r.Event("error",c)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(c){if(this._container.addEventListener("contextmenu",t=>t.preventDefault()),this._geolocateButton=U.create("button","mapboxgl-ctrl-geolocate",this._container),U.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===c){r.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",t),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",t)}else{const t=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",t),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",t)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=U.create("div","mapboxgl-user-location"),this._dotElement.appendChild(U.create("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(U.create("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new Vs({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=U.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Vs({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",t=>{t.geolocateSource||"ACTIVE_LOCK"!==this._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new r.Event("trackuserlocationend")))})}_onDeviceOrientation(c){this._userLocationDotMarker&&(c.webkitCompassHeading?this._heading=c.webkitCompassHeading:!0===c.absolute&&(this._heading=-1*c.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return r.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new r.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ba--,$s=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new r.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new r.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let c;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Ba++,Ba>1?(c={maximumAge:6e5,timeout:0},$s=!0):(c=this.options.positionOptions,$s=!1),this._geolocationWatchID=r.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,c),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else r.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const c=()=>{r.window.addEventListener("ondeviceorientationabsolute"in r.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientationListener)};void 0!==r.window.DeviceMotionEvent&&"function"==typeof r.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(t=>{"granted"===t&&c()}).catch(console.error):c()}_clearWatch(){r.window.navigator.geolocation.clearWatch(this._geolocationWatchID),r.window.removeEventListener("deviceorientation",this._onDeviceOrientationListener),r.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientationListener),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:ko,ScaleControl:class{constructor(c){this.options=r.extend({},Ua,c),r.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){Ao(this._map,this._container,this.options)}onAdd(c){return this._map=c,this._container=U.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",c.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){U.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(c){this.options.unit=c,Ao(this._map,this._container,this.options)}},FullscreenControl:class{constructor(c){this._fullscreen=!1,c&&c.container&&(c.container instanceof r.window.HTMLElement?this._container=c.container:r.warnOnce("Full screen control 'container' must be a DOM element.")),r.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in r.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in r.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(c){return this._map=c,this._container||(this._container=this._map.getContainer()),this._controlContainer=U.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",r.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){U.remove(this._controlContainer),this._map=null,r.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!r.window.document.fullscreenEnabled&&!r.window.document.webkitFullscreenEnabled)}_setupUI(){const c=this._fullscreenButton=U.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);U.create("span","mapboxgl-ctrl-icon",c).setAttribute("aria-hidden",!0),c.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),r.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const c=this._getTitle();this._fullscreenButton.setAttribute("aria-label",c),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",c)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(r.window.document.fullscreenElement||r.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?r.window.document.exitFullscreen?r.window.document.exitFullscreen():r.window.document.webkitCancelFullScreen&&r.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends r.Evented{constructor(c){super(),this.options=r.extend(Object.create(Wl),c),r.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this),this._classList=new Set(c&&c.className?c.className.trim().split(/\s+/):[])}addTo(c){return this._map&&this.remove(),this._map=c,this.options.closeOnClick&&this._map.on("preclick",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new r.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&U.remove(this._content),this._container&&(U.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new r.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=r.LngLat.convert(c),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(c){return this.setDOMContent(r.window.document.createTextNode(c))}setHTML(c){const t=r.window.document.createDocumentFragment(),a=r.window.document.createElement("body");let l;for(a.innerHTML=c;l=a.firstChild,l;)t.appendChild(l);return this.setDOMContent(t)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(c){return this.options.maxWidth=c,this._update(),this}setDOMContent(c){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=U.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(c),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(c){return this._classList.add(c),this._container&&this._updateClassList(),this}removeClassName(c){return this._classList.delete(c),this._container&&this._updateClassList(),this}setOffset(c){return this.options.offset=c,this._update(),this}toggleClassName(c){let t;return this._classList.delete(c)?t=!1:(this._classList.add(c),t=!0),this._container&&this._updateClassList(),t}_createCloseButton(){this.options.closeButton&&(this._closeButton=U.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.setAttribute("aria-hidden","true"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(c){this._update(c.point)}_onMouseMove(c){this._update(c.point)}_onDrag(c){this._update(c.point)}_getAnchor(c){if(this.options.anchor)return this.options.anchor;const t=this._pos,a=this._container.offsetWidth,l=this._container.offsetHeight;let _;return _=t.y+c.bottom.y<l?["top"]:t.y>this._map.transform.height-l?["bottom"]:[],t.x<a/2?_.push("left"):t.x>this._map.transform.width-a/2&&_.push("right"),0===_.length?"bottom":_.join("-")}_updateClassList(){const c=[...this._classList];c.push("mapboxgl-popup"),this._anchor&&c.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&c.push("mapboxgl-popup-track-pointer"),this._container.className=c.join(" ")}_update(c){if(this._map&&(this._lngLat||this._trackPointer)&&this._content){if(this._container||(this._container=U.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=U.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content)),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=So(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||c){const t=this._pos=this._trackPointer&&c?c:this._map.project(this._lngLat),a=function(p){if(p||(p=new r.pointGeometry(0,0)),"number"==typeof p){const v=Math.round(Math.sqrt(.5*Math.pow(p,2)));return{center:new r.pointGeometry(0,0),top:new r.pointGeometry(0,p),"top-left":new r.pointGeometry(v,v),"top-right":new r.pointGeometry(-v,v),bottom:new r.pointGeometry(0,-p),"bottom-left":new r.pointGeometry(v,-v),"bottom-right":new r.pointGeometry(-v,-v),left:new r.pointGeometry(p,0),right:new r.pointGeometry(-p,0)}}if(p instanceof r.pointGeometry||Array.isArray(p)){const v=r.pointGeometry.convert(p);return{center:v,top:v,"top-left":v,"top-right":v,bottom:v,"bottom-left":v,"bottom-right":v,left:v,right:v}}return{center:r.pointGeometry.convert(p.center||[0,0]),top:r.pointGeometry.convert(p.top||[0,0]),"top-left":r.pointGeometry.convert(p["top-left"]||[0,0]),"top-right":r.pointGeometry.convert(p["top-right"]||[0,0]),bottom:r.pointGeometry.convert(p.bottom||[0,0]),"bottom-left":r.pointGeometry.convert(p["bottom-left"]||[0,0]),"bottom-right":r.pointGeometry.convert(p["bottom-right"]||[0,0]),left:r.pointGeometry.convert(p.left||[0,0]),right:r.pointGeometry.convert(p.right||[0,0])}}(this.options.offset),l=this._anchor=this._getAnchor(a),_=t.add(a[l]).round();this._map._requestDomTask(()=>{this._container&&l&&U.setTransform(this._container,`${_s[l]} translate(${_.x}px,${_.y}px)`)})}this._updateClassList()}}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const c=this._container.querySelector(Pr);c&&c.focus()}_onClose(){this.remove()}_setOpacity(c){this._content&&(this._content.style.opacity=c),this._tip&&(this._tip.style.opacity=c)}},Marker:Vs,Style:Ai,LngLat:r.LngLat,LngLatBounds:r.LngLatBounds,Point:r.pointGeometry,MercatorCoordinate:r.MercatorCoordinate,FreeCameraOptions:vo,Evented:r.Evented,config:r.config,prewarm:function(){Qe().acquire(fe)},clearPrewarmedResources:function(){const c=Ze;c&&(c.isPreloaded()&&1===c.numActive()?(c.release(fe),Ze=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return r.config.ACCESS_TOKEN},set accessToken(c){r.config.ACCESS_TOKEN=c},get baseApiUrl(){return r.config.API_URL},set baseApiUrl(c){r.config.API_URL=c},get workerCount(){return Te.workerCount},set workerCount(c){Te.workerCount=c},get maxParallelImageRequests(){return r.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(c){r.config.MAX_PARALLEL_IMAGE_REQUESTS=c},clearStorage(c){r.clearTileCache(c)},workerUrl:"",workerClass:null,setNow:r.exported.setNow,restoreNow:r.exported.restoreNow};return Gr}),b}()},6431:function(ke,_e,D){!function(b){"use strict";b.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(g){return/^nm$/i.test(g)},meridiem:function(g,r,T){return g<12?T?"vm":"VM":T?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(g){return g+(1===g||8===g||g>=20?"ste":"de")},week:{dow:1,doy:4}})}(D(6738))},1616:function(ke,_e,D){!function(b){"use strict";var u=function(C){return 0===C?0:1===C?1:2===C?2:C%100>=3&&C%100<=10?3:C%100>=11?4:5},g={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},r=function(C){return function(I,U,W,oe){var be=u(I),G=g[C][u(I)];return 2===be&&(G=G[U?0:1]),G.replace(/%d/i,I)}},T=["\u062c\u0627\u0646\u0641\u064a","\u0641\u064a\u0641\u0631\u064a","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064a\u0644","\u0645\u0627\u064a","\u062c\u0648\u0627\u0646","\u062c\u0648\u064a\u0644\u064a\u0629","\u0623\u0648\u062a","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];b.defineLocale("ar-dz",{months:T,monthsShort:T,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(C){return"\u0645"===C},meridiem:function(C,I,U){return C<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},postformat:function(C){return C.replace(/,/g,"\u060c")},week:{dow:0,doy:4}})}(D(6738))},9759:function(ke,_e,D){!function(b){"use strict";b.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}})}(D(6738))},3160:function(ke,_e,D){!function(b){"use strict";var u={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},g=function(I){return 0===I?0:1===I?1:2===I?2:I%100>=3&&I%100<=10?3:I%100>=11?4:5},r={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},T=function(I){return function(U,W,oe,be){var G=g(U),he=r[I][g(U)];return 2===G&&(he=he[W?0:1]),he.replace(/%d/i,U)}},k=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];b.defineLocale("ar-ly",{months:k,monthsShort:k,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(I){return"\u0645"===I},meridiem:function(I,U,W){return I<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:T("s"),ss:T("s"),m:T("m"),mm:T("m"),h:T("h"),hh:T("h"),d:T("d"),dd:T("d"),M:T("M"),MM:T("M"),y:T("y"),yy:T("y")},preparse:function(I){return I.replace(/\u060c/g,",")},postformat:function(I){return I.replace(/\d/g,function(U){return u[U]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(D(6738))},2551:function(ke,_e,D){!function(b){"use strict";b.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(D(6738))},9989:function(ke,_e,D){!function(b){"use strict";var u={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},g={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};b.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(T){return"\u0645"===T},meridiem:function(T,k,C){return T<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(T){return T.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(k){return g[k]}).replace(/\u060c/g,",")},postformat:function(T){return T.replace(/\d/g,function(k){return u[k]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}(D(6738))},6962:function(ke,_e,D){!function(b){"use strict";b.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(D(6738))},1286:function(ke,_e,D){!function(b){"use strict";var u={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},g={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},r=function(U){return 0===U?0:1===U?1:2===U?2:U%100>=3&&U%100<=10?3:U%100>=11?4:5},T={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},k=function(U){return function(W,oe,be,G){var he=r(W),ge=T[U][r(W)];return 2===he&&(ge=ge[oe?0:1]),ge.replace(/%d/i,W)}},C=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];b.defineLocale("ar",{months:C,monthsShort:C,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(U){return"\u0645"===U},meridiem:function(U,W,oe){return U<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:k("s"),ss:k("s"),m:k("m"),mm:k("m"),h:k("h"),hh:k("h"),d:k("d"),dd:k("d"),M:k("M"),MM:k("M"),y:k("y"),yy:k("y")},preparse:function(U){return U.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(W){return g[W]}).replace(/\u060c/g,",")},postformat:function(U){return U.replace(/\d/g,function(W){return u[W]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(D(6738))},5887:function(ke,_e,D){!function(b){"use strict";var u={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};b.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"bir ne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(r){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(r)},meridiem:function(r,T,k){return r<4?"gec\u0259":r<12?"s\u0259h\u0259r":r<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(r){if(0===r)return r+"-\u0131nc\u0131";var T=r%10;return r+(u[T]||u[r%100-T]||u[r>=100?100:null])},week:{dow:1,doy:7}})}(D(6738))},4572:function(ke,_e,D){!function(b){"use strict";function g(T,k,C){return"m"===C?k?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===C?k?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":T+" "+function(T,k){var C=T.split("_");return k%10==1&&k%100!=11?C[0]:k%10>=2&&k%10<=4&&(k%100<10||k%100>=20)?C[1]:C[2]}({ss:k?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:k?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:k?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[C],+T)}b.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:g,mm:g,h:g,hh:g,d:"\u0434\u0437\u0435\u043d\u044c",dd:g,M:"\u043c\u0435\u0441\u044f\u0446",MM:g,y:"\u0433\u043e\u0434",yy:g},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(T){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(T)},meridiem:function(T,k,C){return T<4?"\u043d\u043e\u0447\u044b":T<12?"\u0440\u0430\u043d\u0456\u0446\u044b":T<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(T,k){switch(k){case"M":case"d":case"DDD":case"w":case"W":return T%10!=2&&T%10!=3||T%100==12||T%100==13?T+"-\u044b":T+"-\u0456";case"D":return T+"-\u0433\u0430";default:return T}},week:{dow:1,doy:7}})}(D(6738))},3276:function(ke,_e,D){!function(b){"use strict";b.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0443_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u041c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u041c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",w:"\u0441\u0435\u0434\u043c\u0438\u0446\u0430",ww:"%d \u0441\u0435\u0434\u043c\u0438\u0446\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(g){var r=g%10,T=g%100;return 0===g?g+"-\u0435\u0432":0===T?g+"-\u0435\u043d":T>10&&T<20?g+"-\u0442\u0438":1===r?g+"-\u0432\u0438":2===r?g+"-\u0440\u0438":7===r||8===r?g+"-\u043c\u0438":g+"-\u0442\u0438"},week:{dow:1,doy:7}})}(D(6738))},3344:function(ke,_e,D){!function(b){"use strict";b.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(D(6738))},3990:function(ke,_e,D){!function(b){"use strict";var u={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},g={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};b.defineLocale("bn-bd",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(T){return T.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(k){return g[k]})},postformat:function(T){return T.replace(/\d/g,function(k){return u[k]})},meridiemParse:/\u09b0\u09be\u09a4|\u09ad\u09cb\u09b0|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be|\u09b0\u09be\u09a4/,meridiemHour:function(T,k){return 12===T&&(T=0),"\u09b0\u09be\u09a4"===k?T<4?T:T+12:"\u09ad\u09cb\u09b0"===k||"\u09b8\u0995\u09be\u09b2"===k?T:"\u09a6\u09c1\u09aa\u09c1\u09b0"===k?T>=3?T:T+12:"\u09ac\u09bf\u0995\u09be\u09b2"===k||"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be"===k?T+12:void 0},meridiem:function(T,k,C){return T<4?"\u09b0\u09be\u09a4":T<6?"\u09ad\u09cb\u09b0":T<12?"\u09b8\u0995\u09be\u09b2":T<15?"\u09a6\u09c1\u09aa\u09c1\u09b0":T<18?"\u09ac\u09bf\u0995\u09be\u09b2":T<20?"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(D(6738))},8985:function(ke,_e,D){!function(b){"use strict";var u={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},g={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};b.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(T){return T.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(k){return g[k]})},postformat:function(T){return T.replace(/\d/g,function(k){return u[k]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(T,k){return 12===T&&(T=0),"\u09b0\u09be\u09a4"===k&&T>=4||"\u09a6\u09c1\u09aa\u09c1\u09b0"===k&&T<5||"\u09ac\u09bf\u0995\u09be\u09b2"===k?T+12:T},meridiem:function(T,k,C){return T<4?"\u09b0\u09be\u09a4":T<10?"\u09b8\u0995\u09be\u09b2":T<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":T<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(D(6738))},4391:function(ke,_e,D){!function(b){"use strict";var u={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},g={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};b.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b1_\u0f5f\u0fb3\u0f0b2_\u0f5f\u0fb3\u0f0b3_\u0f5f\u0fb3\u0f0b4_\u0f5f\u0fb3\u0f0b5_\u0f5f\u0fb3\u0f0b6_\u0f5f\u0fb3\u0f0b7_\u0f5f\u0fb3\u0f0b8_\u0f5f\u0fb3\u0f0b9_\u0f5f\u0fb3\u0f0b10_\u0f5f\u0fb3\u0f0b11_\u0f5f\u0fb3\u0f0b12".split("_"),monthsShortRegex:/^(\u0f5f\u0fb3\u0f0b\d{1,2})/,monthsParseExact:!0,weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72_\u0f5f\u0fb3_\u0f58\u0f72\u0f42_\u0f63\u0fb7\u0f42_\u0f55\u0f74\u0f62_\u0f66\u0f44\u0f66_\u0f66\u0fa4\u0f7a\u0f53".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(T){return T.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(k){return g[k]})},postformat:function(T){return T.replace(/\d/g,function(k){return u[k]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(T,k){return 12===T&&(T=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===k&&T>=4||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===k&&T<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===k?T+12:T},meridiem:function(T,k,C){return T<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":T<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":T<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":T<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}})}(D(6738))},6728:function(ke,_e,D){!function(b){"use strict";function u(ge,Ie,$e){return ge+" "+function(ge,Ie){return 2===Ie?function(ge){var Ie={m:"v",b:"v",d:"z"};return void 0===Ie[ge.charAt(0)]?ge:Ie[ge.charAt(0)]+ge.substring(1)}(ge):ge}({mm:"munutenn",MM:"miz",dd:"devezh"}[$e],ge)}function r(ge){return ge>9?r(ge%10):ge}var C=[/^gen/i,/^c[\u02bc\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],I=/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,G=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];b.defineLocale("br",{months:"Genver_C\u02bchwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C\u02bchwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc\u02bcher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:G,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\u02bc\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:G,monthsRegex:I,monthsShortRegex:I,monthsStrictRegex:/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:C,longMonthsParse:C,shortMonthsParse:C,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc\u02bchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec\u02bch da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s \u02bczo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:u,h:"un eur",hh:"%d eur",d:"un devezh",dd:u,M:"ur miz",MM:u,y:"ur bloaz",yy:function(ge){switch(r(ge)){case 1:case 3:case 4:case 5:case 9:return ge+" bloaz";default:return ge+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(ge){return ge+(1===ge?"a\xf1":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(ge){return"g.m."===ge},meridiem:function(ge,Ie,$e){return ge<12?"a.m.":"g.m."}})}(D(6738))},5536:function(ke,_e,D){!function(b){"use strict";function u(r,T,k){var C=r+" ";switch(k){case"ss":return C+(1===r?"sekunda":2===r||3===r||4===r?"sekunde":"sekundi");case"m":return T?"jedna minuta":"jedne minute";case"mm":return C+(1===r?"minuta":2===r||3===r||4===r?"minute":"minuta");case"h":return T?"jedan sat":"jednog sata";case"hh":return C+(1===r?"sat":2===r||3===r||4===r?"sata":"sati");case"dd":return C+(1===r?"dan":"dana");case"MM":return C+(1===r?"mjesec":2===r||3===r||4===r?"mjeseca":"mjeseci");case"yy":return C+(1===r?"godina":2===r||3===r||4===r?"godine":"godina")}}b.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:u,m:u,mm:u,h:u,hh:u,d:"dan",dd:u,M:"mjesec",MM:u,y:"godinu",yy:u},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(D(6738))},1043:function(ke,_e,D){!function(b){"use strict";b.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(g,r){var T=1===g?"r":2===g?"n":3===g?"r":4===g?"t":"\xe8";return("w"===r||"W"===r)&&(T="a"),g+T},week:{dow:1,doy:4}})}(D(6738))},420:function(ke,_e,D){!function(b){"use strict";var u="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),g="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),r=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],T=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function k(U){return U>1&&U<5&&1!=~~(U/10)}function C(U,W,oe,be){var G=U+" ";switch(oe){case"s":return W||be?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return W||be?G+(k(U)?"sekundy":"sekund"):G+"sekundami";case"m":return W?"minuta":be?"minutu":"minutou";case"mm":return W||be?G+(k(U)?"minuty":"minut"):G+"minutami";case"h":return W?"hodina":be?"hodinu":"hodinou";case"hh":return W||be?G+(k(U)?"hodiny":"hodin"):G+"hodinami";case"d":return W||be?"den":"dnem";case"dd":return W||be?G+(k(U)?"dny":"dn\xed"):G+"dny";case"M":return W||be?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return W||be?G+(k(U)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):G+"m\u011bs\xedci";case"y":return W||be?"rok":"rokem";case"yy":return W||be?G+(k(U)?"roky":"let"):G+"lety"}}b.defineLocale("cs",{months:u,monthsShort:g,monthsRegex:T,monthsShortRegex:T,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:C,ss:C,m:C,mm:C,h:C,hh:C,d:C,dd:C,M:C,MM:C,y:C,yy:C},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(D(6738))},3513:function(ke,_e,D){!function(b){"use strict";b.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(g){return g+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(g)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(g)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}})}(D(6738))},6771:function(ke,_e,D){!function(b){"use strict";b.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(g){var T="";return g>20?T=40===g||50===g||60===g||80===g||100===g?"fed":"ain":g>0&&(T=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][g]),g+T},week:{dow:1,doy:4}})}(D(6738))},1548:function(ke,_e,D){!function(b){"use strict";b.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(D(6738))},5204:function(ke,_e,D){!function(b){"use strict";function u(r,T,k,C){var I={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[r+" Tage",r+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[r+" Monate",r+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[r+" Jahre",r+" Jahren"]};return T?I[k][0]:I[k][1]}b.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:u,mm:"%d Minuten",h:u,hh:"%d Stunden",d:u,dd:u,w:u,ww:"%d Wochen",M:u,MM:u,y:u,yy:u},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(D(6738))},2653:function(ke,_e,D){!function(b){"use strict";function u(r,T,k,C){var I={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[r+" Tage",r+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[r+" Monate",r+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[r+" Jahre",r+" Jahren"]};return T?I[k][0]:I[k][1]}b.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:u,mm:"%d Minuten",h:u,hh:"%d Stunden",d:u,dd:u,w:u,ww:"%d Wochen",M:u,MM:u,y:u,yy:u},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(D(6738))},6061:function(ke,_e,D){!function(b){"use strict";function u(r,T,k,C){var I={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[r+" Tage",r+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[r+" Monate",r+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[r+" Jahre",r+" Jahren"]};return T?I[k][0]:I[k][1]}b.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:u,mm:"%d Minuten",h:u,hh:"%d Stunden",d:u,dd:u,w:u,ww:"%d Wochen",M:u,MM:u,y:u,yy:u},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(D(6738))},85:function(ke,_e,D){!function(b){"use strict";var u=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],g=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];b.defineLocale("dv",{months:u,monthsShort:u,weekdays:g,weekdaysShort:g,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(T){return"\u0789\u078a"===T},meridiem:function(T,k,C){return T<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(T){return T.replace(/\u060c/g,",")},postformat:function(T){return T.replace(/,/g,"\u060c")},week:{dow:7,doy:12}})}(D(6738))},8579:function(ke,_e,D){!function(b){"use strict";b.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(r,T){return r?"string"==typeof T&&/D/.test(T.substring(0,T.indexOf("MMMM")))?this._monthsGenitiveEl[r.month()]:this._monthsNominativeEl[r.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(r,T,k){return r>11?k?"\u03bc\u03bc":"\u039c\u039c":k?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(r){return"\u03bc"===(r+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT";default:return"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"}},sameElse:"L"},calendar:function(r,T){var k=this._calendarEl[r],C=T&&T.hours();return function(r){return"undefined"!=typeof Function&&r instanceof Function||"[object Function]"===Object.prototype.toString.call(r)}(k)&&(k=k.apply(T)),k.replace("{}",C%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}})}(D(6738))},5724:function(ke,_e,D){!function(b){"use strict";b.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(g){var r=g%10;return g+(1==~~(g%100/10)?"th":1===r?"st":2===r?"nd":3===r?"rd":"th")},week:{dow:0,doy:4}})}(D(6738))},525:function(ke,_e,D){!function(b){"use strict";b.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(g){var r=g%10;return g+(1==~~(g%100/10)?"th":1===r?"st":2===r?"nd":3===r?"rd":"th")}})}(D(6738))},2847:function(ke,_e,D){!function(b){"use strict";b.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(g){var r=g%10;return g+(1==~~(g%100/10)?"th":1===r?"st":2===r?"nd":3===r?"rd":"th")},week:{dow:1,doy:4}})}(D(6738))},7216:function(ke,_e,D){!function(b){"use strict";b.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(g){var r=g%10;return g+(1==~~(g%100/10)?"th":1===r?"st":2===r?"nd":3===r?"rd":"th")},week:{dow:1,doy:4}})}(D(6738))},9305:function(ke,_e,D){!function(b){"use strict";b.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(g){var r=g%10;return g+(1==~~(g%100/10)?"th":1===r?"st":2===r?"nd":3===r?"rd":"th")}})}(D(6738))},3364:function(ke,_e,D){!function(b){"use strict";b.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(g){var r=g%10;return g+(1==~~(g%100/10)?"th":1===r?"st":2===r?"nd":3===r?"rd":"th")},week:{dow:0,doy:6}})}(D(6738))},9130:function(ke,_e,D){!function(b){"use strict";b.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(g){var r=g%10;return g+(1==~~(g%100/10)?"th":1===r?"st":2===r?"nd":3===r?"rd":"th")},week:{dow:1,doy:4}})}(D(6738))},1161:function(ke,_e,D){!function(b){"use strict";b.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(g){var r=g%10;return g+(1==~~(g%100/10)?"th":1===r?"st":2===r?"nd":3===r?"rd":"th")},week:{dow:1,doy:4}})}(D(6738))},802:function(ke,_e,D){!function(b){"use strict";b.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_a\u016dg_sept_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(g){return"p"===g.charAt(0).toLowerCase()},meridiem:function(g,r,T){return g>11?T?"p.t.m.":"P.T.M.":T?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(D(6738))},5551:function(ke,_e,D){!function(b){"use strict";var u="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),g="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],T=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;b.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(C,I){return C?/-MMM-/.test(I)?g[C.month()]:u[C.month()]:u},monthsRegex:T,monthsShortRegex:T,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(D(6738))},5615:function(ke,_e,D){!function(b){"use strict";var u="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),g="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],T=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;b.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(C,I){return C?/-MMM-/.test(I)?g[C.month()]:u[C.month()]:u},monthsRegex:T,monthsShortRegex:T,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:4},invalidDate:"Fecha inv\xe1lida"})}(D(6738))},4790:function(ke,_e,D){!function(b){"use strict";var u="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),g="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],T=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;b.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(C,I){return C?/-MMM-/.test(I)?g[C.month()]:u[C.month()]:u},monthsRegex:T,monthsShortRegex:T,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}(D(6738))},328:function(ke,_e,D){!function(b){"use strict";var u="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),g="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],T=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;b.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(C,I){return C?/-MMM-/.test(I)?g[C.month()]:u[C.month()]:u},monthsRegex:T,monthsShortRegex:T,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"})}(D(6738))},6389:function(ke,_e,D){!function(b){"use strict";function u(r,T,k,C){var I={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[r+"sekundi",r+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[r+" minuti",r+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[r+" tunni",r+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[r+" kuu",r+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[r+" aasta",r+" aastat"]};return T?I[k][2]?I[k][2]:I[k][1]:C?I[k][0]:I[k][1]}b.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:u,ss:u,m:u,mm:u,h:u,hh:u,d:u,dd:"%d p\xe4eva",M:u,MM:u,y:u,yy:u},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(D(6738))},2961:function(ke,_e,D){!function(b){"use strict";b.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(D(6738))},6151:function(ke,_e,D){!function(b){"use strict";var u={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},g={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"};b.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(T){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(T)},meridiem:function(T,k,C){return T<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"%d \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(T){return T.replace(/[\u06f0-\u06f9]/g,function(k){return g[k]}).replace(/\u060c/g,",")},postformat:function(T){return T.replace(/\d/g,function(k){return u[k]}).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}})}(D(6738))},7997:function(ke,_e,D){!function(b){"use strict";var u="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),g=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",u[7],u[8],u[9]];function r(C,I,U,W){var oe="";switch(U){case"s":return W?"muutaman sekunnin":"muutama sekunti";case"ss":oe=W?"sekunnin":"sekuntia";break;case"m":return W?"minuutin":"minuutti";case"mm":oe=W?"minuutin":"minuuttia";break;case"h":return W?"tunnin":"tunti";case"hh":oe=W?"tunnin":"tuntia";break;case"d":return W?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":oe=W?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return W?"kuukauden":"kuukausi";case"MM":oe=W?"kuukauden":"kuukautta";break;case"y":return W?"vuoden":"vuosi";case"yy":oe=W?"vuoden":"vuotta"}return function(C,I){return C<10?I?g[C]:u[C]:C}(C,W)+" "+oe}b.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(D(6738))},8898:function(ke,_e,D){!function(b){"use strict";b.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(g){return g},week:{dow:1,doy:4}})}(D(6738))},7779:function(ke,_e,D){!function(b){"use strict";b.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(D(6738))},3287:function(ke,_e,D){!function(b){"use strict";b.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(g,r){switch(r){default:case"M":case"Q":case"D":case"DDD":case"d":return g+(1===g?"er":"e");case"w":case"W":return g+(1===g?"re":"e")}}})}(D(6738))},8867:function(ke,_e,D){!function(b){"use strict";b.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(g,r){switch(r){default:case"M":case"Q":case"D":case"DDD":case"d":return g+(1===g?"er":"e");case"w":case"W":return g+(1===g?"re":"e")}},week:{dow:1,doy:4}})}(D(6738))},8174:function(ke,_e,D){!function(b){"use strict";var r=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,T=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i];b.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:T,longMonthsParse:T,shortMonthsParse:T,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(C,I){switch(I){case"D":return C+(1===C?"er":"");default:case"M":case"Q":case"DDD":case"d":return C+(1===C?"er":"e");case"w":case"W":return C+(1===C?"re":"e")}},week:{dow:1,doy:4}})}(D(6738))},452:function(ke,_e,D){!function(b){"use strict";var u="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),g="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");b.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(T,k){return T?/-MMM-/.test(k)?g[T.month()]:u[T.month()]:u},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(T){return T+(1===T||8===T||T>=20?"ste":"de")},week:{dow:1,doy:4}})}(D(6738))},5014:function(ke,_e,D){!function(b){"use strict";b.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","Meitheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","M\xe1rt","Aib","Beal","Meith","I\xfail","L\xfan","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Sathairn"],weekdaysShort:["Domh","Luan","M\xe1irt","C\xe9ad","D\xe9ar","Aoine","Sath"],weekdaysMin:["Do","Lu","M\xe1","C\xe9","D\xe9","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xedonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(I){return I+(1===I?"d":I%10==2?"na":"mh")},week:{dow:1,doy:4}})}(D(6738))},4127:function(ke,_e,D){!function(b){"use strict";b.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(I){return I+(1===I?"d":I%10==2?"na":"mh")},week:{dow:1,doy:4}})}(D(6738))},2124:function(ke,_e,D){!function(b){"use strict";b.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(g){return 0===g.indexOf("un")?"n"+g:"en "+g},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(D(6738))},6444:function(ke,_e,D){!function(b){"use strict";function u(r,T,k,C){var I={s:["\u0925\u094b\u0921\u092f\u093e \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940","\u0925\u094b\u0921\u0947 \u0938\u0945\u0915\u0902\u0921"],ss:[r+" \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940",r+" \u0938\u0945\u0915\u0902\u0921"],m:["\u090f\u0915\u093e \u092e\u093f\u0923\u091f\u093e\u0928","\u090f\u0915 \u092e\u093f\u0928\u0942\u091f"],mm:[r+" \u092e\u093f\u0923\u091f\u093e\u0902\u0928\u0940",r+" \u092e\u093f\u0923\u091f\u093e\u0902"],h:["\u090f\u0915\u093e \u0935\u0930\u093e\u0928","\u090f\u0915 \u0935\u0930"],hh:[r+" \u0935\u0930\u093e\u0902\u0928\u0940",r+" \u0935\u0930\u093e\u0902"],d:["\u090f\u0915\u093e \u0926\u093f\u0938\u093e\u0928","\u090f\u0915 \u0926\u0940\u0938"],dd:[r+" \u0926\u093f\u0938\u093e\u0902\u0928\u0940",r+" \u0926\u0940\u0938"],M:["\u090f\u0915\u093e \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928","\u090f\u0915 \u092e\u094d\u0939\u092f\u0928\u094b"],MM:[r+" \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928\u0940",r+" \u092e\u094d\u0939\u092f\u0928\u0947"],y:["\u090f\u0915\u093e \u0935\u0930\u094d\u0938\u093e\u0928","\u090f\u0915 \u0935\u0930\u094d\u0938"],yy:[r+" \u0935\u0930\u094d\u0938\u093e\u0902\u0928\u0940",r+" \u0935\u0930\u094d\u0938\u093e\u0902"]};return C?I[k][0]:I[k][1]}b.defineLocale("gom-deva",{months:{standalone:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u092f_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),format:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092e\u093e\u0930\u094d\u091a\u093e\u091a\u094d\u092f\u093e_\u090f\u092a\u094d\u0930\u0940\u0932\u093e\u091a\u094d\u092f\u093e_\u092e\u0947\u092f\u093e\u091a\u094d\u092f\u093e_\u091c\u0942\u0928\u093e\u091a\u094d\u092f\u093e_\u091c\u0941\u0932\u092f\u093e\u091a\u094d\u092f\u093e_\u0911\u0917\u0938\u094d\u091f\u093e\u091a\u094d\u092f\u093e_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0911\u0915\u094d\u091f\u094b\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0921\u093f\u0938\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940._\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u092f\u0924\u093e\u0930_\u0938\u094b\u092e\u093e\u0930_\u092e\u0902\u0917\u0933\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u092c\u093f\u0930\u0947\u0938\u094d\u0924\u093e\u0930_\u0938\u0941\u0915\u094d\u0930\u093e\u0930_\u0936\u0947\u0928\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0906\u092f\u0924._\u0938\u094b\u092e._\u092e\u0902\u0917\u0933._\u092c\u0941\u0927._\u092c\u094d\u0930\u0947\u0938\u094d\u0924._\u0938\u0941\u0915\u094d\u0930._\u0936\u0947\u0928.".split("_"),weekdaysMin:"\u0906_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u092c\u094d\u0930\u0947_\u0938\u0941_\u0936\u0947".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LTS:"A h:mm:ss [\u0935\u093e\u091c\u0924\u093e\u0902]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",llll:"ddd, D MMM YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]"},calendar:{sameDay:"[\u0906\u092f\u091c] LT",nextDay:"[\u092b\u093e\u0932\u094d\u092f\u093e\u0902] LT",nextWeek:"[\u092b\u0941\u0921\u0932\u094b] dddd[,] LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092b\u093e\u091f\u0932\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s \u0906\u0926\u0940\u0902",s:u,ss:u,m:u,mm:u,h:u,hh:u,d:u,dd:u,M:u,MM:u,y:u,yy:u},dayOfMonthOrdinalParse:/\d{1,2}(\u0935\u0947\u0930)/,ordinal:function(r,T){switch(T){case"D":return r+"\u0935\u0947\u0930";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return r}},week:{dow:0,doy:3},meridiemParse:/\u0930\u093e\u0924\u0940|\u0938\u0915\u093e\u0933\u0940\u0902|\u0926\u0928\u092a\u093e\u0930\u093e\u0902|\u0938\u093e\u0902\u091c\u0947/,meridiemHour:function(r,T){return 12===r&&(r=0),"\u0930\u093e\u0924\u0940"===T?r<4?r:r+12:"\u0938\u0915\u093e\u0933\u0940\u0902"===T?r:"\u0926\u0928\u092a\u093e\u0930\u093e\u0902"===T?r>12?r:r+12:"\u0938\u093e\u0902\u091c\u0947"===T?r+12:void 0},meridiem:function(r,T,k){return r<4?"\u0930\u093e\u0924\u0940":r<12?"\u0938\u0915\u093e\u0933\u0940\u0902":r<16?"\u0926\u0928\u092a\u093e\u0930\u093e\u0902":r<20?"\u0938\u093e\u0902\u091c\u0947":"\u0930\u093e\u0924\u0940"}})}(D(6738))},7953:function(ke,_e,D){!function(b){"use strict";function u(r,T,k,C){var I={s:["thoddea sekondamni","thodde sekond"],ss:[r+" sekondamni",r+" sekond"],m:["eka mintan","ek minut"],mm:[r+" mintamni",r+" mintam"],h:["eka voran","ek vor"],hh:[r+" voramni",r+" voram"],d:["eka disan","ek dis"],dd:[r+" disamni",r+" dis"],M:["eka mhoinean","ek mhoino"],MM:[r+" mhoineamni",r+" mhoine"],y:["eka vorsan","ek voros"],yy:[r+" vorsamni",r+" vorsam"]};return C?I[k][0]:I[k][1]}b.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:u,ss:u,m:u,mm:u,h:u,hh:u,d:u,dd:u,M:u,MM:u,y:u,yy:u},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(r,T){switch(T){case"D":return r+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return r}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(r,T){return 12===r&&(r=0),"rati"===T?r<4?r:r+12:"sokallim"===T?r:"donparam"===T?r>12?r:r+12:"sanje"===T?r+12:void 0},meridiem:function(r,T,k){return r<4?"rati":r<12?"sokallim":r<16?"donparam":r<20?"sanje":"rati"}})}(D(6738))},6604:function(ke,_e,D){!function(b){"use strict";var u={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},g={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"};b.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ab9\u0ac7\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(T){return T.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(k){return g[k]})},postformat:function(T){return T.replace(/\d/g,function(k){return u[k]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(T,k){return 12===T&&(T=0),"\u0ab0\u0abe\u0aa4"===k?T<4?T:T+12:"\u0ab8\u0ab5\u0abe\u0ab0"===k?T:"\u0aac\u0aaa\u0acb\u0ab0"===k?T>=10?T:T+12:"\u0ab8\u0abe\u0a82\u0a9c"===k?T+12:void 0},meridiem:function(T,k,C){return T<4?"\u0ab0\u0abe\u0aa4":T<10?"\u0ab8\u0ab5\u0abe\u0ab0":T<17?"\u0aac\u0aaa\u0acb\u0ab0":T<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}})}(D(6738))},1222:function(ke,_e,D){!function(b){"use strict";b.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(g){return 2===g?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":g+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(g){return 2===g?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":g+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(g){return 2===g?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":g+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(g){return 2===g?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":g%10==0&&10!==g?g+" \u05e9\u05e0\u05d4":g+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(g){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(g)},meridiem:function(g,r,T){return g<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":g<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":g<12?T?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":g<18?T?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}})}(D(6738))},4235:function(ke,_e,D){!function(b){"use strict";var u={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},g={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},r=[/^\u091c\u0928/i,/^\u092b\u093c\u0930|\u092b\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924\u0902|\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935|\u0928\u0935\u0902/i,/^\u0926\u093f\u0938\u0902|\u0926\u093f\u0938/i];b.defineLocale("hi",{months:{format:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),standalone:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u0902\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u0902\u092c\u0930_\u0926\u093f\u0938\u0902\u092c\u0930".split("_")},monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},monthsParse:r,longMonthsParse:r,shortMonthsParse:[/^\u091c\u0928/i,/^\u092b\u093c\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935/i,/^\u0926\u093f\u0938/i],monthsRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsShortRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsStrictRegex:/^(\u091c\u0928\u0935\u0930\u0940?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908?|\u0905\u0917\u0938\u094d\u0924?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924?\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930?)/i,monthsShortStrictRegex:/^(\u091c\u0928\.?|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\.?|\u0905\u0917\.?|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\.?|\u0926\u093f\u0938\.?)/i,calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(C){return C.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(I){return g[I]})},postformat:function(C){return C.replace(/\d/g,function(I){return u[I]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(C,I){return 12===C&&(C=0),"\u0930\u093e\u0924"===I?C<4?C:C+12:"\u0938\u0941\u092c\u0939"===I?C:"\u0926\u094b\u092a\u0939\u0930"===I?C>=10?C:C+12:"\u0936\u093e\u092e"===I?C+12:void 0},meridiem:function(C,I,U){return C<4?"\u0930\u093e\u0924":C<10?"\u0938\u0941\u092c\u0939":C<17?"\u0926\u094b\u092a\u0939\u0930":C<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}})}(D(6738))},622:function(ke,_e,D){!function(b){"use strict";function u(r,T,k){var C=r+" ";switch(k){case"ss":return C+(1===r?"sekunda":2===r||3===r||4===r?"sekunde":"sekundi");case"m":return T?"jedna minuta":"jedne minute";case"mm":return C+(1===r?"minuta":2===r||3===r||4===r?"minute":"minuta");case"h":return T?"jedan sat":"jednog sata";case"hh":return C+(1===r?"sat":2===r||3===r||4===r?"sata":"sati");case"dd":return C+(1===r?"dan":"dana");case"MM":return C+(1===r?"mjesec":2===r||3===r||4===r?"mjeseca":"mjeseci");case"yy":return C+(1===r?"godina":2===r||3===r||4===r?"godine":"godina")}}b.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:return"[pro\u0161lu] [nedjelju] [u] LT";case 3:return"[pro\u0161lu] [srijedu] [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:u,m:u,mm:u,h:u,hh:u,d:"dan",dd:u,M:"mjesec",MM:u,y:"godinu",yy:u},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(D(6738))},7735:function(ke,_e,D){!function(b){"use strict";var u="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function g(k,C,I,U){var W=k;switch(I){case"s":return U||C?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return W+(U||C)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(U||C?" perc":" perce");case"mm":return W+(U||C?" perc":" perce");case"h":return"egy"+(U||C?" \xf3ra":" \xf3r\xe1ja");case"hh":return W+(U||C?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(U||C?" nap":" napja");case"dd":return W+(U||C?" nap":" napja");case"M":return"egy"+(U||C?" h\xf3nap":" h\xf3napja");case"MM":return W+(U||C?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(U||C?" \xe9v":" \xe9ve");case"yy":return W+(U||C?" \xe9v":" \xe9ve")}return""}function r(k){return(k?"":"[m\xfalt] ")+"["+u[this.day()]+"] LT[-kor]"}b.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan._feb._m\xe1rc._\xe1pr._m\xe1j._j\xfan._j\xfal._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(k){return"u"===k.charAt(1).toLowerCase()},meridiem:function(k,C,I){return k<12?!0===I?"de":"DE":!0===I?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:g,ss:g,m:g,mm:g,h:g,hh:g,d:g,dd:g,M:g,MM:g,y:g,yy:g},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(D(6738))},402:function(ke,_e,D){!function(b){"use strict";b.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(g){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(g)},meridiem:function(g){return g<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":g<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":g<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(g,r){switch(r){case"DDD":case"w":case"W":case"DDDo":return 1===g?g+"-\u056b\u0576":g+"-\u0580\u0564";default:return g}},week:{dow:1,doy:7}})}(D(6738))},9187:function(ke,_e,D){!function(b){"use strict";b.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(g,r){return 12===g&&(g=0),"pagi"===r?g:"siang"===r?g>=11?g:g+12:"sore"===r||"malam"===r?g+12:void 0},meridiem:function(g,r,T){return g<11?"pagi":g<15?"siang":g<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(D(6738))},536:function(ke,_e,D){!function(b){"use strict";function u(T){return T%100==11||T%10!=1}function g(T,k,C,I){var U=T+" ";switch(C){case"s":return k||I?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return u(T)?U+(k||I?"sek\xfandur":"sek\xfandum"):U+"sek\xfanda";case"m":return k?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return u(T)?U+(k||I?"m\xedn\xfatur":"m\xedn\xfatum"):k?U+"m\xedn\xfata":U+"m\xedn\xfatu";case"hh":return u(T)?U+(k||I?"klukkustundir":"klukkustundum"):U+"klukkustund";case"d":return k?"dagur":I?"dag":"degi";case"dd":return u(T)?k?U+"dagar":U+(I?"daga":"d\xf6gum"):k?U+"dagur":U+(I?"dag":"degi");case"M":return k?"m\xe1nu\xf0ur":I?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return u(T)?k?U+"m\xe1nu\xf0ir":U+(I?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):k?U+"m\xe1nu\xf0ur":U+(I?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return k||I?"\xe1r":"\xe1ri";case"yy":return u(T)?U+(k||I?"\xe1r":"\xe1rum"):U+(k||I?"\xe1r":"\xe1ri")}}b.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:g,ss:g,m:g,mm:g,h:"klukkustund",hh:g,d:g,dd:g,M:g,MM:g,y:g,yy:g},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(D(6738))},4667:function(ke,_e,D){!function(b){"use strict";b.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(g){return(/^[0-9].+$/.test(g)?"tra":"in")+" "+g},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(D(6738))},5007:function(ke,_e,D){!function(b){"use strict";b.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(D(6738))},2093:function(ke,_e,D){!function(b){"use strict";b.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"\u4ee4\u548c",narrow:"\u32ff",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"\u5e73\u6210",narrow:"\u337b",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"\u662d\u548c",narrow:"\u337c",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"\u5927\u6b63",narrow:"\u337d",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"\u660e\u6cbb",narrow:"\u337e",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"\u897f\u66a6",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"\u7d00\u5143\u524d",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(\u5143|\d+)\u5e74/,eraYearOrdinalParse:function(g,r){return"\u5143"===r[1]?1:parseInt(r[1]||g,10)},months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(g){return"\u5348\u5f8c"===g},meridiem:function(g,r,T){return g<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(g){return g.week()!==this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(g){return this.week()!==g.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(g,r){switch(r){case"y":return 1===g?"\u5143\u5e74":g+"\u5e74";case"d":case"D":case"DDD":return g+"\u65e5";default:return g}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}})}(D(6738))},59:function(ke,_e,D){!function(b){"use strict";b.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(g,r){return 12===g&&(g=0),"enjing"===r?g:"siyang"===r?g>=11?g:g+12:"sonten"===r||"ndalu"===r?g+12:void 0},meridiem:function(g,r,T){return g<11?"enjing":g<15?"siyang":g<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(D(6738))},6870:function(ke,_e,D){!function(b){"use strict";b.defineLocale("ka",{months:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(g){return g.replace(/(\u10ec\u10d0\u10db|\u10ec\u10e3\u10d7|\u10e1\u10d0\u10d0\u10d7|\u10ec\u10d4\u10da|\u10d3\u10e6|\u10d7\u10d5)(\u10d8|\u10d4)/,function(r,T,k){return"\u10d8"===k?T+"\u10e8\u10d8":T+k+"\u10e8\u10d8"})},past:function(g){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(g)?g.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(g)?g.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):g},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(g){return 0===g?g:1===g?g+"-\u10da\u10d8":g<20||g<=100&&g%20==0||g%100==0?"\u10db\u10d4-"+g:g+"-\u10d4"},week:{dow:1,doy:7}})}(D(6738))},880:function(ke,_e,D){!function(b){"use strict";var u={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"};b.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(r){return r+(u[r]||u[r%10]||u[r>=100?100:null])},week:{dow:1,doy:7}})}(D(6738))},1083:function(ke,_e,D){!function(b){"use strict";var u={1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"},g={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"};b.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(T){return"\u179b\u17d2\u1784\u17b6\u1785"===T},meridiem:function(T,k,C){return T<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(T){return T.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(k){return g[k]})},postformat:function(T){return T.replace(/\d/g,function(k){return u[k]})},week:{dow:1,doy:4}})}(D(6738))},8785:function(ke,_e,D){!function(b){"use strict";var u={1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"},g={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};b.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(T){return T.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(k){return g[k]})},postformat:function(T){return T.replace(/\d/g,function(k){return u[k]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(T,k){return 12===T&&(T=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===k?T<4?T:T+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===k?T:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===k?T>=10?T:T+12:"\u0cb8\u0c82\u0c9c\u0cc6"===k?T+12:void 0},meridiem:function(T,k,C){return T<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":T<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":T<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":T<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(T){return T+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}})}(D(6738))},1721:function(ke,_e,D){!function(b){"use strict";b.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(g,r){switch(r){case"d":case"D":case"DDD":return g+"\uc77c";case"M":return g+"\uc6d4";case"w":case"W":return g+"\uc8fc";default:return g}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(g){return"\uc624\ud6c4"===g},meridiem:function(g,r,T){return g<12?"\uc624\uc804":"\uc624\ud6c4"}})}(D(6738))},7851:function(ke,_e,D){!function(b){"use strict";var u={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},g={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},r=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"];b.defineLocale("ku",{months:r,monthsShort:r,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(k){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(k)},meridiem:function(k,C,I){return k<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(k){return k.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(C){return g[C]}).replace(/\u060c/g,",")},postformat:function(k){return k.replace(/\d/g,function(C){return u[C]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(D(6738))},1727:function(ke,_e,D){!function(b){"use strict";var u={0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"};b.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(r){return r+(u[r]||u[r%10]||u[r>=100?100:null])},week:{dow:1,doy:7}})}(D(6738))},346:function(ke,_e,D){!function(b){"use strict";function u(C,I,U,W){var oe={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return I?oe[U][0]:oe[U][1]}function T(C){if(C=parseInt(C,10),isNaN(C))return!1;if(C<0)return!0;if(C<10)return 4<=C&&C<=7;if(C<100){var I=C%10;return T(0===I?C/10:I)}if(C<1e4){for(;C>=10;)C/=10;return T(C)}return T(C/=1e3)}b.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(C){return T(C.substr(0,C.indexOf(" ")))?"a "+C:"an "+C},past:function(C){return T(C.substr(0,C.indexOf(" ")))?"viru "+C:"virun "+C},s:"e puer Sekonnen",ss:"%d Sekonnen",m:u,mm:"%d Minutten",h:u,hh:"%d Stonnen",d:u,dd:"%d Deeg",M:u,MM:"%d M\xe9int",y:u,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(D(6738))},3002:function(ke,_e,D){!function(b){"use strict";b.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(g){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===g},meridiem:function(g,r,T){return g<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(g){return"\u0e97\u0eb5\u0ec8"+g}})}(D(6738))},4035:function(ke,_e,D){!function(b){"use strict";var u={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function r(U,W,oe,be){return W?k(oe)[0]:be?k(oe)[1]:k(oe)[2]}function T(U){return U%10==0||U>10&&U<20}function k(U){return u[U].split("_")}function C(U,W,oe,be){var G=U+" ";return 1===U?G+r(0,W,oe[0],be):W?G+(T(U)?k(oe)[1]:k(oe)[0]):be?G+k(oe)[1]:G+(T(U)?k(oe)[1]:k(oe)[2])}b.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function(U,W,oe,be){return W?"kelios sekund\u0117s":be?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:C,m:r,mm:C,h:r,hh:C,d:r,dd:C,M:r,MM:C,y:r,yy:C},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(U){return U+"-oji"},week:{dow:1,doy:4}})}(D(6738))},6927:function(ke,_e,D){!function(b){"use strict";var u={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function g(I,U,W){return W?U%10==1&&U%100!=11?I[2]:I[3]:U%10==1&&U%100!=11?I[0]:I[1]}function r(I,U,W){return I+" "+g(u[W],I,U)}function T(I,U,W){return g(u[W],I,U)}b.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function(I,U){return U?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:r,m:T,mm:r,h:T,hh:r,d:T,dd:r,M:T,MM:r,y:T,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(D(6738))},5634:function(ke,_e,D){!function(b){"use strict";var u={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(r,T){return 1===r?T[0]:r>=2&&r<=4?T[1]:T[2]},translate:function(r,T,k){var C=u.words[k];return 1===k.length?T?C[0]:C[1]:r+" "+u.correctGrammaticalCase(r,C)}};b.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:u.translate,m:u.translate,mm:u.translate,h:u.translate,hh:u.translate,d:"dan",dd:u.translate,M:"mjesec",MM:u.translate,y:"godinu",yy:u.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(D(6738))},4173:function(ke,_e,D){!function(b){"use strict";b.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(D(6738))},6320:function(ke,_e,D){!function(b){"use strict";b.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u0435\u0434\u043d\u0430 \u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0435\u0434\u0435\u043d \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0435\u0434\u0435\u043d \u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u0435\u0434\u0435\u043d \u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(g){var r=g%10,T=g%100;return 0===g?g+"-\u0435\u0432":0===T?g+"-\u0435\u043d":T>10&&T<20?g+"-\u0442\u0438":1===r?g+"-\u0432\u0438":2===r?g+"-\u0440\u0438":7===r||8===r?g+"-\u043c\u0438":g+"-\u0442\u0438"},week:{dow:1,doy:7}})}(D(6738))},1705:function(ke,_e,D){!function(b){"use strict";b.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(g,r){return 12===g&&(g=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===r&&g>=4||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===r||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===r?g+12:g},meridiem:function(g,r,T){return g<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":g<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":g<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":g<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}})}(D(6738))},1062:function(ke,_e,D){!function(b){"use strict";function u(r,T,k,C){switch(k){case"s":return T?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return r+(T?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return r+(T?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return r+(T?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return r+(T?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return r+(T?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return r+(T?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return r}}b.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(r){return"\u04ae\u0425"===r},meridiem:function(r,T,k){return r<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:u,ss:u,m:u,mm:u,h:u,hh:u,d:u,dd:u,M:u,MM:u,y:u,yy:u},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(r,T){switch(T){case"d":case"D":case"DDD":return r+" \u04e9\u0434\u04e9\u0440";default:return r}}})}(D(6738))},2805:function(ke,_e,D){!function(b){"use strict";var u={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},g={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function r(k,C,I,U){var W="";if(C)switch(I){case"s":W="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":W="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":W="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":W="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":W="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":W="%d \u0924\u093e\u0938";break;case"d":W="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":W="%d \u0926\u093f\u0935\u0938";break;case"M":W="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":W="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":W="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":W="%d \u0935\u0930\u094d\u0937\u0947"}else switch(I){case"s":W="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":W="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":W="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":W="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":W="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":W="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":W="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":W="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":W="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":W="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":W="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":W="%d \u0935\u0930\u094d\u0937\u093e\u0902"}return W.replace(/%d/i,k)}b.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},preparse:function(k){return k.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(C){return g[C]})},postformat:function(k){return k.replace(/\d/g,function(C){return u[C]})},meridiemParse:/\u092a\u0939\u093e\u091f\u0947|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940|\u0930\u093e\u0924\u094d\u0930\u0940/,meridiemHour:function(k,C){return 12===k&&(k=0),"\u092a\u0939\u093e\u091f\u0947"===C||"\u0938\u0915\u093e\u0933\u0940"===C?k:"\u0926\u0941\u092a\u093e\u0930\u0940"===C||"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===C||"\u0930\u093e\u0924\u094d\u0930\u0940"===C?k>=12?k:k+12:void 0},meridiem:function(k,C,I){return k>=0&&k<6?"\u092a\u0939\u093e\u091f\u0947":k<12?"\u0938\u0915\u093e\u0933\u0940":k<17?"\u0926\u0941\u092a\u093e\u0930\u0940":k<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}})}(D(6738))},9900:function(ke,_e,D){!function(b){"use strict";b.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(g,r){return 12===g&&(g=0),"pagi"===r?g:"tengahari"===r?g>=11?g:g+12:"petang"===r||"malam"===r?g+12:void 0},meridiem:function(g,r,T){return g<11?"pagi":g<15?"tengahari":g<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(D(6738))},1341:function(ke,_e,D){!function(b){"use strict";b.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(g,r){return 12===g&&(g=0),"pagi"===r?g:"tengahari"===r?g>=11?g:g+12:"petang"===r||"malam"===r?g+12:void 0},meridiem:function(g,r,T){return g<11?"pagi":g<15?"tengahari":g<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(D(6738))},7734:function(ke,_e,D){!function(b){"use strict";b.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(D(6738))},9034:function(ke,_e,D){!function(b){"use strict";var u={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},g={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"};b.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(T){return T.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(k){return g[k]})},postformat:function(T){return T.replace(/\d/g,function(k){return u[k]})},week:{dow:1,doy:4}})}(D(6738))},9324:function(ke,_e,D){!function(b){"use strict";b.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(D(6738))},6495:function(ke,_e,D){!function(b){"use strict";var u={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},g={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};b.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(T){return T.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(k){return g[k]})},postformat:function(T){return T.replace(/\d/g,function(k){return u[k]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(T,k){return 12===T&&(T=0),"\u0930\u093e\u0924\u093f"===k?T<4?T:T+12:"\u092c\u093f\u0939\u093e\u0928"===k?T:"\u0926\u093f\u0909\u0901\u0938\u094b"===k?T>=10?T:T+12:"\u0938\u093e\u0901\u091d"===k?T+12:void 0},meridiem:function(T,k,C){return T<3?"\u0930\u093e\u0924\u093f":T<12?"\u092c\u093f\u0939\u093e\u0928":T<16?"\u0926\u093f\u0909\u0901\u0938\u094b":T<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}})}(D(6738))},6272:function(ke,_e,D){!function(b){"use strict";var u="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),g="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],T=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;b.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(C,I){return C?/-MMM-/.test(I)?g[C.month()]:u[C.month()]:u},monthsRegex:T,monthsShortRegex:T,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(C){return C+(1===C||8===C||C>=20?"ste":"de")},week:{dow:1,doy:4}})}(D(6738))},673:function(ke,_e,D){!function(b){"use strict";var u="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),g="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],T=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;b.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(C,I){return C?/-MMM-/.test(I)?g[C.month()]:u[C.month()]:u},monthsRegex:T,monthsShortRegex:T,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",w:"\xe9\xe9n week",ww:"%d weken",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(C){return C+(1===C||8===C||C>=20?"ste":"de")},week:{dow:1,doy:4}})}(D(6738))},2486:function(ke,_e,D){!function(b){"use strict";b.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m\xe5._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(D(6738))},6219:function(ke,_e,D){!function(b){"use strict";b.defineLocale("oc-lnc",{months:{standalone:"geni\xe8r_febri\xe8r_mar\xe7_abril_mai_junh_julhet_agost_setembre_oct\xf2bre_novembre_decembre".split("_"),format:"de geni\xe8r_de febri\xe8r_de mar\xe7_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'oct\xf2bre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dim\xe8cres_dij\xf2us_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[u\xe8i a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[i\xe8r a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(g,r){var T=1===g?"r":2===g?"n":3===g?"r":4===g?"t":"\xe8";return("w"===r||"W"===r)&&(T="a"),g+T},week:{dow:1,doy:4}})}(D(6738))},2829:function(ke,_e,D){!function(b){"use strict";var u={1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"},g={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"};b.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(T){return T.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(k){return g[k]})},postformat:function(T){return T.replace(/\d/g,function(k){return u[k]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(T,k){return 12===T&&(T=0),"\u0a30\u0a3e\u0a24"===k?T<4?T:T+12:"\u0a38\u0a35\u0a47\u0a30"===k?T:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===k?T>=10?T:T+12:"\u0a38\u0a3c\u0a3e\u0a2e"===k?T+12:void 0},meridiem:function(T,k,C){return T<4?"\u0a30\u0a3e\u0a24":T<10?"\u0a38\u0a35\u0a47\u0a30":T<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":T<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}})}(D(6738))},8444:function(ke,_e,D){!function(b){"use strict";var u="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),g="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),r=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa\u017a/i,/^lis/i,/^gru/i];function T(I){return I%10<5&&I%10>1&&~~(I/10)%10!=1}function k(I,U,W){var oe=I+" ";switch(W){case"ss":return oe+(T(I)?"sekundy":"sekund");case"m":return U?"minuta":"minut\u0119";case"mm":return oe+(T(I)?"minuty":"minut");case"h":return U?"godzina":"godzin\u0119";case"hh":return oe+(T(I)?"godziny":"godzin");case"ww":return oe+(T(I)?"tygodnie":"tygodni");case"MM":return oe+(T(I)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return oe+(T(I)?"lata":"lat")}}b.defineLocale("pl",{months:function(I,U){return I?/D MMMM/.test(U)?g[I.month()]:u[I.month()]:u},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:k,m:k,mm:k,h:k,hh:k,d:"1 dzie\u0144",dd:"%d dni",w:"tydzie\u0144",ww:k,M:"miesi\u0105c",MM:k,y:"rok",yy:k},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(D(6738))},6117:function(ke,_e,D){!function(b){"use strict";b.defineLocale("pt-br",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",invalidDate:"Data inv\xe1lida"})}(D(6738))},3170:function(ke,_e,D){!function(b){"use strict";b.defineLocale("pt",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(D(6738))},6587:function(ke,_e,D){!function(b){"use strict";function u(r,T,k){var I=" ";return(r%100>=20||r>=100&&r%100==0)&&(I=" de "),r+I+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"s\u0103pt\u0103m\xe2ni",MM:"luni",yy:"ani"}[k]}b.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:u,m:"un minut",mm:u,h:"o or\u0103",hh:u,d:"o zi",dd:u,w:"o s\u0103pt\u0103m\xe2n\u0103",ww:u,M:"o lun\u0103",MM:u,y:"un an",yy:u},week:{dow:1,doy:7}})}(D(6738))},9264:function(ke,_e,D){!function(b){"use strict";function g(k,C,I){return"m"===I?C?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":k+" "+function(k,C){var I=k.split("_");return C%10==1&&C%100!=11?I[0]:C%10>=2&&C%10<=4&&(C%100<10||C%100>=20)?I[1]:I[2]}({ss:C?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:C?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",ww:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043d\u0435\u0434\u0435\u043b\u0438_\u043d\u0435\u0434\u0435\u043b\u044c",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[I],+k)}var r=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];b.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(k){if(k.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(k){if(k.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:g,m:g,mm:g,h:"\u0447\u0430\u0441",hh:g,d:"\u0434\u0435\u043d\u044c",dd:g,w:"\u043d\u0435\u0434\u0435\u043b\u044f",ww:g,M:"\u043c\u0435\u0441\u044f\u0446",MM:g,y:"\u0433\u043e\u0434",yy:g},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(k){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(k)},meridiem:function(k,C,I){return k<4?"\u043d\u043e\u0447\u0438":k<12?"\u0443\u0442\u0440\u0430":k<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(k,C){switch(C){case"M":case"d":case"DDD":return k+"-\u0439";case"D":return k+"-\u0433\u043e";case"w":case"W":return k+"-\u044f";default:return k}},week:{dow:1,doy:4}})}(D(6738))},2135:function(ke,_e,D){!function(b){"use strict";var u=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],g=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"];b.defineLocale("sd",{months:u,monthsShort:u,weekdays:g,weekdaysShort:g,weekdaysMin:g,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(T){return"\u0634\u0627\u0645"===T},meridiem:function(T,k,C){return T<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(T){return T.replace(/\u060c/g,",")},postformat:function(T){return T.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(D(6738))},5366:function(ke,_e,D){!function(b){"use strict";b.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(D(6738))},3379:function(ke,_e,D){!function(b){"use strict";b.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(g){return g+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(g){return"\u0db4.\u0dc0."===g||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===g},meridiem:function(g,r,T){return g>11?T?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":T?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}})}(D(6738))},6143:function(ke,_e,D){!function(b){"use strict";var u="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),g="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function r(C){return C>1&&C<5}function T(C,I,U,W){var oe=C+" ";switch(U){case"s":return I||W?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return I||W?oe+(r(C)?"sekundy":"sek\xfand"):oe+"sekundami";case"m":return I?"min\xfata":W?"min\xfatu":"min\xfatou";case"mm":return I||W?oe+(r(C)?"min\xfaty":"min\xfat"):oe+"min\xfatami";case"h":return I?"hodina":W?"hodinu":"hodinou";case"hh":return I||W?oe+(r(C)?"hodiny":"hod\xedn"):oe+"hodinami";case"d":return I||W?"de\u0148":"d\u0148om";case"dd":return I||W?oe+(r(C)?"dni":"dn\xed"):oe+"d\u0148ami";case"M":return I||W?"mesiac":"mesiacom";case"MM":return I||W?oe+(r(C)?"mesiace":"mesiacov"):oe+"mesiacmi";case"y":return I||W?"rok":"rokom";case"yy":return I||W?oe+(r(C)?"roky":"rokov"):oe+"rokmi"}}b.defineLocale("sk",{months:u,monthsShort:g,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 4:case 5:return"[minul\xfd] dddd [o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:T,ss:T,m:T,mm:T,h:T,hh:T,d:T,dd:T,M:T,MM:T,y:T,yy:T},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(D(6738))},196:function(ke,_e,D){!function(b){"use strict";function u(r,T,k,C){var I=r+" ";switch(k){case"s":return T||C?"nekaj sekund":"nekaj sekundami";case"ss":return I+(1===r?T?"sekundo":"sekundi":2===r?T||C?"sekundi":"sekundah":r<5?T||C?"sekunde":"sekundah":"sekund");case"m":return T?"ena minuta":"eno minuto";case"mm":return I+(1===r?T?"minuta":"minuto":2===r?T||C?"minuti":"minutama":r<5?T||C?"minute":"minutami":T||C?"minut":"minutami");case"h":return T?"ena ura":"eno uro";case"hh":return I+(1===r?T?"ura":"uro":2===r?T||C?"uri":"urama":r<5?T||C?"ure":"urami":T||C?"ur":"urami");case"d":return T||C?"en dan":"enim dnem";case"dd":return I+(1===r?T||C?"dan":"dnem":2===r?T||C?"dni":"dnevoma":T||C?"dni":"dnevi");case"M":return T||C?"en mesec":"enim mesecem";case"MM":return I+(1===r?T||C?"mesec":"mesecem":2===r?T||C?"meseca":"mesecema":r<5?T||C?"mesece":"meseci":T||C?"mesecev":"meseci");case"y":return T||C?"eno leto":"enim letom";case"yy":return I+(1===r?T||C?"leto":"letom":2===r?T||C?"leti":"letoma":r<5?T||C?"leta":"leti":T||C?"let":"leti")}}b.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:u,ss:u,m:u,mm:u,h:u,hh:u,d:u,dd:u,M:u,MM:u,y:u,yy:u},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(D(6738))},1082:function(ke,_e,D){!function(b){"use strict";b.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(g){return"M"===g.charAt(0)},meridiem:function(g,r,T){return g<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(D(6738))},8963:function(ke,_e,D){!function(b){"use strict";var u={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u0435 \u043c\u0438\u043d\u0443\u0442\u0435"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0435","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],yy:["\u0433\u043e\u0434\u0438\u043d\u0430","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(r,T){return 1===r?T[0]:r>=2&&r<=4?T[1]:T[2]},translate:function(r,T,k){var C=u.words[k];return 1===k.length?T?C[0]:C[1]:r+" "+u.correctGrammaticalCase(r,C)}};b.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:u.translate,m:u.translate,mm:u.translate,h:u.translate,hh:u.translate,d:"\u0434\u0430\u043d",dd:u.translate,M:"\u043c\u0435\u0441\u0435\u0446",MM:u.translate,y:"\u0433\u043e\u0434\u0438\u043d\u0443",yy:u.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(D(6738))},1621:function(ke,_e,D){!function(b){"use strict";var u={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(r,T){return 1===r?T[0]:r>=2&&r<=4?T[1]:T[2]},translate:function(r,T,k){var C=u.words[k];return 1===k.length?T?C[0]:C[1]:r+" "+u.correctGrammaticalCase(r,C)}};b.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:u.translate,m:u.translate,mm:u.translate,h:u.translate,hh:u.translate,d:"dan",dd:u.translate,M:"mesec",MM:u.translate,y:"godinu",yy:u.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(D(6738))},1404:function(ke,_e,D){!function(b){"use strict";b.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(g,r,T){return g<11?"ekuseni":g<15?"emini":g<19?"entsambama":"ebusuku"},meridiemHour:function(g,r){return 12===g&&(g=0),"ekuseni"===r?g:"emini"===r?g>=11?g:g+12:"entsambama"===r||"ebusuku"===r?0===g?0:g+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(D(6738))},5685:function(ke,_e,D){!function(b){"use strict";b.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(g){var r=g%10;return g+(1==~~(g%100/10)?":e":1===r||2===r?":a":":e")},week:{dow:1,doy:4}})}(D(6738))},3872:function(ke,_e,D){!function(b){"use strict";b.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(D(6738))},4106:function(ke,_e,D){!function(b){"use strict";var u={1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"},g={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"};b.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(T){return T+"\u0bb5\u0ba4\u0bc1"},preparse:function(T){return T.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(k){return g[k]})},postformat:function(T){return T.replace(/\d/g,function(k){return u[k]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(T,k,C){return T<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":T<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":T<10?" \u0b95\u0bbe\u0bb2\u0bc8":T<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":T<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":T<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(T,k){return 12===T&&(T=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===k?T<2?T:T+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===k||"\u0b95\u0bbe\u0bb2\u0bc8"===k||"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===k&&T>=10?T:T+12},week:{dow:0,doy:6}})}(D(6738))},9204:function(ke,_e,D){!function(b){"use strict";b.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(g,r){return 12===g&&(g=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===r?g<4?g:g+12:"\u0c09\u0c26\u0c2f\u0c02"===r?g:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===r?g>=10?g:g+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===r?g+12:void 0},meridiem:function(g,r,T){return g<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":g<10?"\u0c09\u0c26\u0c2f\u0c02":g<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":g<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}})}(D(6738))},3692:function(ke,_e,D){!function(b){"use strict";b.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(g){var r=g%10;return g+(1==~~(g%100/10)?"th":1===r?"st":2===r?"nd":3===r?"rd":"th")},week:{dow:1,doy:4}})}(D(6738))},6361:function(ke,_e,D){!function(b){"use strict";var u={0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"};b.defineLocale("tg",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0430\u043b\u0438_\u043c\u0430\u0440\u0442\u0438_\u0430\u043f\u0440\u0435\u043b\u0438_\u043c\u0430\u0439\u0438_\u0438\u044e\u043d\u0438_\u0438\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442\u0438_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0438_\u043e\u043a\u0442\u044f\u0431\u0440\u0438_\u043d\u043e\u044f\u0431\u0440\u0438_\u0434\u0435\u043a\u0430\u0431\u0440\u0438".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_")},monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u0424\u0430\u0440\u0434\u043e \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(r,T){return 12===r&&(r=0),"\u0448\u0430\u0431"===T?r<4?r:r+12:"\u0441\u0443\u0431\u04b3"===T?r:"\u0440\u04ef\u0437"===T?r>=11?r:r+12:"\u0431\u0435\u0433\u043e\u04b3"===T?r+12:void 0},meridiem:function(r,T,k){return r<4?"\u0448\u0430\u0431":r<11?"\u0441\u0443\u0431\u04b3":r<16?"\u0440\u04ef\u0437":r<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(r){return r+(u[r]||u[r%10]||u[r>=100?100:null])},week:{dow:1,doy:7}})}(D(6738))},1735:function(ke,_e,D){!function(b){"use strict";b.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(g){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===g},meridiem:function(g,r,T){return g<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",w:"1 \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",ww:"%d \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}})}(D(6738))},1568:function(ke,_e,D){!function(b){"use strict";var u={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'\xfcnji",4:"'\xfcnji",100:"'\xfcnji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};b.defineLocale("tk",{months:"\xddanwar_Fewral_Mart_Aprel_Ma\xfd_I\xfdun_I\xfdul_Awgust_Sent\xfdabr_Okt\xfdabr_No\xfdabr_Dekabr".split("_"),monthsShort:"\xddan_Few_Mar_Apr_Ma\xfd_I\xfdn_I\xfdl_Awg_Sen_Okt_No\xfd_Dek".split("_"),weekdays:"\xddek\u015fenbe_Du\u015fenbe_Si\u015fenbe_\xc7ar\u015fenbe_Pen\u015fenbe_Anna_\u015eenbe".split("_"),weekdaysShort:"\xddek_Du\u015f_Si\u015f_\xc7ar_Pen_Ann_\u015een".split("_"),weekdaysMin:"\xddk_D\u015f_S\u015f_\xc7r_Pn_An_\u015en".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[d\xfc\xfdn] LT",lastWeek:"[ge\xe7en] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so\u0148",past:"%s \xf6\u0148",s:"birn\xe4\xe7e sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir a\xfd",MM:"%d a\xfd",y:"bir \xfdyl",yy:"%d \xfdyl"},ordinal:function(r,T){switch(T){case"d":case"D":case"Do":case"DD":return r;default:if(0===r)return r+"'unjy";var k=r%10;return r+(u[k]||u[r%100-k]||u[r>=100?100:null])}},week:{dow:1,doy:7}})}(D(6738))},6129:function(ke,_e,D){!function(b){"use strict";b.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(g){return g},week:{dow:1,doy:4}})}(D(6738))},3759:function(ke,_e,D){!function(b){"use strict";var u="pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function T(I,U,W,oe){var be=function(I){var U=Math.floor(I%1e3/100),W=Math.floor(I%100/10),oe=I%10,be="";return U>0&&(be+=u[U]+"vatlh"),W>0&&(be+=(""!==be?" ":"")+u[W]+"maH"),oe>0&&(be+=(""!==be?" ":"")+u[oe]),""===be?"pagh":be}(I);switch(W){case"ss":return be+" lup";case"mm":return be+" tup";case"hh":return be+" rep";case"dd":return be+" jaj";case"MM":return be+" jar";case"yy":return be+" DIS"}}b.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(I){var U=I;return-1!==I.indexOf("jaj")?U.slice(0,-3)+"leS":-1!==I.indexOf("jar")?U.slice(0,-3)+"waQ":-1!==I.indexOf("DIS")?U.slice(0,-3)+"nem":U+" pIq"},past:function(I){var U=I;return-1!==I.indexOf("jaj")?U.slice(0,-3)+"Hu\u2019":-1!==I.indexOf("jar")?U.slice(0,-3)+"wen":-1!==I.indexOf("DIS")?U.slice(0,-3)+"ben":U+" ret"},s:"puS lup",ss:T,m:"wa\u2019 tup",mm:T,h:"wa\u2019 rep",hh:T,d:"wa\u2019 jaj",dd:T,M:"wa\u2019 jar",MM:T,y:"wa\u2019 DIS",yy:T},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(D(6738))},1644:function(ke,_e,D){!function(b){"use strict";var u={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};b.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),meridiem:function(r,T,k){return r<12?k?"\xf6\xf6":"\xd6\xd6":k?"\xf6s":"\xd6S"},meridiemParse:/\xf6\xf6|\xd6\xd6|\xf6s|\xd6S/,isPM:function(r){return"\xf6s"===r||"\xd6S"===r},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(r,T){switch(T){case"d":case"D":case"Do":case"DD":return r;default:if(0===r)return r+"'\u0131nc\u0131";var k=r%10;return r+(u[k]||u[r%100-k]||u[r>=100?100:null])}},week:{dow:1,doy:7}})}(D(6738))},875:function(ke,_e,D){!function(b){"use strict";function g(r,T,k,C){var I={s:["viensas secunds","'iensas secunds"],ss:[r+" secunds",r+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[r+" m\xeduts",r+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[r+" \xfeoras",r+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[r+" ziuas",r+" ziuas"],M:["'n mes","'iens mes"],MM:[r+" mesen",r+" mesen"],y:["'n ar","'iens ar"],yy:[r+" ars",r+" ars"]};return C||T?I[k][0]:I[k][1]}b.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(r){return"d'o"===r.toLowerCase()},meridiem:function(r,T,k){return r>11?k?"d'o":"D'O":k?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:g,ss:g,m:g,mm:g,h:g,hh:g,d:g,dd:g,M:g,MM:g,y:g,yy:g},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(D(6738))},1041:function(ke,_e,D){!function(b){"use strict";b.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(D(6738))},6878:function(ke,_e,D){!function(b){"use strict";b.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}})}(D(6738))},4357:function(ke,_e,D){!function(b){"use strict";b.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(g,r){return 12===g&&(g=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===r||"\u0633\u06d5\u06be\u06d5\u0631"===r||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===r?g:"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"===r||"\u0643\u06d5\u0686"===r?g+12:g>=11?g:g+12},meridiem:function(g,r,T){var k=100*g+r;return k<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":k<900?"\u0633\u06d5\u06be\u06d5\u0631":k<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":k<1230?"\u0686\u06c8\u0634":k<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(g,r){switch(r){case"d":case"D":case"DDD":return g+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return g+"-\u06be\u06d5\u067e\u062a\u06d5";default:return g}},preparse:function(g){return g.replace(/\u060c/g,",")},postformat:function(g){return g.replace(/,/g,"\u060c")},week:{dow:1,doy:7}})}(D(6738))},4810:function(ke,_e,D){!function(b){"use strict";function g(C,I,U){return"m"===U?I?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===U?I?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":C+" "+function(C,I){var U=C.split("_");return I%10==1&&I%100!=11?U[0]:I%10>=2&&I%10<=4&&(I%100<10||I%100>=20)?U[1]:U[2]}({ss:I?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:I?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:I?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[U],+C)}function T(C){return function(){return C+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}b.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function(C,I){var U={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===C?U.nominative.slice(1,7).concat(U.nominative.slice(0,1)):C?U[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(I)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(I)?"genitive":"nominative"][C.day()]:U.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:T("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:T("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:T("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:T("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return T("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return T("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:g,m:g,mm:g,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:g,d:"\u0434\u0435\u043d\u044c",dd:g,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:g,y:"\u0440\u0456\u043a",yy:g},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(C){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(C)},meridiem:function(C,I,U){return C<4?"\u043d\u043e\u0447\u0456":C<12?"\u0440\u0430\u043d\u043a\u0443":C<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(C,I){switch(I){case"M":case"d":case"DDD":case"w":case"W":return C+"-\u0439";case"D":return C+"-\u0433\u043e";default:return C}},week:{dow:1,doy:7}})}(D(6738))},6794:function(ke,_e,D){!function(b){"use strict";var u=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],g=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];b.defineLocale("ur",{months:u,monthsShort:u,weekdays:g,weekdaysShort:g,weekdaysMin:g,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(T){return"\u0634\u0627\u0645"===T},meridiem:function(T,k,C){return T<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(T){return T.replace(/\u060c/g,",")},postformat:function(T){return T.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(D(6738))},7959:function(ke,_e,D){!function(b){"use strict";b.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(D(6738))},8966:function(ke,_e,D){!function(b){"use strict";b.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}})}(D(6738))},5386:function(ke,_e,D){!function(b){"use strict";b.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(g){return/^ch$/i.test(g)},meridiem:function(g,r,T){return g<12?T?"sa":"SA":T?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n tr\u01b0\u1edbc l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",w:"m\u1ed9t tu\u1ea7n",ww:"%d tu\u1ea7n",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(g){return g},week:{dow:1,doy:4}})}(D(6738))},3156:function(ke,_e,D){!function(b){"use strict";b.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(g){var r=g%10;return g+(1==~~(g%100/10)?"th":1===r?"st":2===r?"nd":3===r?"rd":"th")},week:{dow:1,doy:4}})}(D(6738))},8028:function(ke,_e,D){!function(b){"use strict";b.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}})}(D(6738))},9330:function(ke,_e,D){!function(b){"use strict";b.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(g,r){return 12===g&&(g=0),"\u51cc\u6668"===r||"\u65e9\u4e0a"===r||"\u4e0a\u5348"===r?g:"\u4e0b\u5348"===r||"\u665a\u4e0a"===r?g+12:g>=11?g:g+12},meridiem:function(g,r,T){var k=100*g+r;return k<600?"\u51cc\u6668":k<900?"\u65e9\u4e0a":k<1130?"\u4e0a\u5348":k<1230?"\u4e2d\u5348":k<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:function(g){return g.week()!==this.week()?"[\u4e0b]dddLT":"[\u672c]dddLT"},lastDay:"[\u6628\u5929]LT",lastWeek:function(g){return this.week()!==g.week()?"[\u4e0a]dddLT":"[\u672c]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(g,r){switch(r){case"d":case"D":case"DDD":return g+"\u65e5";case"M":return g+"\u6708";case"w":case"W":return g+"\u5468";default:return g}},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",w:"1 \u5468",ww:"%d \u5468",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})}(D(6738))},9380:function(ke,_e,D){!function(b){"use strict";b.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(g,r){return 12===g&&(g=0),"\u51cc\u6668"===r||"\u65e9\u4e0a"===r||"\u4e0a\u5348"===r?g:"\u4e2d\u5348"===r?g>=11?g:g+12:"\u4e0b\u5348"===r||"\u665a\u4e0a"===r?g+12:void 0},meridiem:function(g,r,T){var k=100*g+r;return k<600?"\u51cc\u6668":k<900?"\u65e9\u4e0a":k<1200?"\u4e0a\u5348":1200===k?"\u4e2d\u5348":k<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(g,r){switch(r){case"d":case"D":case"DDD":return g+"\u65e5";case"M":return g+"\u6708";case"w":case"W":return g+"\u9031";default:return g}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(D(6738))},874:function(ke,_e,D){!function(b){"use strict";b.defineLocale("zh-mo",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"D/M/YYYY",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(g,r){return 12===g&&(g=0),"\u51cc\u6668"===r||"\u65e9\u4e0a"===r||"\u4e0a\u5348"===r?g:"\u4e2d\u5348"===r?g>=11?g:g+12:"\u4e0b\u5348"===r||"\u665a\u4e0a"===r?g+12:void 0},meridiem:function(g,r,T){var k=100*g+r;return k<600?"\u51cc\u6668":k<900?"\u65e9\u4e0a":k<1130?"\u4e0a\u5348":k<1230?"\u4e2d\u5348":k<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(g,r){switch(r){case"d":case"D":case"DDD":return g+"\u65e5";case"M":return g+"\u6708";case"w":case"W":return g+"\u9031";default:return g}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(D(6738))},6508:function(ke,_e,D){!function(b){"use strict";b.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(g,r){return 12===g&&(g=0),"\u51cc\u6668"===r||"\u65e9\u4e0a"===r||"\u4e0a\u5348"===r?g:"\u4e2d\u5348"===r?g>=11?g:g+12:"\u4e0b\u5348"===r||"\u665a\u4e0a"===r?g+12:void 0},meridiem:function(g,r,T){var k=100*g+r;return k<600?"\u51cc\u6668":k<900?"\u65e9\u4e0a":k<1130?"\u4e0a\u5348":k<1230?"\u4e2d\u5348":k<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(g,r){switch(r){case"d":case"D":case"DDD":return g+"\u65e5";case"M":return g+"\u6708";case"w":case"W":return g+"\u9031";default:return g}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(D(6738))},6738:function(ke,_e,D){(ke=D.nmd(ke)).exports=function(){"use strict";var b,Ie;function u(){return b.apply(null,arguments)}function r(m){return m instanceof Array||"[object Array]"===Object.prototype.toString.call(m)}function T(m){return null!=m&&"[object Object]"===Object.prototype.toString.call(m)}function k(m,M){return Object.prototype.hasOwnProperty.call(m,M)}function C(m){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(m).length;var M;for(M in m)if(k(m,M))return!1;return!0}function I(m){return void 0===m}function U(m){return"number"==typeof m||"[object Number]"===Object.prototype.toString.call(m)}function W(m){return m instanceof Date||"[object Date]"===Object.prototype.toString.call(m)}function oe(m,M){var R,A=[];for(R=0;R<m.length;++R)A.push(M(m[R],R));return A}function be(m,M){for(var A in M)k(M,A)&&(m[A]=M[A]);return k(M,"toString")&&(m.toString=M.toString),k(M,"valueOf")&&(m.valueOf=M.valueOf),m}function G(m,M,A,R){return Is(m,M,A,R,!0).utc()}function ge(m){return null==m._pf&&(m._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),m._pf}function $e(m){if(null==m._isValid){var M=ge(m),A=Ie.call(M.parsedDateParts,function(V){return null!=V}),R=!isNaN(m._d.getTime())&&M.overflow<0&&!M.empty&&!M.invalidEra&&!M.invalidMonth&&!M.invalidWeekday&&!M.weekdayMismatch&&!M.nullInput&&!M.invalidFormat&&!M.userInvalidated&&(!M.meridiem||M.meridiem&&A);if(m._strict&&(R=R&&0===M.charsLeftOver&&0===M.unusedTokens.length&&void 0===M.bigHour),null!=Object.isFrozen&&Object.isFrozen(m))return R;m._isValid=R}return m._isValid}function j(m){var M=G(NaN);return null!=m?be(ge(M),m):ge(M).userInvalidated=!0,M}Ie=Array.prototype.some?Array.prototype.some:function(m){var R,M=Object(this),A=M.length>>>0;for(R=0;R<A;R++)if(R in M&&m.call(this,M[R],R,M))return!0;return!1};var Je=u.momentProperties=[],Ee=!1;function Pe(m,M){var A,R,V;if(I(M._isAMomentObject)||(m._isAMomentObject=M._isAMomentObject),I(M._i)||(m._i=M._i),I(M._f)||(m._f=M._f),I(M._l)||(m._l=M._l),I(M._strict)||(m._strict=M._strict),I(M._tzm)||(m._tzm=M._tzm),I(M._isUTC)||(m._isUTC=M._isUTC),I(M._offset)||(m._offset=M._offset),I(M._pf)||(m._pf=ge(M)),I(M._locale)||(m._locale=M._locale),Je.length>0)for(A=0;A<Je.length;A++)I(V=M[R=Je[A]])||(m[R]=V);return m}function lt(m){Pe(this,m),this._d=new Date(null!=m._d?m._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Ee&&(Ee=!0,u.updateOffset(this),Ee=!1)}function We(m){return m instanceof lt||null!=m&&null!=m._isAMomentObject}function Ke(m){!1===u.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+m)}function Xe(m,M){var A=!0;return be(function(){if(null!=u.deprecationHandler&&u.deprecationHandler(null,m),A){var V,ve,Ne,R=[];for(ve=0;ve<arguments.length;ve++){if(V="","object"==typeof arguments[ve]){for(Ne in V+="\n["+ve+"] ",arguments[0])k(arguments[0],Ne)&&(V+=Ne+": "+arguments[0][Ne]+", ");V=V.slice(0,-2)}else V=arguments[ve];R.push(V)}Ke(m+"\nArguments: "+Array.prototype.slice.call(R).join("")+"\n"+(new Error).stack),A=!1}return M.apply(this,arguments)},M)}var Rt,Ye={};function tt(m,M){null!=u.deprecationHandler&&u.deprecationHandler(m,M),Ye[m]||(Ke(M),Ye[m]=!0)}function et(m){return"undefined"!=typeof Function&&m instanceof Function||"[object Function]"===Object.prototype.toString.call(m)}function dt(m,M){var R,A=be({},m);for(R in M)k(M,R)&&(T(m[R])&&T(M[R])?(A[R]={},be(A[R],m[R]),be(A[R],M[R])):null!=M[R]?A[R]=M[R]:delete A[R]);for(R in m)k(m,R)&&!k(M,R)&&T(m[R])&&(A[R]=be({},A[R]));return A}function Mt(m){null!=m&&this.set(m)}u.suppressDeprecationWarnings=!1,u.deprecationHandler=null,Rt=Object.keys?Object.keys:function(m){var M,A=[];for(M in m)k(m,M)&&A.push(M);return A};function ln(m,M,A){var R=""+Math.abs(m);return(m>=0?A?"+":"":"-")+Math.pow(10,Math.max(0,M-R.length)).toString().substr(1)+R}var It=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,mn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Nn={},yn={};function yt(m,M,A,R){var V=R;"string"==typeof R&&(V=function(){return this[R]()}),m&&(yn[m]=V),M&&(yn[M[0]]=function(){return ln(V.apply(this,arguments),M[1],M[2])}),A&&(yn[A]=function(){return this.localeData().ordinal(V.apply(this,arguments),m)})}function Lt(m){return m.match(/\[[\s\S]/)?m.replace(/^\[|\]$/g,""):m.replace(/\\/g,"")}function Ge(m,M){return m.isValid()?(M=wt(M,m.localeData()),Nn[M]=Nn[M]||function(m){var A,R,M=m.match(It);for(A=0,R=M.length;A<R;A++)M[A]=yn[M[A]]?yn[M[A]]:Lt(M[A]);return function(V){var Ne,ve="";for(Ne=0;Ne<R;Ne++)ve+=et(M[Ne])?M[Ne].call(V,m):M[Ne];return ve}}(M),Nn[M](m)):m.localeData().invalidDate()}function wt(m,M){var A=5;function R(V){return M.longDateFormat(V)||V}for(mn.lastIndex=0;A>=0&&mn.test(m);)m=m.replace(mn,R),mn.lastIndex=0,A-=1;return m}var Hi={};function In(m,M){var A=m.toLowerCase();Hi[A]=Hi[A+"s"]=Hi[M]=m}function Jn(m){return"string"==typeof m?Hi[m]||Hi[m.toLowerCase()]:void 0}function fi(m){var A,R,M={};for(R in m)k(m,R)&&(A=Jn(R))&&(M[A]=m[R]);return M}var tr={};function Un(m,M){tr[m]=M}function Hn(m){return m%4==0&&m%100!=0||m%400==0}function ci(m){return m<0?Math.ceil(m)||0:Math.floor(m)}function Bt(m){var M=+m,A=0;return 0!==M&&isFinite(M)&&(A=ci(M)),A}function Wi(m,M){return function(A){return null!=A?(Or(this,m,A),u.updateOffset(this,M),this):mr(this,m)}}function mr(m,M){return m.isValid()?m._d["get"+(m._isUTC?"UTC":"")+M]():NaN}function Or(m,M,A){m.isValid()&&!isNaN(A)&&("FullYear"===M&&Hn(m.year())&&1===m.month()&&29===m.date()?(A=Bt(A),m._d["set"+(m._isUTC?"UTC":"")+M](A,m.month(),Ft(A,m.month()))):m._d["set"+(m._isUTC?"UTC":"")+M](A))}var me,ws=/\d/,On=/\d\d/,Qr=/\d{3}/,gi=/\d{4}/,Vi=/[+-]?\d{6}/,un=/\d\d?/,pr=/\d\d\d\d?/,qi=/\d\d\d\d\d\d?/,nr=/\d{1,3}/,zr=/\d{1,4}/,Gi=/[+-]?\d{1,6}/,Ci=/\d+/,ee=/[+-]?\d+/,F=/Z|[+-]\d\d:?\d\d/gi,N=/Z|[+-]\d\d(?::?\d\d)?/gi,se=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function ue(m,M,A){me[m]=et(M)?M:function(R,V){return R&&A?A:M}}function Le(m,M){return k(me,m)?me[m](M._strict,M._locale):new RegExp(function(m){return Te(m.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(M,A,R,V,ve){return A||R||V||ve}))}(m))}function Te(m){return m.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}me={};var Ze={};function Qe(m,M){var A,R=M;for("string"==typeof m&&(m=[m]),U(M)&&(R=function(V,ve){ve[M]=Bt(V)}),A=0;A<m.length;A++)Ze[m[A]]=R}function qe(m,M){Qe(m,function(A,R,V,ve){V._w=V._w||{},M(A,V._w,V,ve)})}function xt(m,M,A){null!=M&&k(Ze,m)&&Ze[m](M,A._a,A,m)}var rt;function Ft(m,M){if(isNaN(m)||isNaN(M))return NaN;var A=function(m,M){return(m%M+M)%M}(M,12);return m+=(M-A)/12,1===A?Hn(m)?29:28:31-A%7%2}rt=Array.prototype.indexOf?Array.prototype.indexOf:function(m){var M;for(M=0;M<this.length;++M)if(this[M]===m)return M;return-1},yt("M",["MM",2],"Mo",function(){return this.month()+1}),yt("MMM",0,0,function(m){return this.localeData().monthsShort(this,m)}),yt("MMMM",0,0,function(m){return this.localeData().months(this,m)}),In("month","M"),Un("month",8),ue("M",un),ue("MM",un,On),ue("MMM",function(m,M){return M.monthsShortRegex(m)}),ue("MMMM",function(m,M){return M.monthsRegex(m)}),Qe(["M","MM"],function(m,M){M[1]=Bt(m)-1}),Qe(["MMM","MMMM"],function(m,M,A,R){var V=A._locale.monthsParse(m,R,A._strict);null!=V?M[1]=V:ge(A).invalidMonth=m});var Zt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),An="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),fr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Nt=se,sa=se;function wi(m,M,A){var R,V,ve,Ne=m.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],R=0;R<12;++R)ve=G([2e3,R]),this._shortMonthsParse[R]=this.monthsShort(ve,"").toLocaleLowerCase(),this._longMonthsParse[R]=this.months(ve,"").toLocaleLowerCase();return A?"MMM"===M?-1!==(V=rt.call(this._shortMonthsParse,Ne))?V:null:-1!==(V=rt.call(this._longMonthsParse,Ne))?V:null:"MMM"===M?-1!==(V=rt.call(this._shortMonthsParse,Ne))||-1!==(V=rt.call(this._longMonthsParse,Ne))?V:null:-1!==(V=rt.call(this._longMonthsParse,Ne))||-1!==(V=rt.call(this._shortMonthsParse,Ne))?V:null}function Qa(m,M){var A;if(!m.isValid())return m;if("string"==typeof M)if(/^\d+$/.test(M))M=Bt(M);else if(!U(M=m.localeData().monthsParse(M)))return m;return A=Math.min(m.date(),Ft(m.year(),M)),m._d["set"+(m._isUTC?"UTC":"")+"Month"](M,A),m}function ir(m){return null!=m?(Qa(this,m),u.updateOffset(this,!0),this):mr(this,"Month")}function Pi(){function m(Ne,Pt){return Pt.length-Ne.length}var V,ve,M=[],A=[],R=[];for(V=0;V<12;V++)ve=G([2e3,V]),M.push(this.monthsShort(ve,"")),A.push(this.months(ve,"")),R.push(this.months(ve,"")),R.push(this.monthsShort(ve,""));for(M.sort(m),A.sort(m),R.sort(m),V=0;V<12;V++)M[V]=Te(M[V]),A[V]=Te(A[V]);for(V=0;V<24;V++)R[V]=Te(R[V]);this._monthsRegex=new RegExp("^("+R.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+A.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+M.join("|")+")","i")}function Vt(m){return Hn(m)?366:365}yt("Y",0,0,function(){var m=this.year();return m<=9999?ln(m,4):"+"+m}),yt(0,["YY",2],0,function(){return this.year()%100}),yt(0,["YYYY",4],0,"year"),yt(0,["YYYYY",5],0,"year"),yt(0,["YYYYYY",6,!0],0,"year"),In("year","y"),Un("year",1),ue("Y",ee),ue("YY",un,On),ue("YYYY",zr,gi),ue("YYYYY",Gi,Vi),ue("YYYYYY",Gi,Vi),Qe(["YYYYY","YYYYYY"],0),Qe("YYYY",function(m,M){M[0]=2===m.length?u.parseTwoDigitYear(m):Bt(m)}),Qe("YY",function(m,M){M[0]=u.parseTwoDigitYear(m)}),Qe("Y",function(m,M){M[0]=parseInt(m,10)}),u.parseTwoDigitYear=function(m){return Bt(m)+(Bt(m)>68?1900:2e3)};var Ts=Wi("FullYear",!0);function ni(m,M,A,R,V,ve,Ne){var Pt;return m<100&&m>=0?(Pt=new Date(m+400,M,A,R,V,ve,Ne),isFinite(Pt.getFullYear())&&Pt.setFullYear(m)):Pt=new Date(m,M,A,R,V,ve,Ne),Pt}function ii(m){var M,A;return m<100&&m>=0?((A=Array.prototype.slice.call(arguments))[0]=m+400,M=new Date(Date.UTC.apply(null,A)),isFinite(M.getUTCFullYear())&&M.setUTCFullYear(m)):M=new Date(Date.UTC.apply(null,arguments)),M}function Ls(m,M,A){var R=7+M-A;return-(7+ii(m,0,R).getUTCDay()-M)%7+R-1}function ks(m,M,A,R,V){var Xt,kn,Pt=1+7*(M-1)+(7+A-R)%7+Ls(m,R,V);return Pt<=0?kn=Vt(Xt=m-1)+Pt:Pt>Vt(m)?(Xt=m+1,kn=Pt-Vt(m)):(Xt=m,kn=Pt),{year:Xt,dayOfYear:kn}}function Ln(m,M,A){var ve,Ne,R=Ls(m.year(),M,A),V=Math.floor((m.dayOfYear()-R-1)/7)+1;return V<1?ve=V+ui(Ne=m.year()-1,M,A):V>ui(m.year(),M,A)?(ve=V-ui(m.year(),M,A),Ne=m.year()+1):(Ne=m.year(),ve=V),{week:ve,year:Ne}}function ui(m,M,A){var R=Ls(m,M,A),V=Ls(m+1,M,A);return(Vt(m)-R+V)/7}yt("w",["ww",2],"wo","week"),yt("W",["WW",2],"Wo","isoWeek"),In("week","w"),In("isoWeek","W"),Un("week",5),Un("isoWeek",5),ue("w",un),ue("ww",un,On),ue("W",un),ue("WW",un,On),qe(["w","ww","W","WW"],function(m,M,A,R){M[R.substr(0,1)]=Bt(m)});function no(m,M){return m.slice(M,7).concat(m.slice(0,M))}yt("d",0,"do","day"),yt("dd",0,0,function(m){return this.localeData().weekdaysMin(this,m)}),yt("ddd",0,0,function(m){return this.localeData().weekdaysShort(this,m)}),yt("dddd",0,0,function(m){return this.localeData().weekdays(this,m)}),yt("e",0,0,"weekday"),yt("E",0,0,"isoWeekday"),In("day","d"),In("weekday","e"),In("isoWeekday","E"),Un("day",11),Un("weekday",11),Un("isoWeekday",11),ue("d",un),ue("e",un),ue("E",un),ue("dd",function(m,M){return M.weekdaysMinRegex(m)}),ue("ddd",function(m,M){return M.weekdaysShortRegex(m)}),ue("dddd",function(m,M){return M.weekdaysRegex(m)}),qe(["dd","ddd","dddd"],function(m,M,A,R){var V=A._locale.weekdaysParse(m,R,A._strict);null!=V?M.d=V:ge(A).invalidWeekday=m}),qe(["d","e","E"],function(m,M,A,R){M[R]=Bt(m)});var io="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Kn="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),la="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),yr=se,ro=se,ca=se;function da(m,M,A){var R,V,ve,Ne=m.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],R=0;R<7;++R)ve=G([2e3,1]).day(R),this._minWeekdaysParse[R]=this.weekdaysMin(ve,"").toLocaleLowerCase(),this._shortWeekdaysParse[R]=this.weekdaysShort(ve,"").toLocaleLowerCase(),this._weekdaysParse[R]=this.weekdays(ve,"").toLocaleLowerCase();return A?"dddd"===M?-1!==(V=rt.call(this._weekdaysParse,Ne))?V:null:"ddd"===M?-1!==(V=rt.call(this._shortWeekdaysParse,Ne))?V:null:-1!==(V=rt.call(this._minWeekdaysParse,Ne))?V:null:"dddd"===M?-1!==(V=rt.call(this._weekdaysParse,Ne))||-1!==(V=rt.call(this._shortWeekdaysParse,Ne))||-1!==(V=rt.call(this._minWeekdaysParse,Ne))?V:null:"ddd"===M?-1!==(V=rt.call(this._shortWeekdaysParse,Ne))||-1!==(V=rt.call(this._weekdaysParse,Ne))||-1!==(V=rt.call(this._minWeekdaysParse,Ne))?V:null:-1!==(V=rt.call(this._minWeekdaysParse,Ne))||-1!==(V=rt.call(this._weekdaysParse,Ne))||-1!==(V=rt.call(this._shortWeekdaysParse,Ne))?V:null}function Ur(){function m(Ar,ji){return ji.length-Ar.length}var ve,Ne,Pt,Xt,kn,M=[],A=[],R=[],V=[];for(ve=0;ve<7;ve++)Ne=G([2e3,1]).day(ve),Pt=Te(this.weekdaysMin(Ne,"")),Xt=Te(this.weekdaysShort(Ne,"")),kn=Te(this.weekdays(Ne,"")),M.push(Pt),A.push(Xt),R.push(kn),V.push(Pt),V.push(Xt),V.push(kn);M.sort(m),A.sort(m),R.sort(m),V.sort(m),this._weekdaysRegex=new RegExp("^("+V.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+R.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+A.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+M.join("|")+")","i")}function vr(){return this.hours()%12||12}function jr(m,M){yt(m,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),M)})}function Es(m,M){return M._meridiemParse}yt("H",["HH",2],0,"hour"),yt("h",["hh",2],0,vr),yt("k",["kk",2],0,function(){return this.hours()||24}),yt("hmm",0,0,function(){return""+vr.apply(this)+ln(this.minutes(),2)}),yt("hmmss",0,0,function(){return""+vr.apply(this)+ln(this.minutes(),2)+ln(this.seconds(),2)}),yt("Hmm",0,0,function(){return""+this.hours()+ln(this.minutes(),2)}),yt("Hmmss",0,0,function(){return""+this.hours()+ln(this.minutes(),2)+ln(this.seconds(),2)}),jr("a",!0),jr("A",!1),In("hour","h"),Un("hour",13),ue("a",Es),ue("A",Es),ue("H",un),ue("h",un),ue("k",un),ue("HH",un,On),ue("hh",un,On),ue("kk",un,On),ue("hmm",pr),ue("hmmss",qi),ue("Hmm",pr),ue("Hmmss",qi),Qe(["H","HH"],3),Qe(["k","kk"],function(m,M,A){var R=Bt(m);M[3]=24===R?0:R}),Qe(["a","A"],function(m,M,A){A._isPm=A._locale.isPM(m),A._meridiem=m}),Qe(["h","hh"],function(m,M,A){M[3]=Bt(m),ge(A).bigHour=!0}),Qe("hmm",function(m,M,A){var R=m.length-2;M[3]=Bt(m.substr(0,R)),M[4]=Bt(m.substr(R)),ge(A).bigHour=!0}),Qe("hmmss",function(m,M,A){var R=m.length-4,V=m.length-2;M[3]=Bt(m.substr(0,R)),M[4]=Bt(m.substr(R,2)),M[5]=Bt(m.substr(V)),ge(A).bigHour=!0}),Qe("Hmm",function(m,M,A){var R=m.length-2;M[3]=Bt(m.substr(0,R)),M[4]=Bt(m.substr(R))}),Qe("Hmmss",function(m,M,A){var R=m.length-4,V=m.length-2;M[3]=Bt(m.substr(0,R)),M[4]=Bt(m.substr(R,2)),M[5]=Bt(m.substr(V))});var _a=Wi("Hours",!0);var rr,ns={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Zt,monthsShort:An,week:{dow:0,doy:6},weekdays:io,weekdaysMin:la,weekdaysShort:Kn,meridiemParse:/[ap]\.?m?\.?/i},dn={},Gt={};function ma(m,M){var A,R=Math.min(m.length,M.length);for(A=0;A<R;A+=1)if(m[A]!==M[A])return A;return R}function pa(m){return m&&m.toLowerCase().replace("_","-")}function Mr(m){var M=null;if(void 0===dn[m]&&ke&&ke.exports)try{M=rr._abbr,D(6700)("./"+m),Ji(M)}catch(R){dn[m]=null}return dn[m]}function Ji(m,M){var A;return m&&((A=I(M)?Ri(m):lo(m,M))?rr=A:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+m+" not found. Did you forget to load it?")),rr._abbr}function lo(m,M){if(null!==M){var A,R=ns;if(M.abbr=m,null!=dn[m])tt("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),R=dn[m]._config;else if(null!=M.parentLocale)if(null!=dn[M.parentLocale])R=dn[M.parentLocale]._config;else{if(null==(A=Mr(M.parentLocale)))return Gt[M.parentLocale]||(Gt[M.parentLocale]=[]),Gt[M.parentLocale].push({name:m,config:M}),null;R=A._config}return dn[m]=new Mt(dt(R,M)),Gt[m]&&Gt[m].forEach(function(V){lo(V.name,V.config)}),Ji(m),dn[m]}return delete dn[m],null}function Ri(m){var M;if(m&&m._locale&&m._locale._abbr&&(m=m._locale._abbr),!m)return rr;if(!r(m)){if(M=Mr(m))return M;m=[m]}return function(m){for(var A,R,V,ve,M=0;M<m.length;){for(A=(ve=pa(m[M]).split("-")).length,R=(R=pa(m[M+1]))?R.split("-"):null;A>0;){if(V=Mr(ve.slice(0,A).join("-")))return V;if(R&&R.length>=A&&ma(ve,R)>=A-1)break;A--}M++}return rr}(m)}function is(m){var M,A=m._a;return A&&-2===ge(m).overflow&&(M=A[1]<0||A[1]>11?1:A[2]<1||A[2]>Ft(A[0],A[1])?2:A[3]<0||A[3]>24||24===A[3]&&(0!==A[4]||0!==A[5]||0!==A[6])?3:A[4]<0||A[4]>59?4:A[5]<0||A[5]>59?5:A[6]<0||A[6]>999?6:-1,ge(m)._overflowDayOfYear&&(M<0||M>2)&&(M=2),ge(m)._overflowWeeks&&-1===M&&(M=7),ge(m)._overflowWeekday&&-1===M&&(M=8),ge(m).overflow=M),m}var ga=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,co=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ho=/Z|[+-]\d\d(?::?\d\d)?/,Ss=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],br=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Cs=/^\/?Date\((-?\d+)/i,Wo=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ti={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ya(m){var M,A,ve,Ne,Pt,Xt,R=m._i,V=ga.exec(R)||co.exec(R);if(V){for(ge(m).iso=!0,M=0,A=Ss.length;M<A;M++)if(Ss[M][1].exec(V[1])){Ne=Ss[M][0],ve=!1!==Ss[M][2];break}if(null==Ne)return void(m._isValid=!1);if(V[3]){for(M=0,A=br.length;M<A;M++)if(br[M][1].exec(V[3])){Pt=(V[2]||" ")+br[M][0];break}if(null==Pt)return void(m._isValid=!1)}if(!ve&&null!=Pt)return void(m._isValid=!1);if(V[4]){if(!Ho.exec(V[4]))return void(m._isValid=!1);Xt="Z"}m._f=Ne+(Pt||"")+(Xt||""),wa(m)}else m._isValid=!1}function Ps(m){var M=parseInt(m,10);return M<=49?2e3+M:M<=999?1900+M:M}function As(m){var A,M=Wo.exec(function(m){return m.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(m._i));if(M){if(A=function(m,M,A,R,V,ve){var Ne=[Ps(m),An.indexOf(M),parseInt(A,10),parseInt(R,10),parseInt(V,10)];return ve&&Ne.push(parseInt(ve,10)),Ne}(M[4],M[3],M[2],M[5],M[6],M[7]),!function(m,M,A){return!m||Kn.indexOf(m)===new Date(M[0],M[1],M[2]).getDay()||(ge(A).weekdayMismatch=!0,A._isValid=!1,!1)}(M[1],A,m))return;m._a=A,m._tzm=function(m,M,A){if(m)return Ti[m];if(M)return 0;var R=parseInt(A,10),V=R%100;return(R-V)/100*60+V}(M[8],M[9],M[10]),m._d=ii.apply(null,m._a),m._d.setUTCMinutes(m._d.getUTCMinutes()-m._tzm),ge(m).rfc2822=!0}else m._isValid=!1}function sr(m,M,A){return null!=m?m:null!=M?M:A}function ba(m){var M,A,V,ve,Ne,R=[];if(!m._d){for(V=function(m){var M=new Date(u.now());return m._useUTC?[M.getUTCFullYear(),M.getUTCMonth(),M.getUTCDate()]:[M.getFullYear(),M.getMonth(),M.getDate()]}(m),m._w&&null==m._a[2]&&null==m._a[1]&&function(m){var M,A,R,V,ve,Ne,Pt,Xt,kn;null!=(M=m._w).GG||null!=M.W||null!=M.E?(ve=1,Ne=4,A=sr(M.GG,m._a[0],Ln(sn(),1,4).year),R=sr(M.W,1),((V=sr(M.E,1))<1||V>7)&&(Xt=!0)):(ve=m._locale._week.dow,Ne=m._locale._week.doy,kn=Ln(sn(),ve,Ne),A=sr(M.gg,m._a[0],kn.year),R=sr(M.w,kn.week),null!=M.d?((V=M.d)<0||V>6)&&(Xt=!0):null!=M.e?(V=M.e+ve,(M.e<0||M.e>6)&&(Xt=!0)):V=ve),R<1||R>ui(A,ve,Ne)?ge(m)._overflowWeeks=!0:null!=Xt?ge(m)._overflowWeekday=!0:(Pt=ks(A,R,V,ve,Ne),m._a[0]=Pt.year,m._dayOfYear=Pt.dayOfYear)}(m),null!=m._dayOfYear&&(Ne=sr(m._a[0],V[0]),(m._dayOfYear>Vt(Ne)||0===m._dayOfYear)&&(ge(m)._overflowDayOfYear=!0),A=ii(Ne,0,m._dayOfYear),m._a[1]=A.getUTCMonth(),m._a[2]=A.getUTCDate()),M=0;M<3&&null==m._a[M];++M)m._a[M]=R[M]=V[M];for(;M<7;M++)m._a[M]=R[M]=null==m._a[M]?2===M?1:0:m._a[M];24===m._a[3]&&0===m._a[4]&&0===m._a[5]&&0===m._a[6]&&(m._nextDay=!0,m._a[3]=0),m._d=(m._useUTC?ii:ni).apply(null,R),ve=m._useUTC?m._d.getUTCDay():m._d.getDay(),null!=m._tzm&&m._d.setUTCMinutes(m._d.getUTCMinutes()-m._tzm),m._nextDay&&(m._a[3]=24),m._w&&void 0!==m._w.d&&m._w.d!==ve&&(ge(m).weekdayMismatch=!0)}}function wa(m){if(m._f!==u.ISO_8601)if(m._f!==u.RFC_2822){m._a=[],ge(m).empty=!0;var A,R,V,ve,Ne,kn,M=""+m._i,Pt=M.length,Xt=0;for(V=wt(m._f,m._locale).match(It)||[],A=0;A<V.length;A++)(R=(M.match(Le(ve=V[A],m))||[])[0])&&((Ne=M.substr(0,M.indexOf(R))).length>0&&ge(m).unusedInput.push(Ne),M=M.slice(M.indexOf(R)+R.length),Xt+=R.length),yn[ve]?(R?ge(m).empty=!1:ge(m).unusedTokens.push(ve),xt(ve,R,m)):m._strict&&!R&&ge(m).unusedTokens.push(ve);ge(m).charsLeftOver=Pt-Xt,M.length>0&&ge(m).unusedInput.push(M),m._a[3]<=12&&!0===ge(m).bigHour&&m._a[3]>0&&(ge(m).bigHour=void 0),ge(m).parsedDateParts=m._a.slice(0),ge(m).meridiem=m._meridiem,m._a[3]=function(m,M,A){var R;return null==A?M:null!=m.meridiemHour?m.meridiemHour(M,A):(null!=m.isPM&&((R=m.isPM(A))&&M<12&&(M+=12),!R&&12===M&&(M=0)),M)}(m._locale,m._a[3],m._meridiem),null!==(kn=ge(m).era)&&(m._a[0]=m._locale.erasConvertYear(kn,m._a[0])),ba(m),is(m)}else As(m);else ya(m)}function qo(m){var M=m._i,A=m._f;return m._locale=m._locale||Ri(m._l),null===M||void 0===A&&""===M?j({nullInput:!0}):("string"==typeof M&&(m._i=M=m._locale.preparse(M)),We(M)?new lt(is(M)):(W(M)?m._d=M:r(A)?function(m){var M,A,R,V,ve,Ne,Pt=!1;if(0===m._f.length)return ge(m).invalidFormat=!0,void(m._d=new Date(NaN));for(V=0;V<m._f.length;V++)ve=0,Ne=!1,M=Pe({},m),null!=m._useUTC&&(M._useUTC=m._useUTC),M._f=m._f[V],wa(M),$e(M)&&(Ne=!0),ve+=ge(M).charsLeftOver,ve+=10*ge(M).unusedTokens.length,ge(M).score=ve,Pt?ve<R&&(R=ve,A=M):(null==R||ve<R||Ne)&&(R=ve,A=M,Ne&&(Pt=!0));be(m,A||M)}(m):A?wa(m):function(m){var M=m._i;I(M)?m._d=new Date(u.now()):W(M)?m._d=new Date(M.valueOf()):"string"==typeof M?function(m){var M=Cs.exec(m._i);null===M?(ya(m),!1===m._isValid&&(delete m._isValid,As(m),!1===m._isValid&&(delete m._isValid,m._strict?m._isValid=!1:u.createFromInputFallback(m)))):m._d=new Date(+M[1])}(m):r(M)?(m._a=oe(M.slice(0),function(A){return parseInt(A,10)}),ba(m)):T(M)?function(m){if(!m._d){var M=fi(m._i);m._a=oe([M.year,M.month,void 0===M.day?M.date:M.day,M.hour,M.minute,M.second,M.millisecond],function(R){return R&&parseInt(R,10)}),ba(m)}}(m):U(M)?m._d=new Date(M):u.createFromInputFallback(m)}(m),$e(m)||(m._d=null),m))}function Is(m,M,A,R,V){var ve={};return(!0===M||!1===M)&&(R=M,M=void 0),(!0===A||!1===A)&&(R=A,A=void 0),(T(m)&&C(m)||r(m)&&0===m.length)&&(m=void 0),ve._isAMomentObject=!0,ve._useUTC=ve._isUTC=V,ve._l=A,ve._i=m,ve._f=M,ve._strict=R,function(m){var M=new lt(is(qo(m)));return M._nextDay&&(M.add(1,"d"),M._nextDay=void 0),M}(ve)}function sn(m,M,A,R){return Is(m,M,A,R,!1)}u.createFromInputFallback=Xe("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(m){m._d=new Date(m._i+(m._useUTC?" UTC":""))}),u.ISO_8601=function(){},u.RFC_2822=function(){};var Go=Xe("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var m=sn.apply(null,arguments);return this.isValid()&&m.isValid()?m<this?this:m:j()}),$o=Xe("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var m=sn.apply(null,arguments);return this.isValid()&&m.isValid()?m>this?this:m:j()});function Ta(m,M){var A,R;if(1===M.length&&r(M[0])&&(M=M[0]),!M.length)return sn();for(A=M[0],R=1;R<M.length;++R)(!M[R].isValid()||M[R][m](A))&&(A=M[R]);return A}var Ii=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Nr(m){var M=fi(m),A=M.year||0,R=M.quarter||0,V=M.month||0,ve=M.week||M.isoWeek||0,Ne=M.day||0,Pt=M.hour||0,Xt=M.minute||0,kn=M.second||0,Ar=M.millisecond||0;this._isValid=function(m){var M,R,A=!1;for(M in m)if(k(m,M)&&(-1===rt.call(Ii,M)||null!=m[M]&&isNaN(m[M])))return!1;for(R=0;R<Ii.length;++R)if(m[Ii[R]]){if(A)return!1;parseFloat(m[Ii[R]])!==Bt(m[Ii[R]])&&(A=!0)}return!0}(M),this._milliseconds=+Ar+1e3*kn+6e4*Xt+1e3*Pt*60*60,this._days=+Ne+7*ve,this._months=+V+3*R+12*A,this._data={},this._locale=Ri(),this._bubble()}function La(m){return m instanceof Nr}function ka(m){return m<0?-1*Math.round(-1*m):Math.round(m)}function fo(m,M){yt(m,0,0,function(){var A=this.utcOffset(),R="+";return A<0&&(A=-A,R="-"),R+ln(~~(A/60),2)+M+ln(~~A%60,2)})}fo("Z",":"),fo("ZZ",""),ue("Z",N),ue("ZZ",N),Qe(["Z","ZZ"],function(m,M,A){A._useUTC=!0,A._tzm=Ea(N,m)});var Da=/([\+\-]|\d\d)/gi;function Ea(m,M){var V,ve,A=(M||"").match(m);return null===A?null:0===(ve=60*(V=((A[A.length-1]||[])+"").match(Da)||["-",0,0])[1]+Bt(V[2]))?0:"+"===V[0]?ve:-ve}function go(m,M){var A,R;return M._isUTC?(A=M.clone(),R=(We(m)||W(m)?m.valueOf():sn(m).valueOf())-A.valueOf(),A._d.setTime(A._d.valueOf()+R),u.updateOffset(A,!1),A):sn(m).local()}function Ys(m){return-Math.round(m._d.getTimezoneOffset())}function Os(){return!!this.isValid()&&this._isUTC&&0===this._offset}u.updateOffset=function(){};var kr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,vo=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ri(m,M){var V,ve,Ne,A=m,R=null;return La(m)?A={ms:m._milliseconds,d:m._days,M:m._months}:U(m)||!isNaN(+m)?(A={},M?A[M]=+m:A.milliseconds=+m):(R=kr.exec(m))?(V="-"===R[1]?-1:1,A={y:0,d:Bt(R[2])*V,h:Bt(R[3])*V,m:Bt(R[4])*V,s:Bt(R[5])*V,ms:Bt(ka(1e3*R[6]))*V}):(R=vo.exec(m))?A={y:Ki(R[2],V="-"===R[1]?-1:1),M:Ki(R[3],V),w:Ki(R[4],V),d:Ki(R[5],V),h:Ki(R[6],V),m:Ki(R[7],V),s:Ki(R[8],V)}:null==A?A={}:"object"==typeof A&&("from"in A||"to"in A)&&(Ne=function(m,M){var A;return m.isValid()&&M.isValid()?(M=go(M,m),m.isBefore(M)?A=cs(m,M):((A=cs(M,m)).milliseconds=-A.milliseconds,A.months=-A.months),A):{milliseconds:0,months:0}}(sn(A.from),sn(A.to)),(A={}).ms=Ne.milliseconds,A.M=Ne.months),ve=new Nr(A),La(m)&&k(m,"_locale")&&(ve._locale=m._locale),La(m)&&k(m,"_isValid")&&(ve._isValid=m._isValid),ve}function Ki(m,M){var A=m&&parseFloat(m.replace(",","."));return(isNaN(A)?0:A)*M}function cs(m,M){var A={};return A.months=M.month()-m.month()+12*(M.year()-m.year()),m.clone().add(A.months,"M").isAfter(M)&&--A.months,A.milliseconds=+M-+m.clone().add(A.months,"M"),A}function Dr(m,M){return function(A,R){var ve;return null!==R&&!isNaN(+R)&&(tt(M,"moment()."+M+"(period, number) is deprecated. Please use moment()."+M+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),ve=A,A=R,R=ve),Er(this,ri(A,R),m),this}}function Er(m,M,A,R){var V=M._milliseconds,ve=ka(M._days),Ne=ka(M._months);!m.isValid()||(R=null==R||R,Ne&&Qa(m,mr(m,"Month")+Ne*A),ve&&Or(m,"Date",mr(m,"Date")+ve*A),V&&m._d.setTime(m._d.valueOf()+V*A),R&&u.updateOffset(m,ve||Ne))}ri.fn=Nr.prototype,ri.invalid=function(){return ri(NaN)};var Xo=Dr(1,"add"),Mo=Dr(-1,"subtract");function Pa(m){return"string"==typeof m||m instanceof String}function Aa(m){return We(m)||W(m)||Pa(m)||U(m)||function(m){var M=r(m),A=!1;return M&&(A=0===m.filter(function(R){return!U(R)&&Pa(m)}).length),M&&A}(m)||function(m){var V,M=T(m)&&!C(m),A=!1,R=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(V=0;V<R.length;V+=1)A=A||k(m,R[V]);return M&&A}(m)||null==m}function el(m){var V,M=T(m)&&!C(m),A=!1,R=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(V=0;V<R.length;V+=1)A=A||k(m,R[V]);return M&&A}function Bs(m,M){if(m.date()<M.date())return-Bs(M,m);var A=12*(M.year()-m.year())+(M.month()-m.month()),R=m.clone().add(A,"months");return-(A+(M-R<0?(M-R)/(R-m.clone().add(A-1,"months")):(M-R)/(m.clone().add(A+1,"months")-R)))||0}function Sr(m){var M;return void 0===m?this._locale._abbr:(null!=(M=Ri(m))&&(this._locale=M),this)}u.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",u.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var al=Xe("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(m){return void 0===m?this.localeData():this.locale(m)});function za(){return this._locale}var Wr=6e4,Us=60*Wr,Vr=3506328*Us;function di(m,M){return(m%M+M)%M}function js(m,M,A){return m<100&&m>=0?new Date(m+400,M,A)-Vr:new Date(m,M,A).valueOf()}function wo(m,M,A){return m<100&&m>=0?Date.UTC(m+400,M,A)-Vr:Date.UTC(m,M,A)}function _s(m,M){return M.erasAbbrRegex(m)}function qr(){var V,ve,m=[],M=[],A=[],R=[],Ne=this.eras();for(V=0,ve=Ne.length;V<ve;++V)M.push(Te(Ne[V].name)),m.push(Te(Ne[V].abbr)),A.push(Te(Ne[V].narrow)),R.push(Te(Ne[V].name)),R.push(Te(Ne[V].abbr)),R.push(Te(Ne[V].narrow));this._erasRegex=new RegExp("^("+R.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+M.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+m.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+A.join("|")+")","i")}function qs(m,M){yt(0,[m,m.length],0,M)}function or(m,M,A,R,V){var ve;return null==m?Ln(this,R,V).year:(M>(ve=ui(m,R,V))&&(M=ve),Ba.call(this,m,M,A,R,V))}function Ba(m,M,A,R,V){var ve=ks(m,M,A,R,V),Ne=ii(ve.year,0,ve.dayOfYear);return this.year(Ne.getUTCFullYear()),this.month(Ne.getUTCMonth()),this.date(Ne.getUTCDate()),this}yt("N",0,0,"eraAbbr"),yt("NN",0,0,"eraAbbr"),yt("NNN",0,0,"eraAbbr"),yt("NNNN",0,0,"eraName"),yt("NNNNN",0,0,"eraNarrow"),yt("y",["y",1],"yo","eraYear"),yt("y",["yy",2],0,"eraYear"),yt("y",["yyy",3],0,"eraYear"),yt("y",["yyyy",4],0,"eraYear"),ue("N",_s),ue("NN",_s),ue("NNN",_s),ue("NNNN",function(m,M){return M.erasNameRegex(m)}),ue("NNNNN",function(m,M){return M.erasNarrowRegex(m)}),Qe(["N","NN","NNN","NNNN","NNNNN"],function(m,M,A,R){var V=A._locale.erasParse(m,R,A._strict);V?ge(A).era=V:ge(A).invalidEra=m}),ue("y",Ci),ue("yy",Ci),ue("yyy",Ci),ue("yyyy",Ci),ue("yo",function(m,M){return M._eraYearOrdinalRegex||Ci}),Qe(["y","yy","yyy","yyyy"],0),Qe(["yo"],function(m,M,A,R){var V;A._locale._eraYearOrdinalRegex&&(V=m.match(A._locale._eraYearOrdinalRegex)),M[0]=A._locale.eraYearOrdinalParse?A._locale.eraYearOrdinalParse(m,V):parseInt(m,10)}),yt(0,["gg",2],0,function(){return this.weekYear()%100}),yt(0,["GG",2],0,function(){return this.isoWeekYear()%100}),qs("gggg","weekYear"),qs("ggggg","weekYear"),qs("GGGG","isoWeekYear"),qs("GGGGG","isoWeekYear"),In("weekYear","gg"),In("isoWeekYear","GG"),Un("weekYear",1),Un("isoWeekYear",1),ue("G",ee),ue("g",ee),ue("GG",un,On),ue("gg",un,On),ue("GGGG",zr,gi),ue("gggg",zr,gi),ue("GGGGG",Gi,Vi),ue("ggggg",Gi,Vi),qe(["gggg","ggggg","GGGG","GGGGG"],function(m,M,A,R){M[R.substr(0,2)]=Bt(m)}),qe(["gg","GG"],function(m,M,A,R){M[R]=u.parseTwoDigitYear(m)}),yt("Q",0,"Qo","quarter"),In("quarter","Q"),Un("quarter",7),ue("Q",ws),Qe("Q",function(m,M){M[1]=3*(Bt(m)-1)}),yt("D",["DD",2],"Do","date"),In("date","D"),Un("date",9),ue("D",un),ue("DD",un,On),ue("Do",function(m,M){return m?M._dayOfMonthOrdinalParse||M._ordinalParse:M._dayOfMonthOrdinalParseLenient}),Qe(["D","DD"],2),Qe("Do",function(m,M){M[2]=Bt(m.match(un)[0])});var Ua=Wi("Date",!0);yt("DDD",["DDDD",3],"DDDo","dayOfYear"),In("dayOfYear","DDD"),Un("dayOfYear",4),ue("DDD",nr),ue("DDDD",Qr),Qe(["DDD","DDDD"],function(m,M,A){A._dayOfYear=Bt(m)}),yt("m",["mm",2],0,"minute"),In("minute","m"),Un("minute",14),ue("m",un),ue("mm",un,On),Qe(["m","mm"],4);var ms=Wi("Minutes",!1);yt("s",["ss",2],0,"second"),In("second","s"),Un("second",15),ue("s",un),ue("ss",un,On),Qe(["s","ss"],5);var Pr,Gr,Wl=Wi("Seconds",!1);for(yt("S",0,0,function(){return~~(this.millisecond()/100)}),yt(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),yt(0,["SSS",3],0,"millisecond"),yt(0,["SSSS",4],0,function(){return 10*this.millisecond()}),yt(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),yt(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),yt(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),yt(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),yt(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),In("millisecond","ms"),Un("millisecond",16),ue("S",nr,ws),ue("SS",nr,On),ue("SSS",nr,Qr),Pr="SSSS";Pr.length<=9;Pr+="S")ue(Pr,Ci);function c(m,M){M[6]=Bt(1e3*("0."+m))}for(Pr="S";Pr.length<=9;Pr+="S")Qe(Pr,c);Gr=Wi("Milliseconds",!1),yt("z",0,0,"zoneAbbr"),yt("zz",0,0,"zoneName");var l=lt.prototype;function v(m){return m}l.add=Xo,l.calendar=function(m,M){1===arguments.length&&(arguments[0]?Aa(arguments[0])?(m=arguments[0],M=void 0):el(arguments[0])&&(M=arguments[0],m=void 0):(m=void 0,M=void 0));var A=m||sn(),R=go(A,this).startOf("day"),V=u.calendarFormat(this,R)||"sameElse",ve=M&&(et(M[V])?M[V].call(this,A):M[V]);return this.format(ve||this.localeData().calendar(V,this,sn(A)))},l.clone=function(){return new lt(this)},l.diff=function(m,M,A){var R,V,ve;if(!this.isValid())return NaN;if(!(R=go(m,this)).isValid())return NaN;switch(V=6e4*(R.utcOffset()-this.utcOffset()),M=Jn(M)){case"year":ve=Bs(this,R)/12;break;case"month":ve=Bs(this,R);break;case"quarter":ve=Bs(this,R)/3;break;case"second":ve=(this-R)/1e3;break;case"minute":ve=(this-R)/6e4;break;case"hour":ve=(this-R)/36e5;break;case"day":ve=(this-R-V)/864e5;break;case"week":ve=(this-R-V)/6048e5;break;default:ve=this-R}return A?ve:ci(ve)},l.endOf=function(m){var M,A;if(void 0===(m=Jn(m))||"millisecond"===m||!this.isValid())return this;switch(A=this._isUTC?wo:js,m){case"year":M=A(this.year()+1,0,1)-1;break;case"quarter":M=A(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":M=A(this.year(),this.month()+1,1)-1;break;case"week":M=A(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":M=A(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":M=A(this.year(),this.month(),this.date()+1)-1;break;case"hour":M=this._d.valueOf(),M+=Us-di(M+(this._isUTC?0:this.utcOffset()*Wr),Us)-1;break;case"minute":M=this._d.valueOf(),M+=Wr-di(M,Wr)-1;break;case"second":M=this._d.valueOf(),M+=1e3-di(M,1e3)-1}return this._d.setTime(M),u.updateOffset(this,!0),this},l.format=function(m){m||(m=this.isUtc()?u.defaultFormatUtc:u.defaultFormat);var M=Ge(this,m);return this.localeData().postformat(M)},l.from=function(m,M){return this.isValid()&&(We(m)&&m.isValid()||sn(m).isValid())?ri({to:this,from:m}).locale(this.locale()).humanize(!M):this.localeData().invalidDate()},l.fromNow=function(m){return this.from(sn(),m)},l.to=function(m,M){return this.isValid()&&(We(m)&&m.isValid()||sn(m).isValid())?ri({from:this,to:m}).locale(this.locale()).humanize(!M):this.localeData().invalidDate()},l.toNow=function(m){return this.to(sn(),m)},l.get=function(m){return et(this[m=Jn(m)])?this[m]():this},l.invalidAt=function(){return ge(this).overflow},l.isAfter=function(m,M){var A=We(m)?m:sn(m);return!(!this.isValid()||!A.isValid())&&("millisecond"===(M=Jn(M)||"millisecond")?this.valueOf()>A.valueOf():A.valueOf()<this.clone().startOf(M).valueOf())},l.isBefore=function(m,M){var A=We(m)?m:sn(m);return!(!this.isValid()||!A.isValid())&&("millisecond"===(M=Jn(M)||"millisecond")?this.valueOf()<A.valueOf():this.clone().endOf(M).valueOf()<A.valueOf())},l.isBetween=function(m,M,A,R){var V=We(m)?m:sn(m),ve=We(M)?M:sn(M);return!!(this.isValid()&&V.isValid()&&ve.isValid())&&("("===(R=R||"()")[0]?this.isAfter(V,A):!this.isBefore(V,A))&&(")"===R[1]?this.isBefore(ve,A):!this.isAfter(ve,A))},l.isSame=function(m,M){var R,A=We(m)?m:sn(m);return!(!this.isValid()||!A.isValid())&&("millisecond"===(M=Jn(M)||"millisecond")?this.valueOf()===A.valueOf():(R=A.valueOf(),this.clone().startOf(M).valueOf()<=R&&R<=this.clone().endOf(M).valueOf()))},l.isSameOrAfter=function(m,M){return this.isSame(m,M)||this.isAfter(m,M)},l.isSameOrBefore=function(m,M){return this.isSame(m,M)||this.isBefore(m,M)},l.isValid=function(){return $e(this)},l.lang=al,l.locale=Sr,l.localeData=za,l.max=$o,l.min=Go,l.parsingFlags=function(){return be({},ge(this))},l.set=function(m,M){if("object"==typeof m){var R,A=function(m){var A,M=[];for(A in m)k(m,A)&&M.push({unit:A,priority:tr[A]});return M.sort(function(R,V){return R.priority-V.priority}),M}(m=fi(m));for(R=0;R<A.length;R++)this[A[R].unit](m[A[R].unit])}else if(et(this[m=Jn(m)]))return this[m](M);return this},l.startOf=function(m){var M,A;if(void 0===(m=Jn(m))||"millisecond"===m||!this.isValid())return this;switch(A=this._isUTC?wo:js,m){case"year":M=A(this.year(),0,1);break;case"quarter":M=A(this.year(),this.month()-this.month()%3,1);break;case"month":M=A(this.year(),this.month(),1);break;case"week":M=A(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":M=A(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":M=A(this.year(),this.month(),this.date());break;case"hour":M=this._d.valueOf(),M-=di(M+(this._isUTC?0:this.utcOffset()*Wr),Us);break;case"minute":M=this._d.valueOf(),M-=di(M,Wr);break;case"second":M=this._d.valueOf(),M-=di(M,1e3)}return this._d.setTime(M),u.updateOffset(this,!0),this},l.subtract=Mo,l.toArray=function(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]},l.toObject=function(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}},l.toDate=function(){return new Date(this.valueOf())},l.toISOString=function(m){if(!this.isValid())return null;var M=!0!==m,A=M?this.clone().utc():this;return A.year()<0||A.year()>9999?Ge(A,M?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):et(Date.prototype.toISOString)?M?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Ge(A,"Z")):Ge(A,M?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},l.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var A,R,m="moment",M="";return this.isLocal()||(m=0===this.utcOffset()?"moment.utc":"moment.parseZone",M="Z"),A="["+m+'("]',R=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(A+R+"-MM-DD[T]HH:mm:ss.SSS"+M+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(l[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),l.toJSON=function(){return this.isValid()?this.toISOString():null},l.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},l.unix=function(){return Math.floor(this.valueOf()/1e3)},l.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},l.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},l.eraName=function(){var m,M,A,R=this.localeData().eras();for(m=0,M=R.length;m<M;++m)if(A=this.clone().startOf("day").valueOf(),R[m].since<=A&&A<=R[m].until||R[m].until<=A&&A<=R[m].since)return R[m].name;return""},l.eraNarrow=function(){var m,M,A,R=this.localeData().eras();for(m=0,M=R.length;m<M;++m)if(A=this.clone().startOf("day").valueOf(),R[m].since<=A&&A<=R[m].until||R[m].until<=A&&A<=R[m].since)return R[m].narrow;return""},l.eraAbbr=function(){var m,M,A,R=this.localeData().eras();for(m=0,M=R.length;m<M;++m)if(A=this.clone().startOf("day").valueOf(),R[m].since<=A&&A<=R[m].until||R[m].until<=A&&A<=R[m].since)return R[m].abbr;return""},l.eraYear=function(){var m,M,A,R,V=this.localeData().eras();for(m=0,M=V.length;m<M;++m)if(A=V[m].since<=V[m].until?1:-1,R=this.clone().startOf("day").valueOf(),V[m].since<=R&&R<=V[m].until||V[m].until<=R&&R<=V[m].since)return(this.year()-u(V[m].since).year())*A+V[m].offset;return this.year()},l.year=Ts,l.isLeapYear=function(){return Hn(this.year())},l.weekYear=function(m){return or.call(this,m,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},l.isoWeekYear=function(m){return or.call(this,m,this.isoWeek(),this.isoWeekday(),1,4)},l.quarter=l.quarters=function(m){return null==m?Math.ceil((this.month()+1)/3):this.month(3*(m-1)+this.month()%3)},l.month=ir,l.daysInMonth=function(){return Ft(this.year(),this.month())},l.week=l.weeks=function(m){var M=this.localeData().week(this);return null==m?M:this.add(7*(m-M),"d")},l.isoWeek=l.isoWeeks=function(m){var M=Ln(this,1,4).week;return null==m?M:this.add(7*(m-M),"d")},l.weeksInYear=function(){var m=this.localeData()._week;return ui(this.year(),m.dow,m.doy)},l.weeksInWeekYear=function(){var m=this.localeData()._week;return ui(this.weekYear(),m.dow,m.doy)},l.isoWeeksInYear=function(){return ui(this.year(),1,4)},l.isoWeeksInISOWeekYear=function(){return ui(this.isoWeekYear(),1,4)},l.date=Ua,l.day=l.days=function(m){if(!this.isValid())return null!=m?this:NaN;var M=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=m?(m=function(m,M){return"string"!=typeof m?m:isNaN(m)?"number"==typeof(m=M.weekdaysParse(m))?m:null:parseInt(m,10)}(m,this.localeData()),this.add(m-M,"d")):M},l.weekday=function(m){if(!this.isValid())return null!=m?this:NaN;var M=(this.day()+7-this.localeData()._week.dow)%7;return null==m?M:this.add(m-M,"d")},l.isoWeekday=function(m){if(!this.isValid())return null!=m?this:NaN;if(null!=m){var M=function(m,M){return"string"==typeof m?M.weekdaysParse(m)%7||7:isNaN(m)?null:m}(m,this.localeData());return this.day(this.day()%7?M:M-7)}return this.day()||7},l.dayOfYear=function(m){var M=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==m?M:this.add(m-M,"d")},l.hour=l.hours=_a,l.minute=l.minutes=ms,l.second=l.seconds=Wl,l.millisecond=l.milliseconds=Gr,l.utcOffset=function(m,M,A){var V,R=this._offset||0;if(!this.isValid())return null!=m?this:NaN;if(null!=m){if("string"==typeof m){if(null===(m=Ea(N,m)))return this}else Math.abs(m)<16&&!A&&(m*=60);return!this._isUTC&&M&&(V=Ys(this)),this._offset=m,this._isUTC=!0,null!=V&&this.add(V,"m"),R!==m&&(!M||this._changeInProgress?Er(this,ri(m-R,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,u.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?R:Ys(this)},l.utc=function(m){return this.utcOffset(0,m)},l.local=function(m){return this._isUTC&&(this.utcOffset(0,m),this._isUTC=!1,m&&this.subtract(Ys(this),"m")),this},l.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var m=Ea(F,this._i);null!=m?this.utcOffset(m):this.utcOffset(0,!0)}return this},l.hasAlignedHourOffset=function(m){return!!this.isValid()&&(m=m?sn(m).utcOffset():0,(this.utcOffset()-m)%60==0)},l.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},l.isLocal=function(){return!!this.isValid()&&!this._isUTC},l.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},l.isUtc=Os,l.isUTC=Os,l.zoneAbbr=function(){return this._isUTC?"UTC":""},l.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},l.dates=Xe("dates accessor is deprecated. Use date instead.",Ua),l.months=Xe("months accessor is deprecated. Use month instead",ir),l.years=Xe("years accessor is deprecated. Use year instead",Ts),l.zone=Xe("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(m,M){return null!=m?("string"!=typeof m&&(m=-m),this.utcOffset(m,M),this):-this.utcOffset()}),l.isDSTShifted=Xe("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!I(this._isDSTShifted))return this._isDSTShifted;var M,m={};return Pe(m,this),(m=qo(m))._a?(M=m._isUTC?G(m._a):sn(m._a),this._isDSTShifted=this.isValid()&&function(m,M,A){var Ne,R=Math.min(m.length,M.length),V=Math.abs(m.length-M.length),ve=0;for(Ne=0;Ne<R;Ne++)(A&&m[Ne]!==M[Ne]||!A&&Bt(m[Ne])!==Bt(M[Ne]))&&ve++;return ve+V}(m._a,M.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var w=Mt.prototype;function S(m,M,A,R){var V=Ri(),ve=G().set(R,M);return V[A](ve,m)}function Y(m,M,A){if(U(m)&&(M=m,m=void 0),m=m||"",null!=M)return S(m,M,A,"month");var R,V=[];for(R=0;R<12;R++)V[R]=S(m,R,A,"month");return V}function O(m,M,A,R){"boolean"==typeof m?(U(M)&&(A=M,M=void 0),M=M||""):(A=M=m,m=!1,U(M)&&(A=M,M=void 0),M=M||"");var Ne,V=Ri(),ve=m?V._week.dow:0,Pt=[];if(null!=A)return S(M,(A+ve)%7,R,"day");for(Ne=0;Ne<7;Ne++)Pt[Ne]=S(M,(Ne+ve)%7,R,"day");return Pt}w.calendar=function(m,M,A){var R=this._calendar[m]||this._calendar.sameElse;return et(R)?R.call(M,A):R},w.longDateFormat=function(m){var M=this._longDateFormat[m],A=this._longDateFormat[m.toUpperCase()];return M||!A?M:(this._longDateFormat[m]=A.match(It).map(function(R){return"MMMM"===R||"MM"===R||"DD"===R||"dddd"===R?R.slice(1):R}).join(""),this._longDateFormat[m])},w.invalidDate=function(){return this._invalidDate},w.ordinal=function(m){return this._ordinal.replace("%d",m)},w.preparse=v,w.postformat=v,w.relativeTime=function(m,M,A,R){var V=this._relativeTime[A];return et(V)?V(m,M,A,R):V.replace(/%d/i,m)},w.pastFuture=function(m,M){var A=this._relativeTime[m>0?"future":"past"];return et(A)?A(M):A.replace(/%s/i,M)},w.set=function(m){var M,A;for(A in m)k(m,A)&&(et(M=m[A])?this[A]=M:this["_"+A]=M);this._config=m,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},w.eras=function(m,M){var A,R,V,ve=this._eras||Ri("en")._eras;for(A=0,R=ve.length;A<R;++A){switch(typeof ve[A].since){case"string":V=u(ve[A].since).startOf("day"),ve[A].since=V.valueOf()}switch(typeof ve[A].until){case"undefined":ve[A].until=1/0;break;case"string":V=u(ve[A].until).startOf("day").valueOf(),ve[A].until=V.valueOf()}}return ve},w.erasParse=function(m,M,A){var R,V,Ne,Pt,Xt,ve=this.eras();for(m=m.toUpperCase(),R=0,V=ve.length;R<V;++R)if(Ne=ve[R].name.toUpperCase(),Pt=ve[R].abbr.toUpperCase(),Xt=ve[R].narrow.toUpperCase(),A)switch(M){case"N":case"NN":case"NNN":if(Pt===m)return ve[R];break;case"NNNN":if(Ne===m)return ve[R];break;case"NNNNN":if(Xt===m)return ve[R]}else if([Ne,Pt,Xt].indexOf(m)>=0)return ve[R]},w.erasConvertYear=function(m,M){var A=m.since<=m.until?1:-1;return void 0===M?u(m.since).year():u(m.since).year()+(M-m.offset)*A},w.erasAbbrRegex=function(m){return k(this,"_erasAbbrRegex")||qr.call(this),m?this._erasAbbrRegex:this._erasRegex},w.erasNameRegex=function(m){return k(this,"_erasNameRegex")||qr.call(this),m?this._erasNameRegex:this._erasRegex},w.erasNarrowRegex=function(m){return k(this,"_erasNarrowRegex")||qr.call(this),m?this._erasNarrowRegex:this._erasRegex},w.months=function(m,M){return m?r(this._months)?this._months[m.month()]:this._months[(this._months.isFormat||fr).test(M)?"format":"standalone"][m.month()]:r(this._months)?this._months:this._months.standalone},w.monthsShort=function(m,M){return m?r(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[fr.test(M)?"format":"standalone"][m.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},w.monthsParse=function(m,M,A){var R,V,ve;if(this._monthsParseExact)return wi.call(this,m,M,A);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),R=0;R<12;R++){if(V=G([2e3,R]),A&&!this._longMonthsParse[R]&&(this._longMonthsParse[R]=new RegExp("^"+this.months(V,"").replace(".","")+"$","i"),this._shortMonthsParse[R]=new RegExp("^"+this.monthsShort(V,"").replace(".","")+"$","i")),!A&&!this._monthsParse[R]&&(ve="^"+this.months(V,"")+"|^"+this.monthsShort(V,""),this._monthsParse[R]=new RegExp(ve.replace(".",""),"i")),A&&"MMMM"===M&&this._longMonthsParse[R].test(m))return R;if(A&&"MMM"===M&&this._shortMonthsParse[R].test(m))return R;if(!A&&this._monthsParse[R].test(m))return R}},w.monthsRegex=function(m){return this._monthsParseExact?(k(this,"_monthsRegex")||Pi.call(this),m?this._monthsStrictRegex:this._monthsRegex):(k(this,"_monthsRegex")||(this._monthsRegex=sa),this._monthsStrictRegex&&m?this._monthsStrictRegex:this._monthsRegex)},w.monthsShortRegex=function(m){return this._monthsParseExact?(k(this,"_monthsRegex")||Pi.call(this),m?this._monthsShortStrictRegex:this._monthsShortRegex):(k(this,"_monthsShortRegex")||(this._monthsShortRegex=Nt),this._monthsShortStrictRegex&&m?this._monthsShortStrictRegex:this._monthsShortRegex)},w.week=function(m){return Ln(m,this._week.dow,this._week.doy).week},w.firstDayOfYear=function(){return this._week.doy},w.firstDayOfWeek=function(){return this._week.dow},w.weekdays=function(m,M){var A=r(this._weekdays)?this._weekdays:this._weekdays[m&&!0!==m&&this._weekdays.isFormat.test(M)?"format":"standalone"];return!0===m?no(A,this._week.dow):m?A[m.day()]:A},w.weekdaysMin=function(m){return!0===m?no(this._weekdaysMin,this._week.dow):m?this._weekdaysMin[m.day()]:this._weekdaysMin},w.weekdaysShort=function(m){return!0===m?no(this._weekdaysShort,this._week.dow):m?this._weekdaysShort[m.day()]:this._weekdaysShort},w.weekdaysParse=function(m,M,A){var R,V,ve;if(this._weekdaysParseExact)return da.call(this,m,M,A);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),R=0;R<7;R++){if(V=G([2e3,1]).day(R),A&&!this._fullWeekdaysParse[R]&&(this._fullWeekdaysParse[R]=new RegExp("^"+this.weekdays(V,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[R]=new RegExp("^"+this.weekdaysShort(V,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[R]=new RegExp("^"+this.weekdaysMin(V,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[R]||(ve="^"+this.weekdays(V,"")+"|^"+this.weekdaysShort(V,"")+"|^"+this.weekdaysMin(V,""),this._weekdaysParse[R]=new RegExp(ve.replace(".",""),"i")),A&&"dddd"===M&&this._fullWeekdaysParse[R].test(m))return R;if(A&&"ddd"===M&&this._shortWeekdaysParse[R].test(m))return R;if(A&&"dd"===M&&this._minWeekdaysParse[R].test(m))return R;if(!A&&this._weekdaysParse[R].test(m))return R}},w.weekdaysRegex=function(m){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||Ur.call(this),m?this._weekdaysStrictRegex:this._weekdaysRegex):(k(this,"_weekdaysRegex")||(this._weekdaysRegex=yr),this._weekdaysStrictRegex&&m?this._weekdaysStrictRegex:this._weekdaysRegex)},w.weekdaysShortRegex=function(m){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||Ur.call(this),m?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(k(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ro),this._weekdaysShortStrictRegex&&m?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},w.weekdaysMinRegex=function(m){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||Ur.call(this),m?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(k(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ca),this._weekdaysMinStrictRegex&&m?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},w.isPM=function(m){return"p"===(m+"").toLowerCase().charAt(0)},w.meridiem=function(m,M,A){return m>11?A?"pm":"PM":A?"am":"AM"},Ji("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(m){var M=m%10;return m+(1===Bt(m%100/10)?"th":1===M?"st":2===M?"nd":3===M?"rd":"th")}}),u.lang=Xe("moment.lang is deprecated. Use moment.locale instead.",Ji),u.langData=Xe("moment.langData is deprecated. Use moment.localeData instead.",Ri);var ie=Math.abs;function re(m,M,A,R){var V=ri(M,A);return m._milliseconds+=R*V._milliseconds,m._days+=R*V._days,m._months+=R*V._months,m._bubble()}function ce(m){return m<0?Math.floor(m):Math.ceil(m)}function Ae(m){return 4800*m/146097}function Ce(m){return 146097*m/4800}function nt(m){return function(){return this.as(m)}}var Fe=nt("ms"),ct=nt("s"),Se=nt("m"),ut=nt("h"),gt=nt("d"),Dt=nt("w"),Et=nt("M"),St=nt("Q"),Ct=nt("y");function qt(m){return function(){return this.isValid()?this._data[m]:NaN}}var Fn=qt("milliseconds"),Xn=qt("seconds"),ai=qt("minutes"),hi=qt("hours"),Rn=qt("days"),lr=qt("months"),Xi=qt("years");var cn=Math.round,Wt={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function vn(m,M,A,R,V){return V.relativeTime(M||1,!!A,m,R)}var oi=Math.abs;function ki(m){return(m>0)-(m<0)||+m}function Ks(){if(!this.isValid())return this.localeData().invalidDate();var R,V,ve,Ne,Xt,kn,Ar,ji,m=oi(this._milliseconds)/1e3,M=oi(this._days),A=oi(this._months),Pt=this.asSeconds();return Pt?(R=ci(m/60),V=ci(R/60),m%=60,R%=60,ve=ci(A/12),A%=12,Ne=m?m.toFixed(3).replace(/\.?0+$/,""):"",Xt=Pt<0?"-":"",kn=ki(this._months)!==ki(Pt)?"-":"",Ar=ki(this._days)!==ki(Pt)?"-":"",ji=ki(this._milliseconds)!==ki(Pt)?"-":"",Xt+"P"+(ve?kn+ve+"Y":"")+(A?kn+A+"M":"")+(M?Ar+M+"D":"")+(V||R||m?"T":"")+(V?ji+V+"H":"")+(R?ji+R+"M":"")+(m?ji+Ne+"S":"")):"P0D"}var Jt=Nr.prototype;return Jt.isValid=function(){return this._isValid},Jt.abs=function(){var m=this._data;return this._milliseconds=ie(this._milliseconds),this._days=ie(this._days),this._months=ie(this._months),m.milliseconds=ie(m.milliseconds),m.seconds=ie(m.seconds),m.minutes=ie(m.minutes),m.hours=ie(m.hours),m.months=ie(m.months),m.years=ie(m.years),this},Jt.add=function(m,M){return re(this,m,M,1)},Jt.subtract=function(m,M){return re(this,m,M,-1)},Jt.as=function(m){if(!this.isValid())return NaN;var M,A,R=this._milliseconds;if("month"===(m=Jn(m))||"quarter"===m||"year"===m)switch(M=this._days+R/864e5,A=this._months+Ae(M),m){case"month":return A;case"quarter":return A/3;case"year":return A/12}else switch(M=this._days+Math.round(Ce(this._months)),m){case"week":return M/7+R/6048e5;case"day":return M+R/864e5;case"hour":return 24*M+R/36e5;case"minute":return 1440*M+R/6e4;case"second":return 86400*M+R/1e3;case"millisecond":return Math.floor(864e5*M)+R;default:throw new Error("Unknown unit "+m)}},Jt.asMilliseconds=Fe,Jt.asSeconds=ct,Jt.asMinutes=Se,Jt.asHours=ut,Jt.asDays=gt,Jt.asWeeks=Dt,Jt.asMonths=Et,Jt.asQuarters=St,Jt.asYears=Ct,Jt.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Bt(this._months/12):NaN},Jt._bubble=function(){var V,ve,Ne,Pt,Xt,m=this._milliseconds,M=this._days,A=this._months,R=this._data;return m>=0&&M>=0&&A>=0||m<=0&&M<=0&&A<=0||(m+=864e5*ce(Ce(A)+M),M=0,A=0),R.milliseconds=m%1e3,V=ci(m/1e3),R.seconds=V%60,ve=ci(V/60),R.minutes=ve%60,Ne=ci(ve/60),R.hours=Ne%24,M+=ci(Ne/24),A+=Xt=ci(Ae(M)),M-=ce(Ce(Xt)),Pt=ci(A/12),A%=12,R.days=M,R.months=A,R.years=Pt,this},Jt.clone=function(){return ri(this)},Jt.get=function(m){return m=Jn(m),this.isValid()?this[m+"s"]():NaN},Jt.milliseconds=Fn,Jt.seconds=Xn,Jt.minutes=ai,Jt.hours=hi,Jt.days=Rn,Jt.weeks=function(){return ci(this.days()/7)},Jt.months=lr,Jt.years=Xi,Jt.humanize=function(m,M){if(!this.isValid())return this.localeData().invalidDate();var V,ve,A=!1,R=Wt;return"object"==typeof m&&(M=m,m=!1),"boolean"==typeof m&&(A=m),"object"==typeof M&&(R=Object.assign({},Wt,M),null!=M.s&&null==M.ss&&(R.ss=M.s-1)),ve=function(m,M,A,R){var V=ri(m).abs(),ve=cn(V.as("s")),Ne=cn(V.as("m")),Pt=cn(V.as("h")),Xt=cn(V.as("d")),kn=cn(V.as("M")),Ar=cn(V.as("w")),ji=cn(V.as("y")),ps=ve<=A.ss&&["s",ve]||ve<A.s&&["ss",ve]||Ne<=1&&["m"]||Ne<A.m&&["mm",Ne]||Pt<=1&&["h"]||Pt<A.h&&["hh",Pt]||Xt<=1&&["d"]||Xt<A.d&&["dd",Xt];return null!=A.w&&(ps=ps||Ar<=1&&["w"]||Ar<A.w&&["ww",Ar]),(ps=ps||kn<=1&&["M"]||kn<A.M&&["MM",kn]||ji<=1&&["y"]||["yy",ji])[2]=M,ps[3]=+m>0,ps[4]=R,vn.apply(null,ps)}(this,!A,R,V=this.localeData()),A&&(ve=V.pastFuture(+this,ve)),V.postformat(ve)},Jt.toISOString=Ks,Jt.toString=Ks,Jt.toJSON=Ks,Jt.locale=Sr,Jt.localeData=za,Jt.toIsoString=Xe("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ks),Jt.lang=al,yt("X",0,0,"unix"),yt("x",0,0,"valueOf"),ue("x",ee),ue("X",/[+-]?\d+(\.\d{1,3})?/),Qe("X",function(m,M,A){A._d=new Date(1e3*parseFloat(m))}),Qe("x",function(m,M,A){A._d=new Date(Bt(m))}),u.version="2.29.1",b=sn,u.fn=l,u.min=function(){return Ta("isBefore",[].slice.call(arguments,0))},u.max=function(){return Ta("isAfter",[].slice.call(arguments,0))},u.now=function(){return Date.now?Date.now():+new Date},u.utc=G,u.unix=function(m){return sn(1e3*m)},u.months=function(m,M){return Y(m,M,"months")},u.isDate=W,u.locale=Ji,u.invalid=j,u.duration=ri,u.isMoment=We,u.weekdays=function(m,M,A){return O(m,M,A,"weekdays")},u.parseZone=function(){return sn.apply(null,arguments).parseZone()},u.localeData=Ri,u.isDuration=La,u.monthsShort=function(m,M){return Y(m,M,"monthsShort")},u.weekdaysMin=function(m,M,A){return O(m,M,A,"weekdaysMin")},u.defineLocale=lo,u.updateLocale=function(m,M){if(null!=M){var A,R,V=ns;null!=dn[m]&&null!=dn[m].parentLocale?dn[m].set(dt(dn[m]._config,M)):(null!=(R=Mr(m))&&(V=R._config),M=dt(V,M),null==R&&(M.abbr=m),(A=new Mt(M)).parentLocale=dn[m],dn[m]=A),Ji(m)}else null!=dn[m]&&(null!=dn[m].parentLocale?(dn[m]=dn[m].parentLocale,m===Ji()&&Ji(m)):null!=dn[m]&&delete dn[m]);return dn[m]},u.locales=function(){return Rt(dn)},u.weekdaysShort=function(m,M,A){return O(m,M,A,"weekdaysShort")},u.normalizeUnits=Jn,u.relativeTimeRounding=function(m){return void 0===m?cn:"function"==typeof m&&(cn=m,!0)},u.relativeTimeThreshold=function(m,M){return void 0!==Wt[m]&&(void 0===M?Wt[m]:(Wt[m]=M,"s"===m&&(Wt.ss=M-1),!0))},u.calendarFormat=function(m,M){var A=m.diff(M,"days",!0);return A<-6?"sameElse":A<-1?"lastWeek":A<0?"lastDay":A<1?"sameDay":A<2?"nextDay":A<7?"nextWeek":"sameElse"},u.prototype=l,u.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},u}()},4395:(ke,_e,D)=>{"use strict";D.d(_e,{b:()=>g});var b=D(7393),u=D(3637);function g(C,I=u.P){return U=>U.lift(new r(C,I))}class r{constructor(I,U){this.dueTime=I,this.scheduler=U}call(I,U){return U.subscribe(new T(I,this.dueTime,this.scheduler))}}class T extends b.L{constructor(I,U,W){super(I),this.dueTime=U,this.scheduler=W,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(I){this.clearDebounce(),this.lastValue=I,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(k,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:I}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(I)}}clearDebounce(){const I=this.debouncedSubscription;null!==I&&(this.remove(I),I.unsubscribe(),this.debouncedSubscription=null)}}function k(C){C.debouncedNext()}},6030:(ke,_e,D)=>{"use strict";D.d(_e,{a:()=>T});var b=D(310),u=D(3018),g=D(1052),r=D(9358);let T=(()=>{class k{constructor(I,U){this.router=I,this.store=U}canActivate(I,U){var W;const oe=this.store.selectSnapshot(b.j.isAutheticated);return"home"==(null===(W=I.url[0])||void 0===W?void 0:W.path)?!!oe||this.router.parseUrl("/connexion"):!oe||this.router.parseUrl("/home")}}return k.\u0275fac=function(I){return new(I||k)(u.LFG(g.F0),u.LFG(r.yh))},k.\u0275prov=u.Yz7({token:k,factory:k.\u0275fac}),k})()},7332:(ke,_e,D)=>{"use strict";D.d(_e,{Z:()=>W});var b=D(205),u=D(5304),g=D(1170),r=D(310),T=D(6638),k=D(3511),C=D(3018),I=D(9358),U=D(1052);let W=(()=>{class oe{constructor(G,he){this.store=G,this.router=he}resolve(){let G=this.store.selectSnapshot(r.j.token);return-1!==this.store.selectSnapshot(T.an.currentUserId)||(G?this.store.dispatch(new k.Lv(G)).pipe((0,u.K)(()=>(this.store.dispatch(new g.RD),this.router.navigate([""]),(0,b._)("GetUserData Failed.")))):(0,b._)("no token"))}}return oe.\u0275fac=function(G){return new(G||oe)(C.LFG(I.yh),C.LFG(U.F0))},oe.\u0275prov=C.Yz7({token:oe,factory:oe.\u0275fac}),oe})()},3526:(ke,_e,D)=>{"use strict";D.d(_e,{J:()=>b,Q:()=>u});const b={floor:1,ceil:100,showSelectionBar:!0,translate:(g,r)=>g+" KM"},u={floor:1,ceil:1e5,showSelectionBar:!0,translate:(g,r)=>g+" \u20ac"}},7414:(ke,_e,D)=>{"use strict";D.d(_e,{kH:()=>W});var b=D(6782),u=D(53),g=D(3018),r=D(3679);const T={FIELD_MISMATCH:"$1 doit \xeatre identique $2<().",REQUIRED_FIELD:"$1=(Ce champ) est obligatoire.",MIN_LENGTH:"$2=(Ce champ) doit contenir au moins $1=(8) caract\xe8res",CASE:"$2=(Ce champ) doit contenir une lettre en $1=(miniscule)",INVALID_FORMAT:"Le format $1<() est invalide",MESSAGE:"$1",FIELD_TYPE:"Ce champs attend $1."};function k(oe){const be=T;return be.hasOwnProperty(oe)?be[oe]:null}const C=/\$(?:\!|(\d+))(?:(\<|\=)\((.*?)\))?/g;function I(oe,...be){C.lastIndex=0;let G="",he=null;for(;;){const ge=C.exec(oe);if(!ge)break;const Ie=+ge[1],$e=ge[3],j=Number.isNaN(Ie)?"$":Ie?be[Ie-1]:oe,Ee=j||$e;if(void 0===Ee)throw`Unable to evaluate template ${oe}. Missing argument or default value.`;G+=oe.slice(he?he.index+he[0].length:0,ge.index-+("<"==ge[2]&&!j))+Ee,he=ge}return G+=oe.slice(he?he.index+he[0].length:0),G}let U=(()=>{class oe{constructor(){this.message=""}get classes(){return"error"}}return oe.\u0275fac=function(G){return new(G||oe)},oe.\u0275cmp=g.Xpm({type:oe,selectors:[["error-message"]],hostVars:2,hostBindings:function(G,he){2&G&&g.Tol(he.classes)},decls:1,vars:1,template:function(G,he){1&G&&g._uU(0),2&G&&g.hij(" ",he.message," ")},encapsulation:2,changeDetection:0}),oe})(),W=(()=>{class oe extends u.gC{constructor(G,he,ge){super(),this.control=G,this.view=he,this.resolver=ge,this.novalidate=!1}displayErrors(){this.view.clear();const G=this.control.errors;if(!G)return;const he=Object.keys(G);for(const ge of he){const Ie=k(ge);if(null==Ie)return void console.warn(`Unknown form error "${ge}"`);let $e=I(Ie,...G[ge]);const j=this.resolver.resolveComponentFactory(U);this.view.createComponent(j).instance.message=$e}}ngOnInit(){var G;this.novalidate||(null===(G=this.control.statusChanges)||void 0===G||G.pipe((0,b.R)(this.destroy$)).subscribe(()=>{this.displayErrors()}),this.control.value&&this.displayErrors())}}return oe.\u0275fac=function(G){return new(G||oe)(g.Y36(r.a5),g.Y36(g.s_b),g.Y36(g._Vd))},oe.\u0275dir=g.lG2({type:oe,selectors:[["","formControlName",""]],inputs:{novalidate:"novalidate"},features:[g.qOj]}),oe})()},664:(ke,_e,D)=>{"use strict";D.d(_e,{a:()=>g});var b=D(9222),u=D(3018);let g=(()=>{class r{constructor(){this.name="Fichier",this.color="#32a290"}set _name(k){this.name=k.length>7?k.slice(0,7)+"-":k}get arrowColor(){return(0,b.HO)(this.color,-20)}}return r.\u0275fac=function(k){return new(k||r)},r.\u0275cmp=u.Xpm({type:r,selectors:[["file-svg"]],inputs:{_name:["name","_name"],color:"color"},decls:21,vars:5,consts:[["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","84.626","height","103.938","viewBox","0 0 84.626 103.938"],["id","box-shadow","x","0","y","0","width","84.626","height","103.938","filterUnits","userSpaceOnUse"],["dy","3","input","SourceAlpha"],["stdDeviation","3","result","blur"],["flood-opacity","0.161"],["operator","in","in2","blur"],["in","SourceGraphic"],["transform","translate(1.374 6)"],["transform","translate(0 0)"],["transform","matrix(1, 0, 0, 1, -1.37, -6)","filter","url(#box-shadow)"],["data-name","container","width","60.198","height","84.748","rx","7","transform","translate(9 15)","fill","#fff"],["data-name","filename arrow","d","M6000.1,11956.382l7.747,8.433v-8.433Z","transform","translate(-6000.102 -11917.76)"],["transform","translate(0, 20)"],["width","65","height","20","rx","2"],["x","6","y","14","font-size","12.5","font-family","Poppins","font-weight","500",2,"fill","#fff","z-index","1"],["data-name","Line 1","width","40","height","2.5","transform","translate(20.179 53.452)","fill","#ccc"],["data-name","Line 2","width","40","height","2.5","transform","translate(20.179 62.143)","fill","#ccc"],["data-name","Line 3","width","40","height","2.5","transform","translate(20.179 70.833)","fill","#ccc"],["data-name","Line 4","width","40","height","2.5","transform","translate(20.179 79.523)","fill","#ccc"]],template:function(k,C){1&k&&(u.O4$(),u.TgZ(0,"svg",0),u.TgZ(1,"defs"),u.TgZ(2,"filter",1),u._UZ(3,"feOffset",2),u._UZ(4,"feGaussianBlur",3),u._UZ(5,"feFlood",4),u._UZ(6,"feComposite",5),u._UZ(7,"feComposite",6),u.qZA(),u.qZA(),u.TgZ(8,"g",7),u.TgZ(9,"g",8),u.TgZ(10,"g",9),u._UZ(11,"rect",10),u.qZA(),u._UZ(12,"path",11),u.TgZ(13,"g",12),u._UZ(14,"rect",13),u.TgZ(15,"text",14),u._uU(16),u.qZA(),u.qZA(),u._UZ(17,"rect",15),u._UZ(18,"rect",16),u._UZ(19,"rect",17),u._UZ(20,"rect",18),u.qZA(),u.qZA(),u.qZA()),2&k&&(u.xp6(12),u.Udp("fill",C.arrowColor),u.xp6(2),u.Udp("fill",C.color),u.xp6(2),u.Oqu(C.name))},styles:["[_nghost-%COMP%]{display:inline-block}"],changeDetection:0}),r})()},8451:(ke,_e,D)=>{"use strict";D.d(_e,{T:()=>oe});var b=D(4762),u=D(6638),g=D(3018),r=D(9358),T=D(8583),k=D(6407),C=D(7836),I=D(7330);function U(be,G){if(1&be&&(g.ynx(0),g._uU(1),g.BQk()),2&be){const he=G.$implicit;g.xp6(1),g.hij("",he.name,", ")}}function W(be,G){if(1&be&&(g.TgZ(0,"div",1),g.TgZ(1,"div",2),g._UZ(2,"profile-image",3),g._UZ(3,"stars",4),g.qZA(),g.TgZ(4,"div",5),g.TgZ(5,"span"),g._uU(6),g.qZA(),g.TgZ(7,"span",6),g._uU(8),g.qZA(),g.TgZ(9,"span",7),g.YNc(10,U,2,1,"ng-container",8),g.qZA(),g.qZA(),g.qZA()),2&be){const he=G.ngIf,ge=g.oxw();g.xp6(2),g.Q6J("profile",he),g.xp6(4),g.Oqu(he.company.name),g.xp6(2),g.Oqu(he.company.address),g.xp6(2),g.Q6J("ngForOf",ge.jobs)}}class oe{constructor(G){this.store=G,this.jobs=[],this.availability="unavailable"}ngOnInit(){this.profile$.subscribe(G=>{if(!G)return;const he=this.store.selectSnapshot(u.DW.getMany("JobForCompany",G.company.jobs));this.jobs=this.store.selectSnapshot(u.DW.getMany("Job",he.map(({job:ge})=>ge)))})}get borderColor(){return"available"==this.availability?"#B9EDAF":"availablelimits"==this.availability?"#ffc425":"unavailable"==this.availability?"red":"#ccc"}}oe.\u0275fac=function(G){return new(G||oe)(g.Y36(r.yh))},oe.\u0275cmp=g.Xpm({type:oe,selectors:[["sos-card"]],hostVars:2,hostBindings:function(G,he){2&G&&g.Udp("border-left-color",he.borderColor)},inputs:{profile$:["profile","profile$"],availability:"availability"},decls:3,vars:5,consts:[["class","container flex row center-cross space-around",4,"ngIf"],[1,"container","flex","row","center-cross","space-around"],[1,"presentation"],[3,"profile"],["value","4","disabled",""],[1,"description","grow","flex","column","space-between"],[2,"font-weight","200"],[1,"text-light-emphasis","job"],[4,"ngFor","ngForOf"]],template:function(G,he){1&G&&(g.YNc(0,W,11,4,"div",0),g.ALo(1,"async"),g.ALo(2,"cast")),2&G&&g.Q6J("ngIf",g.lcZ(1,1,g.lcZ(2,3,he.profile$)))},directives:[T.O5,k.q,C.I,T.sg],pipes:[T.Ov,I.E],styles:["[_ngcontent-%COMP%]:root{--notification-size: $notification-size}.page-content-with-tabs[_ngcontent-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden;touch-action:pan-y!important}.page-content-with-tabs[_ngcontent-%COMP%]{margin-top:150px;margin-top:calc(constant(safe-area-inset-top) + 150px);margin-top:calc(env(safe-area-inset-top) + 150px);margin-bottom:0;margin-bottom:calc(constant(safe-area-inset-bottom) + 0);margin-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(100vh - 220px - env(safe-area-inset-bottom))}.invert[_ngcontent-%COMP%]{filter:invert(1)}[_nghost-%COMP%]{display:flex;justify-content:center;background:white;border-left:5px solid transparent;height:180px;padding:10px;border-radius:12px;box-shadow:0 5px 3px #959da533;position:relative}@media (min-width: 769px){[_nghost-%COMP%]{border-left-width:12px}}.container[_ngcontent-%COMP%]{width:400px}.presentation[_ngcontent-%COMP%]{flex-grow:0;transform:scale(.9)}.presentation[_ngcontent-%COMP%]   profile-image[_ngcontent-%COMP%]{transform:scale(.9) rotate(45deg)}.description[_ngcontent-%COMP%]{color:#aaa;height:80%}.description[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1em}.job[_ngcontent-%COMP%]{color:#000;overflow:hidden;display:-webkit-box;text-overflow:ellipsis;-webkit-box-orient:vertical;-webkit-line-clamp:2}"],changeDetection:0}),(0,b.gn)([(0,u.N7)()],oe.prototype,"profile$",void 0)},943:(ke,_e,D)=>{"use strict";D.d(_e,{t:()=>T,v:()=>k});var b=D(3018),u=D(3679),g=D(53),r=D(9222);class T extends g.cQ{constructor(I,U){super(I),this.host=U,this.controlName=""}ngOnInit(){this.host.name=this.host.name||this.controlName;let I=T.map.get(this.host.name);I||T.map.set(this.host.name,I=[]),I.push(this),this.subscription=this.host.selection.subscribe(U=>{const W=this.onChange(U);this.writeValue(W)})}ngOnDestroy(){var I;null===(I=this.subscription)||void 0===I||I.unsubscribe();let W,U=T.map.get(this.host.name);!U||(W=U.indexOf(this),W>=0&&U.splice(W,1),0==U.length&&T.map.delete(this.host.name))}writeValue(I){let U=T.map.get(this.host.name);null==U||U.forEach(W=>{W.host.valueChange.emit(W.host.value=W.host.onselect==I),W.host.forceUpdate()})}}T.map=new Map,T.\u0275fac=function(I){return new(I||T)(b.Y36(b.sBO),b.Y36(k))},T.\u0275dir=b.lG2({type:T,selectors:[["radiobox","formControlName",""]],inputs:{controlName:["formControlName","controlName"]},features:[b.qOj]});let k=(()=>{class C{constructor(U){this.cd=U,this.name="",this.onselect=(0,r.YO)(5),this.value=!1,this.valueChange=new b.vpe,this.selection=new b.vpe}onChange(U){this.valueChange.emit(this.value=!0),this.selection.emit(this.onselect)}forceUpdate(){this.cd.markForCheck()}}return C.\u0275fac=function(U){return new(U||C)(b.Y36(b.sBO))},C.\u0275cmp=b.Xpm({type:C,selectors:[["radiobox"]],inputs:{name:"name",onselect:"onselect",value:"value"},outputs:{valueChange:"valueChange",selection:"selection"},features:[b._Bn([{provide:u.JU,multi:!0,useExisting:T}])],decls:2,vars:3,consts:[["type","radio","tabindex","-1",3,"value","change"]],template:function(U,W){1&U&&(b.TgZ(0,"input",0),b.NdJ("change",function(be){return W.onChange(be)}),b.qZA(),b._UZ(1,"span")),2&U&&(b.Q6J("value",W.onselect),b.uIk("name",W.name||null)("checked",W.value||null))},styles:['[_ngcontent-%COMP%]:root{--notification-size: $notification-size}[_nghost-%COMP%]{display:inline-block;position:relative;cursor:pointer;-webkit-user-select:none;user-select:none;width:25px;height:25px;vertical-align:middle;margin-right:8px}[_nghost-%COMP%] ~*{display:inline-block;vertical-align:middle}input[_ngcontent-%COMP%]{position:absolute;opacity:0;width:100%;height:100%}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]{box-shadow:none;background-color:#0d6191;border-color:#0d6191}span[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:after{display:block}input[type=checkbox][_ngcontent-%COMP%] ~ span[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border-radius:3px;background-color:#eee;box-shadow:inset 0 3px 5px #aaa}input[type=checkbox][_ngcontent-%COMP%] ~ span[_ngcontent-%COMP%]:after{left:9px;top:5px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;transform:rotate(45deg)}input[type=radio][_ngcontent-%COMP%] ~ span[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border-radius:50%;background-color:transparent;border:1px solid #333}input[type=radio][_ngcontent-%COMP%] ~ span[_ngcontent-%COMP%]:after{top:7.5px;left:7.5px;width:8px;height:8px;border-radius:50%;background:white}span[_ngcontent-%COMP%]{pointer-events:none}'],changeDetection:0}),C})()},7090:(ke,_e,D)=>{"use strict";D.d(_e,{F:()=>W});var b=D(3018),u=D(53),g=D(6738),T=D(3679),k=D(9222),C=D(8583);function I(oe,be){if(1&oe&&(b.TgZ(0,"li",11),b._uU(1),b.ALo(2,"slice"),b.qZA()),2&oe){const G=be.$implicit;b.xp6(1),b.Oqu(b.Dn7(2,1,G,0,1))}}function U(oe,be){if(1&oe){const G=b.EpF();b.TgZ(0,"li",12),b.NdJ("click",function(ge){const Ie=b.CHM(G),$e=Ie.index,j=Ie.$implicit;return b.oxw().onDayClicked($e,j.date,ge)}),b._uU(1),b.qZA()}if(2&oe){const G=be.$implicit,he=be.first;b.Tol(G.availability),b.Udp("grid-column-start",he?null==G?null:G.indexWeek:"auto"),b.xp6(1),b.hij(" ",null==G?null:G.value," ")}}let W=(()=>{class oe extends u.cQ{constructor(G){super(G),this.useEvents=!0,this.mode="single",this.rangeStart=null,this.dayClick=new b.vpe,this.week=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],this.monthSelect=[],this.selection=[],this.currentMonth=0,this.currentYear=0;let he=new Date(Date.now());this.currentMonth=he.getMonth()+1,this.currentYear=he.getFullYear(),this.value=[]}fillZero(G){return G<10?"0"+G:G}viewCurrentDate(){let G=new Date(Date.now());this.currentMonth=G.getMonth()+1,this.currentYear=G.getFullYear(),this.getDaysFromDate(this.fillZero(this.currentMonth),this.currentYear)}getDaysFromDate(G,he){const ge=g.utc(`${he}/${G}/01`,"YYYY-MM-DD"),Ie=ge.clone().endOf("month");this.dateSelect=ge.locale("fr");const $e=Ie.diff(ge,"days",!0),j=Math.round($e),Je=Object.keys([...Array(j)]).map((Ee,Pe)=>{var lt;Ee=this.fillZero(parseInt(Ee)+1);const We=g(`${he}/${G}/${Ee}`,"YYYY-MM-DD");let Xe=g(`${he}-${G}-${Ee}`,"YYYY-MM-DD"),Ye=this._value.filter(tt=>tt.date==Xe._i);return{name:We.format("dddd"),value:Ee,date:Xe._i,indexWeek:We.isoWeekday(),availability:null===(lt=Ye[0])||void 0===lt?void 0:lt.availability}});this.monthSelect=Je}get value(){return this._value}set value(G){this._value=G||[],this.getDaysFromDate(this.fillZero(this.currentMonth),this.currentYear)}set(G,he=!0){G!==this.value&&(this.valueChange.emit(this.value=G),he&&this.onChanged(this.value),this.cd.markForCheck()),super.set(G,he)}changeMonth(G){const he=G<0?this.dateSelect.clone().subtract(1,"month"):this.dateSelect.clone().add(1,"month");this.currentMonth=he.get("M")+1,this.currentYear=he.get("Y"),this.getDaysFromDate(this.fillZero(this.currentMonth),this.currentYear),this.rangeStart=null}onDayClicked(G,he,ge){if(console.log(this.rangeStart),null!==this.rangeStart){const Ie=Math.min(this.rangeStart,G),$e=Math.max(this.rangeStart,G),j=[];for(let Je=Ie;Je<=$e;Je++)j.push(this.monthSelect[Je].date);this.setSelection(j),this.rangeStart=null}else"range"==this.mode?this.rangeStart=G:(this.setSelection([he]),this.dayClick.emit([ge,this.selection]))}setSelection(G){console.log("setSelection"),this.selection=G,this.useEvents||("single"==this.mode?this.toggleDayState(this.selection[0],"selected"):this.addValues(this.selection,"selected"))}setCurrentDayState(G){const he=this.value.filter(Ie=>Ie.date!==this.selection[0]);let ge;ge="nothing"!=G?[...he,{date:this.selection[0],availability:G}]:he,this.onChange(ge),this.cd.markForCheck()}toggleDayState(G,he){const[[ge],Ie]=(0,k.rf)(this.value,j=>j.date==G);let $e;$e=ge?Ie:[...Ie,{date:G,availability:he}],this.onChange($e),this.cd.markForCheck()}addValues(G,he){const ge=this.value.map(j=>j.date),Ie=ge.filter(j=>!G.includes(j)),$e=G.filter(j=>!ge.includes(j));this.onChange([...Ie,...$e].map(j=>({date:j,availability:he}))),this.cd.markForCheck()}writeValue(G){super.writeValue(G.length&&"string"==typeof G[0]?G.map(he=>({date:he,availability:"selected"})):G)}}return oe.\u0275fac=function(G){return new(G||oe)(b.Y36(b.sBO))},oe.\u0275cmp=b.Xpm({type:oe,selectors:[["calendar"]],inputs:{useEvents:"useEvents",mode:"mode"},outputs:{dayClick:"dayClick"},features:[b._Bn([{provide:T.JU,multi:!0,useExisting:oe}]),b.qOj],decls:14,vars:5,consts:[[1,"calendar","flex","center"],[1,"header-calendar","full-width","flex","center"],[1,"calendar-action","flex"],[1,"btn-prev",3,"click"],["src","assets/arrowleft.svg"],[1,"btn-next",3,"click"],["src","assets/arrowright.svg"],[1,"wrapper-calendar","full-width"],[1,"grid"],["class","day-name center-text",4,"ngFor","ngForOf"],["class","center-text",3,"gridColumnStart","class","click",4,"ngFor","ngForOf"],[1,"day-name","center-text"],[1,"center-text",3,"click"]],template:function(G,he){1&G&&(b.TgZ(0,"div",0),b.TgZ(1,"div",1),b.TgZ(2,"h1"),b._uU(3),b.ALo(4,"titlecase"),b.qZA(),b.TgZ(5,"div",2),b.TgZ(6,"button",3),b.NdJ("click",function(){return he.changeMonth(-1)}),b._UZ(7,"img",4),b.qZA(),b.TgZ(8,"button",5),b.NdJ("click",function(){return he.changeMonth(1)}),b._UZ(9,"img",6),b.qZA(),b.qZA(),b.qZA(),b.TgZ(10,"div",7),b.TgZ(11,"ol",8),b.YNc(12,I,3,5,"li",9),b.YNc(13,U,2,5,"li",10),b.qZA(),b.qZA(),b.qZA()),2&G&&(b.xp6(3),b.Oqu(b.lcZ(4,3,he.dateSelect.format("MMMM, yyyy"))),b.xp6(9),b.Q6J("ngForOf",he.week),b.xp6(1),b.Q6J("ngForOf",he.monthSelect))},directives:[C.sg],pipes:[C.rS,C.OU],styles:['.page-content-with-tabs[_ngcontent-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden;touch-action:pan-y!important}.page-content-with-tabs[_ngcontent-%COMP%]{margin-top:150px;margin-top:calc(constant(safe-area-inset-top) + 150px);margin-top:calc(env(safe-area-inset-top) + 150px);margin-bottom:0;margin-bottom:calc(constant(safe-area-inset-bottom) + 0);margin-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(100vh - 220px - env(safe-area-inset-bottom))}.invert[_ngcontent-%COMP%]{filter:invert(1)}[_ngcontent-%COMP%]:root{--notification-size: $notification-size}[_nghost-%COMP%]{font-family:"Roboto";display:block;width:100%}.calendar[_ngcontent-%COMP%]{flex-flow:column;width:100%}.header-calendar[_ngcontent-%COMP%]{align-content:center;justify-content:space-between}.header-calendar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1e2843}.wrapper-calendar[_ngcontent-%COMP%]{margin:.25rem;border-radius:15px;box-shadow:#63636333 0 2px 8px;background-color:#fafafa;padding:10px}.wrapper-calendar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:25px;width:25px;font-size:.8rem;cursor:pointer;text-align:center;line-height:25px;color:#1e2843}ol[_ngcontent-%COMP%]{grid-row-gap:1rem;row-gap:1rem;list-style:none;display:grid;grid-template-columns:repeat(7,1fr);margin:0;padding:0}h2[_ngcontent-%COMP%]{margin-bottom:4px;padding:0}.day-name[_ngcontent-%COMP%]{font-size:14px;margin-bottom:2px;text-align:center}.calendar-action[_ngcontent-%COMP%]{justify-content:space-around}.calendar-action[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.5em}.header-calendar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:100%;font-size:14px}.header-calendar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;background-color:transparent;border:0}  .nothing,   .selected,   .unavailable,   .availablelimits,   .available{color:#fff!important;border-radius:50%}  .available{background-color:#b9edaf}  .availablelimits{background-color:#ffc425}  .unavailable{background-color:#e80000}  .selected{background-color:#1e2843}  .nothing{background-color:#fff}'],changeDetection:0}),oe})()},541:(ke,_e,D)=>{"use strict";D.d(_e,{X:()=>r});var b=D(3018),u=D(1052),g=D(8583);let r=(()=>{class T{constructor(C){this.router=C,this.userName="",this.userMail=""}ngOnInit(){this.router.queryParams.subscribe(C=>{this.userName=C.name,this.userMail=C.email})}}return T.\u0275fac=function(C){return new(C||T)(b.Y36(u.gz))},T.\u0275cmp=b.Xpm({type:T,selectors:[["docusign"]],decls:21,vars:6,consts:[[1,"docusign","flex","column","space-children-margin"],[1,"flex","column","center","text","full-width","space-children-margin"],[1,"flex","center","full-width","link"],[1,"button","active","text-emphasis"],["href","mailto:"],[1,"flex","space-arround","center"]],template:function(C,I){1&C&&(b.TgZ(0,"div",0),b.TgZ(1,"div",1),b.TgZ(2,"h1"),b._uU(3),b.ALo(4,"titlecase"),b.qZA(),b.TgZ(5,"h3"),b._uU(6," Vous avez re\xe7u un contrat a signe sur votre boite Mail : "),b._UZ(7,"br"),b.TgZ(8,"span"),b._uU(9),b.ALo(10,"lowercase"),b.qZA(),b.qZA(),b.qZA(),b.TgZ(11,"div",2),b.TgZ(12,"button",3),b.TgZ(13,"a",4),b._uU(14," Ouvrir le mail "),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(15,"footer",5),b.TgZ(16,"h3"),b._uU(17," BatiUni\xa9 "),b.qZA(),b._uU(18," & "),b.TgZ(19,"h3"),b._uU(20," DocuSign\xa9 "),b.qZA(),b.qZA()),2&C&&(b.xp6(3),b.hij("Bonjour ",b.lcZ(4,2,I.userName),"."),b.xp6(6),b.hij(" ",b.lcZ(10,4,I.userMail)," "))},pipes:[g.rS,g.i8],styles:['[_ngcontent-%COMP%]:root{--notification-size: $notification-size}.page-content-with-tabs[_ngcontent-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden;touch-action:pan-y!important}.page-content-with-tabs[_ngcontent-%COMP%]{margin-top:150px;margin-top:calc(constant(safe-area-inset-top) + 150px);margin-top:calc(env(safe-area-inset-top) + 150px);margin-bottom:0;margin-bottom:calc(constant(safe-area-inset-bottom) + 0);margin-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(100vh - 220px - env(safe-area-inset-bottom))}.invert[_ngcontent-%COMP%]{filter:invert(1)}[_nghost-%COMP%]{display:block;font-family:"Roboto";width:100vw;background-color:#f7f7f7;height:100vh;padding:12px 16px}.docusign[_ngcontent-%COMP%]{width:100%;top:20%;position:relative}span[_ngcontent-%COMP%]{color:#0c5e8d}h3[_ngcontent-%COMP%]{text-align:center}h1[_ngcontent-%COMP%]{font-weight:200}button[_ngcontent-%COMP%]{width:70%;max-width:400px}footer[_ngcontent-%COMP%]{width:100%;position:fixed;bottom:0;padding:12px 16px}footer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 1rem}']}),T})()},1891:(ke,_e,D)=>{"use strict";D.d(_e,{s:()=>Ee});var b=D(4762),u=D(3018),g=D(5257),r=D(6638),T=D(53),k=D(9222),C=D(9358),I=D(8389),U=D(8583),W=D(9817),oe=D(664),be=D(7330);function G(Pe,lt){1&Pe&&(u.TgZ(0,"span",4),u._uU(1,"M\xe9tier : TCE"),u._UZ(2,"br"),u.qZA())}function he(Pe,lt){1&Pe&&(u.TgZ(0,"span",4),u._uU(1,"M\xe9tier :"),u.qZA())}function ge(Pe,lt){if(1&Pe&&(u.TgZ(0,"span",5),u._uU(1),u.qZA()),2&Pe){const We=lt.$implicit,Ke=lt.index,Xe=u.oxw(2);u.xp6(1),u.AsE("",We.number," ",Xe.jobs[Ke].name,", ")}}function Ie(Pe,lt){1&Pe&&(u.TgZ(0,"span",4),u._uU(1,"Disponible pour des missions les samedis"),u.qZA())}function $e(Pe,lt){if(1&Pe){const We=u.EpF();u.TgZ(0,"file-svg",12),u.NdJ("click",function(){const Ye=u.CHM(We).$implicit;return u.oxw(2).openFile(Ye)}),u.qZA()}if(2&Pe){const We=lt.$implicit,Ke=u.oxw(2);u.Q6J("name",We.name)("color",Ke.getFileColor(We.name))}}function j(Pe,lt){if(1&Pe&&(u.ynx(0),u._UZ(1,"hr",8),u.TgZ(2,"section",13),u.TgZ(3,"h4"),u._uU(4,"Contact"),u.qZA(),u.TgZ(5,"ul",14),u.TgZ(6,"li"),u.TgZ(7,"a",15),u._UZ(8,"img",16),u.qZA(),u.qZA(),u.TgZ(9,"li"),u.TgZ(10,"a",15),u._UZ(11,"img",17),u.qZA(),u.qZA(),u.TgZ(12,"li"),u.TgZ(13,"a",18),u._UZ(14,"img",19),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.BQk()),2&Pe){const We=u.oxw().ngIf;u.xp6(7),u.Q6J("href","tel:+33"+We.company.companyPhone,u.LSH),u.xp6(3),u.Q6J("href","sms:+33"+We.company.companyPhone,u.LSH),u.xp6(3),u.Q6J("href","mailto:"+We.company,u.LSH)}}function Je(Pe,lt){if(1&Pe){const We=u.EpF();u.ynx(0),u.TgZ(1,"div",1),u.TgZ(2,"profile-resume",2),u.NdJ("ratingsClicked",function(Xe){return u.CHM(We),u.oxw().ratingsClicked.emit(Xe)}),u.qZA(),u.TgZ(3,"section",3),u.TgZ(4,"span"),u.TgZ(5,"span",4),u._uU(6,"Nom de l'entreprise : "),u.qZA(),u.TgZ(7,"span",5),u._uU(8),u.qZA(),u.qZA(),u.TgZ(9,"span"),u.TgZ(10,"span",4),u._uU(11,"N SIRET : "),u.qZA(),u.TgZ(12,"span",5),u._uU(13),u.qZA(),u.qZA(),u.TgZ(14,"span"),u.YNc(15,G,3,0,"span",6),u.YNc(16,he,2,0,"span",6),u.YNc(17,ge,2,2,"span",7),u.qZA(),u.TgZ(18,"span"),u.TgZ(19,"span",4),u._uU(20,"Chiffres d'affaires : "),u.qZA(),u.TgZ(21,"span",5),u._uU(22),u.ALo(23,"currency"),u.qZA(),u.qZA(),u.TgZ(24,"span"),u.TgZ(25,"span",4),u._uU(26,"Capital : "),u.qZA(),u.TgZ(27,"span",5),u._uU(28),u.ALo(29,"currency"),u.qZA(),u.qZA(),u.TgZ(30,"span"),u.TgZ(31,"span",4),u._uU(32,"Montant Horaire moyen : "),u.qZA(),u.TgZ(33,"span",5),u._uU(34),u.qZA(),u.qZA(),u.YNc(35,Ie,2,0,"span",6),u.qZA(),u._UZ(36,"hr",8),u.TgZ(37,"section",9),u.TgZ(38,"div",10),u.YNc(39,$e,1,2,"file-svg",11),u.qZA(),u.qZA(),u.YNc(40,j,15,3,"ng-container",0),u.qZA(),u.BQk()}if(2&Pe){const We=lt.ngIf,Ke=u.oxw();u.xp6(2),u.Q6J("canChangePicture",!1)("showMore",!0)("profile",We),u.xp6(6),u.Oqu(We.company.name),u.xp6(5),u.Oqu(We.company.siret),u.xp6(2),u.Q6J("ngIf",We.company.allQualifications),u.xp6(1),u.Q6J("ngIf",!We.company.allQualifications),u.xp6(1),u.Q6J("ngForOf",Ke.companyJobs),u.xp6(5),u.Oqu(u.gM2(23,14,We.company.revenue,"EUR","symbol","1.0-0")),u.xp6(6),u.Oqu(u.gM2(29,19,We.company.capital,"EUR","symbol","1.0-0")),u.xp6(6),u.hij("",We.company.amount?We.company.amount+" \u20ac":"Non renseign\xe9"," "),u.xp6(1),u.Q6J("ngIf",We.company.saturdayDisponibility),u.xp6(4),u.Q6J("ngForOf",Ke.attachedFiles),u.xp6(1),u.Q6J("ngIf",Ke.showContact)}}class Ee extends T.gC{constructor(lt,We,Ke){super(),this.store=lt,this.popup=We,this.cd=Ke,this.showContact=!1,this.ratingsClicked=new u.vpe,this.profileChanged=new u.vpe}ngOnChanges(lt){lt.profile$&&!lt.profile$.isFirstChange()&&this.profile$.pipe((0,g.q)(1)).subscribe(We=>{this.files=We.company.files,this.companyJobs=We.company.jobs,this.jobs=this.companyJobs.map(({job:Ke})=>Ke)})}ngOnInit(){this.profile$.pipe((0,g.q)(1)).subscribe(lt=>{this.files=lt.company.files,this.companyJobs=lt.company.jobs,this.jobs=this.companyJobs.map(({job:We})=>We)})}get attachedFiles(){return this.files.filter(lt=>"admin"==lt.nature||"labels"==lt.nature)}getFileColor(lt){return(0,k.l2)(lt)}openFile(lt){this.popup.openFile(lt)}}Ee.\u0275fac=function(lt){return new(lt||Ee)(u.Y36(C.yh),u.Y36(I.q),u.Y36(u.sBO))},Ee.\u0275cmp=u.Xpm({type:Ee,selectors:[["extended-profile"]],inputs:{profile$:["profile","profile$"],showContact:"showContact"},outputs:{ratingsClicked:"ratingsClicked",profileChanged:"profileChanged"},features:[u.qOj,u.TTD],decls:3,vars:5,consts:[[4,"ngIf"],[1,"hosted-page","flex","column","center-cross","space-children-margin","font-Poppins"],[1,"flex","column","center-cross","space-children-margin",3,"canChangePicture","showMore","profile","ratingsClicked"],[1,"job-description","full-width","flex","column","space-children-margin"],[1,"text-light-emphasis"],[1,"value"],["class","text-light-emphasis",4,"ngIf"],["class","value",4,"ngFor","ngForOf"],[1,"dashed"],[1,"full-width","documents"],[1,"flex","images"],[3,"name","color","click",4,"ngFor","ngForOf"],[3,"name","color","click"],[1,"full-width"],[1,"contact","list","flex","space-around"],[3,"href"],["src","assets/missions/call.svg"],["src","assets/missions/envoyer-un-message.svg"],["disabled","",3,"href"],["src","assets/missions/envoyer-un-mail.svg"]],template:function(lt,We){1&lt&&(u.YNc(0,Je,41,24,"ng-container",0),u.ALo(1,"async"),u.ALo(2,"cast")),2&lt&&u.Q6J("ngIf",u.lcZ(1,1,u.lcZ(2,3,We.profile$)))},directives:[U.O5,W.v,U.sg,oe.a],pipes:[U.Ov,be.E,U.H9],styles:["[_ngcontent-%COMP%]:root{--notification-size: $notification-size}.page-content-with-tabs[_ngcontent-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden;touch-action:pan-y!important}.page-content-with-tabs[_ngcontent-%COMP%]{margin-top:150px;margin-top:calc(constant(safe-area-inset-top) + 150px);margin-top:calc(env(safe-area-inset-top) + 150px);margin-bottom:0;margin-bottom:calc(constant(safe-area-inset-bottom) + 0);margin-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(100vh - 220px - env(safe-area-inset-bottom))}.invert[_ngcontent-%COMP%]{filter:invert(1)}[_nghost-%COMP%]{display:block}.quick-intro[_ngcontent-%COMP%] {font-weight:200}.job-description[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:300}.link[_ngcontent-%COMP%]{text-decoration:underline;color:#0d6191}.dashed[_ngcontent-%COMP%]{width:calc(100% + 2 *30px);padding:10px 20px 0;border-top:1px dashed #aaa}.documents[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{flex-wrap:wrap!important}ul[_ngcontent-%COMP%]{list-style:none}.documents[_ngcontent-%COMP%]   object[_ngcontent-%COMP%]{width:90px}.contact[_ngcontent-%COMP%]{margin-top:15px}",".page-content-with-tabs[_ngcontent-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden;touch-action:pan-y!important}.page-content-with-tabs[_ngcontent-%COMP%]{margin-top:150px;margin-top:calc(constant(safe-area-inset-top) + 150px);margin-top:calc(env(safe-area-inset-top) + 150px);margin-bottom:0;margin-bottom:calc(constant(safe-area-inset-bottom) + 0);margin-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(100vh - 220px - env(safe-area-inset-bottom))}.invert[_ngcontent-%COMP%]{filter:invert(1)}[_ngcontent-%COMP%]:root{--notification-size: $notification-size}@media (min-width: 702px){.hosted-page[_ngcontent-%COMP%]{background:transparent}profile-resume[_ngcontent-%COMP%] {width:100%;display:flex!important;flex-direction:row!important;justify-content:space-around!important;padding:10px 0}profile-resume[_ngcontent-%COMP%]  .section{margin-bottom:0!important}}","[_nghost-%COMP%]{overflow-y:auto}"],changeDetection:0}),(0,b.gn)([(0,r.W3)("JobForCompany")],Ee.prototype,"companyJobs",void 0),(0,b.gn)([(0,r.W3)("Job")],Ee.prototype,"jobs",void 0),(0,b.gn)([(0,r.W3)("File")],Ee.prototype,"files",void 0),(0,b.gn)([(0,r.N7)()],Ee.prototype,"profile$",void 0)},7541:(ke,_e,D)=>{"use strict";D.d(_e,{O:()=>Pe,u:()=>lt});var b=D(8239),u=D(3018),g=D(3679),r=D(7673),T=D(53),k=D(9222),C=D(8389),I=D(4789),U=D(7341),W=D(8583);const oe=["input"];function be(We,Ke){if(1&We){const Xe=u.EpF();u.TgZ(0,"input",13),u.NdJ("input",function(tt){return u.CHM(Xe),u.oxw(2).onFilenameChange(tt)}),u.qZA()}if(2&We){const Xe=u.oxw(2);u.Q6J("formControl",Xe.editName)}}function G(We,Ke){if(1&We){const Xe=u.EpF();u.ynx(0),u.TgZ(1,"span",10),u.YNc(2,be,1,1,"input",11),u.TgZ(3,"img",12),u.NdJ("click",function(){return u.CHM(Xe),u.oxw().close()}),u.qZA(),u.qZA(),u.BQk()}if(2&We){const Xe=u.oxw(),Ye=u.MAs(3);u.xp6(2),u.Q6J("ngIf",Xe.editName)("ngIfElse",Ye)}}function he(We,Ke){if(1&We&&u._uU(0),2&We){const Xe=u.oxw();u.AsE(" ",Xe.filename," ",Xe.comment," ")}}function ge(We,Ke){if(1&We&&(u.TgZ(0,"label",14),u._uU(1),u.qZA()),2&We){const Xe=u.oxw();u.xp6(1),u.hij("T\xe9l\xe9charger la certification ",Xe.filename,"")}}function Ie(We,Ke){if(1&We&&u._UZ(0,"img",21),2&We){const Xe=u.oxw(2);u.Q6J("src",Xe.imgsrc,u.LSH)}}function $e(We,Ke){1&We&&(u.TgZ(0,"div",22),u.Hsn(1),u.qZA())}function j(We,Ke){if(1&We){const Xe=u.EpF();u.TgZ(0,"div",15),u.YNc(1,Ie,1,1,"img",16),u.YNc(2,$e,2,0,"ng-template",null,17,u.W1O),u.TgZ(4,"div",18),u.TgZ(5,"label",19),u._uU(6,"Date de fin de validit\xe9"),u.qZA(),u.TgZ(7,"input",20),u.NdJ("change",function(tt){return u.CHM(Xe),u.oxw().onChange({origin:"date",event:tt})}),u.qZA(),u.qZA(),u.qZA()}if(2&We){const Xe=u.MAs(3),Ye=u.oxw();u.xp6(1),u.Q6J("ngIf",Ye.imgsrc)("ngIfElse",Xe),u.xp6(6),u.Q6J("value",Ye.value.expirationDate)}}const Je=[[["","image",""]]],Ee=["[image]"];function Pe(We="",Ke,Xe){return{content:"",expirationDate:Ke||"",ext:"???",name:Xe||"Veuillez t\xe9l\xe9charger un document",nature:We}}let lt=(()=>{class We extends T.xj{constructor(Xe,Ye,tt,et){super(Xe),this.popup=Ye,this.info=tt,this.swipeup=et,this.filename="Kbis",this.filenameChange=new u.vpe,this.kill=new u.vpe,this.requestFileMenu=new u.vpe,this.editName=!1,this.comment="(Moins de 3 mois)",this.imgsrc="",this.showtitle=!1,this.includeDate=!0}ngOnInit(){this.value={content:"",expirationDate:"",ext:"???",name:"Veuillez t\xe9l\xe9charger un document",nature:this.filename}}getBase64(Xe,Ye=0){const tt=new FileReader;return tt.readAsDataURL(Xe.item(Ye)),new Promise((et,vt)=>{tt.onload=()=>et(tt.result),tt.onerror=dt=>vt("Error: "+dt)})}getInput(Xe){var Ye=this;return(0,b.Z)(function*(){let tt=Xe.event.target;if("date"==Xe.origin){if(!tt.value)return Ye.value;const tn=tt.value.slice(0,10);return Object.assign(Object.assign({},Ye.value),{expirationDate:tn})}if(!tt.files)return Ye.value;const et=yield Ye.getBase64(tt.files),vt=tt.files.item(0).name,dt=vt.lastIndexOf("."),Mt=vt.slice(0,dt),Rt=vt.slice(dt+1);return Object.assign(Object.assign({},Ye.value),{content:et.slice((0,k.JB)(Rt).length+13),name:Mt,ext:Rt})})()}onFilenameChange(Xe){this.filenameChange.emit(Xe.target.value)}close(){this.kill.emit()}openInput(){this.inputRef.nativeElement.click()}takePhoto(){var Xe=this;return(0,b.Z)(function*(){const Ye=yield r.V1.getPhoto({allowEditing:!1,resultType:r.dk.Base64,source:r.oK.Photos});Xe.value={expirationDate:"",nature:"",name:Ye.path||"image du cam\xe9ra",ext:Ye.format,content:Ye.base64String}})()}onFileInputClicked(Xe){var tt,Ye=this;Xe.isTrusted&&Xe.preventDefault(),this.swipeup.show({type:"menu",hideOnClick:!0,items:[{name:"Supprimer un Fichier",click:()=>{console.log(this._value)}},{name:"Acc\xe9der au cam\xe9ra",click:(tt=(0,b.Z)(function*(){let et=yield r.V1.checkPermissions();if("granted"!=et.camera){if(et=yield r.V1.requestPermissions({permissions:["camera"]}),"granted"!=et.camera)return Ye.info.show("error","L'Acc\xe8s au cam\xe9ra n'est pas accord\xe9",3e3);Ye.takePhoto()}else Ye.takePhoto()}),function(){return tt.apply(this,arguments)})},{name:"T\xe9l\xe9charger un fichier",click:()=>{this.openInput()}},{name:"Visualiser un fichier",click:()=>{if(console.log(this.value),!this.value||!this.value.content&&null==this.value.id)return this.info.show("error","Aucun fichier \xe0 affichier",3e3);this.popup.openFile(this.value)}}]})}}return We.\u0275fac=function(Xe){return new(Xe||We)(u.Y36(u.sBO),u.Y36(C.q),u.Y36(I.C),u.Y36(U.V))},We.\u0275cmp=u.Xpm({type:We,selectors:[["fileinput"]],viewQuery:function(Xe,Ye){if(1&Xe&&u.Gf(oe,7,u.SBq),2&Xe){let tt;u.iGM(tt=u.CRH())&&(Ye.inputRef=tt.first)}},inputs:{filename:"filename",editName:"editName",comment:"comment",imgsrc:"imgsrc",showtitle:"showtitle",includeDate:"includeDate"},outputs:{filenameChange:"filenameChange",kill:"kill",requestFileMenu:"requestFileMenu"},features:[u._Bn([{provide:g.JU,multi:!0,useExisting:We}]),u.qOj],ngContentSelectors:Ee,decls:13,vars:5,consts:[[4,"ngIf","ngIfElse"],["simpleName",""],["class","label-input","for","filename",4,"ngIf"],[1,"file-form","flex","grow"],[1,"file-input","position-relative"],["type","file",1,"form-search",3,"change"],["input",""],[1,"placeholder","full-width","text-ellipsis","position-absolute"],["src","assets/Attachement.svg",3,"click"],["class","file-date flex",4,"ngIf"],[1,"position-relative"],["type","text","placeholder","Nom du document...","class","full-width form-element editName",3,"formControl","input",4,"ngIf","ngIfElse"],["src","assets/X.svg",1,"position-absolute","close-button",3,"click"],["type","text","placeholder","Nom du document...",1,"full-width","form-element","editName",3,"formControl","input"],["for","filename",1,"label-input"],[1,"file-date","flex"],["class","image",3,"src",4,"ngIf","ngIfElse"],["div",""],[1,"date","grow","flex","column","center-main"],[1,"label-input","text-emphasis"],["type","date",1,"full-width",3,"value","change"],[1,"image",3,"src"],[1,"image"]],template:function(Xe,Ye){if(1&Xe&&(u.F$t(Je),u.TgZ(0,"label"),u.YNc(1,G,4,2,"ng-container",0),u.YNc(2,he,1,2,"ng-template",null,1,u.W1O),u.qZA(),u.YNc(4,ge,2,1,"label",2),u.TgZ(5,"div",3),u.TgZ(6,"span",4),u.TgZ(7,"input",5,6),u.NdJ("change",function(et){return Ye.onChange({origin:"file",event:et})}),u.qZA(),u.TgZ(9,"span",7),u._uU(10),u.qZA(),u.qZA(),u.TgZ(11,"img",8),u.NdJ("click",function(et){return Ye.onFileInputClicked(et)}),u.qZA(),u.qZA(),u.YNc(12,j,8,3,"div",9)),2&Xe){const tt=u.MAs(3);u.xp6(1),u.Q6J("ngIf",Ye.editName)("ngIfElse",tt),u.xp6(3),u.Q6J("ngIf",Ye.showtitle),u.xp6(6),u.hij(" ",Ye.value.name," "),u.xp6(2),u.Q6J("ngIf",Ye.includeDate)}},directives:[W.O5,g.Fj,g.JJ,g.oH],styles:["[_ngcontent-%COMP%]:root{--notification-size: $notification-size}[_nghost-%COMP%]{display:block;margin-bottom:40px}label[_ngcontent-%COMP%]{color:#0c5e8d;font-weight:500;margin-bottom:10px}.label-input[_ngcontent-%COMP%]{color:#000;font-size:.9em;font-weight:200}.file-form[_ngcontent-%COMP%]{position:relative;justify-content:space-between;border-bottom:2px solid #CDCFD0}.file-form[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:20px;bottom:5px}.file-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0}.placeholder[_ngcontent-%COMP%]{font-size:.9em;left:0;top:5px}.file-date[_ngcontent-%COMP%]{justify-content:space-around}.file-date[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-bottom:2px solid #CDCFD0;background-color:#fff}.file-date[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:100px;height:100px}.date[_ngcontent-%COMP%]{text-align:left}.date[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500}input[type=date][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{display:none;-webkit-appearance:none}.editName[_ngcontent-%COMP%]{font:inherit;color:inherit}.close-button[_ngcontent-%COMP%]{right:20px;bottom:5px;transform-origin:center;transform:scale(.8);filter:invert(15%) sepia(70%) saturate(5364%) hue-rotate(353deg) brightness(97%) contrast(126%)}"],changeDetection:0}),We})()},2115:(ke,_e,D)=>{"use strict";D.d(_e,{a:()=>W});var b=D(6738),g=D(7090),r=D(3018),T=D(8583);function k(oe,be){if(1&oe){const G=r.EpF();r.TgZ(0,"li"),r.TgZ(1,"div",13),r.NdJ("click",function(){const Ie=r.CHM(G).$implicit;return r.oxw(2).showAgenda(Ie.day[2])})("click",function(){const Ie=r.CHM(G).$implicit;return r.oxw(2).showgrey(Ie)}),r.TgZ(2,"span",14),r._uU(3),r.qZA(),r.TgZ(4,"span",15),r._uU(5),r.qZA(),r.qZA(),r.qZA()}if(2&oe){const G=be.$implicit;r.xp6(1),r.Udp("background","occupe"==G.status&&G.selected?"grey":"occupe"!=G.status||G.selected?"occupe"!=G.status&&G.selected?"grey":"#FFFFFF":"#0D6191")("color","occupe"==G.status&&G.selected||"occupe"==G.status&&!G.selected||"occupe"!=G.status&&G.selected?"#FFFFFF":"occupe"==G.status||G.selected?"":"#0D6191"),r.xp6(2),r.hij(" ",G.day[1].slice(0,1).toUpperCase()+G.day[1].slice(1,2),""),r.xp6(2),r.hij("",G.day[0]," ")}}function C(oe,be){if(1&oe&&(r.TgZ(0,"div",11),r.TgZ(1,"ul"),r.YNc(2,k,6,6,"li",12),r.qZA(),r.qZA()),2&oe){const G=r.oxw();r.xp6(2),r.Q6J("ngForOf",G.selectedDay)}}function I(oe,be){if(1&oe){const G=r.EpF();r.TgZ(0,"div",16),r.TgZ(1,"span",17),r.NdJ("click",function(){return r.CHM(G),r.oxw().changeVue()}),r._uU(2),r.qZA(),r.qZA()}if(2&oe){const G=r.oxw();r.xp6(2),r.Oqu(G.hori?"Affichage horizontal":"Affichage complet du mois")}}function U(oe,be){if(1&oe&&(r.TgZ(0,"li",18),r._uU(1),r._UZ(2,"div",19),r.qZA()),2&oe){const G=be.$implicit;r.xp6(1),r.hij(" ",G,"h ")}}let W=(()=>{class oe{constructor(){this.week=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],this.hideForDesktop=!0,this.monthSelect=[],this.openModal=!1,this.hori=!1,this.greenCardFromTop=0,this.greenCardHeight=0,this.bilan="",this.detailedDays=[]}onDayClicked([G,he]){this.showAgenda(he[0])}ngOnInit(){let G=new Date(Date.now());this.getDaysFromDate(G.getMonth()+1,G.getFullYear()),this.setSelectedDays(),this.someFunction(),this.spanShowToday=b(G).locale("fr").format("dddd D - MMMM - YYYY"),this.showAgenda(b(G).format("YYYY-MM-DD")),this.showColors()}toCalendarDays(G){return this.detailedDays=G,G.map(he=>({date:he.date,availability:"selected"}))}setSelectedDays(){let G=b(),he=G.daysInMonth(),ge=G.clone().startOf("isoWeek"),Ie=[];for(var $e=1;$e<=he;$e++)Ie.push(1==$e?{day:b(ge).locale("fr").add($e,"days").format("D,dddd,YYYY-MM-DD").split(","),status:"",selected:!0}:{day:b(ge).locale("fr").add($e,"days").format("D,dddd,YYYY-MM-DD").split(","),status:"",selected:!1});this.selectedDay=Ie}getDaysFromDate(G,he){const ge=b.utc(`${he}/${G}/01`,"YYYY-MM-DD"),Ie=ge.clone().endOf("month");this.dateSelect=ge;const $e=Ie.diff(ge,"days",!0),j=Math.round($e),Je=Object.keys([...Array(j)]).map(Ee=>{Ee=parseInt(Ee)+1;const Pe=b(`${he}/${G}/${Ee}`);let lt=Pe;return this.detailedDays.filter(Ke=>Ke.date==lt._i).length?{name:Pe.format("dddd"),value:Ee,indexWeek:Pe.isoWeekday(),date:lt._i,availbility:"occupe"}:{name:Pe.format("dddd"),value:Ee,indexWeek:Pe.isoWeekday(),date:lt._i,availbility:"not"}});this.monthSelect=Je}changeMonth(G){if(G<0){const he=this.dateSelect.clone().subtract(1,"month");this.getDaysFromDate(he.format("MM"),he.format("YYYY"))}else{const he=this.dateSelect.clone().add(1,"month");this.getDaysFromDate(he.format("MM"),he.format("YYYY"))}}changeVue(){this.hori=!this.hori}someFunction(){const G=[];for(let he=8;he<20;he++)G.push(b({hour:he}).locale("fr").format("HH"));this.hoursperday=G}calculator(G,he){let ge=this.hoursTodecimal(G),Ie=this.hoursTodecimal(he);this.greenCardFromTop=25*(ge-8)+12.5,this.greenCardHeight=25*(Ie-ge)}hoursTodecimal(G){let he=G.split(/[.:]/);return parseInt(he[0],10)+(he[1]?parseInt(he[1],10):0)/60}showAgenda(G){this.spanShowToday=b(G,"YYYY-MM-DD").locale("fr").format("dddd D - MMMM - YYYY");let he=this.detailedDays.filter(ge=>(null==ge?void 0:ge.date)==G);he.length?(this.calculator(he[0].start,he[0].end),this.bilan=he[0].text):(this.greenCardFromTop=0,this.greenCardHeight=0)}showgrey(G){return this.selectedDay.forEach(he=>he.selected=!1),G.selected=!0,[...this.selectedDay,G]}showColors(){this.selectedDay.forEach(G=>{let he=this.detailedDays;he=he.filter(ge=>ge.date==G.day[2]),G.status=he.length?"occupe":""})}}return oe.\u0275fac=function(G){return new(G||oe)},oe.\u0275cmp=r.Xpm({type:oe,selectors:[["horizontal-calendar"]],viewQuery:function(G,he){if(1&G&&r.Gf(g.F,7),2&G){let ge;r.iGM(ge=r.CRH())&&(he.calendar=ge.first)}},inputs:{hideForDesktop:"hideForDesktop",detailedDays:"detailedDays"},decls:15,vars:12,consts:[["disabled","",3,"value","dayClick"],["class","horizontal-calendar",4,"ngIf"],["class","changevue center-text ",4,"ngIf"],[1,"day-availibility","space-children-margin"],[1,"selected-day"],[1,"selected-day-availibility","flex","center-cross"],[1,"sous-conditions"],[1,"agenda","flex","position-relative"],[1,"full-width"],["class","flex center-cross ",4,"ngFor","ngForOf"],[1,"topthing","position-absolute"],[1,"horizontal-calendar"],[4,"ngFor","ngForOf"],[1,"flex","center-cross","center-main",3,"click"],[1,"nameofday"],[1,"daynumber"],[1,"changevue","center-text"],[3,"click"],[1,"flex","center-cross"],[1,"agenda-line","full-width"]],template:function(G,he){1&G&&(r.TgZ(0,"calendar",0),r.NdJ("dayClick",function(Ie){return he.onDayClicked(Ie)}),r.qZA(),r.YNc(1,C,3,1,"div",1),r.YNc(2,I,3,1,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r._uU(5),r.qZA(),r.TgZ(6,"div",5),r._uU(7,"Vous \xe9tes dispo "),r._UZ(8,"div",6),r.qZA(),r.qZA(),r.TgZ(9,"div",7),r.TgZ(10,"ol",8),r.YNc(11,U,3,1,"li",9),r.qZA(),r.TgZ(12,"div",10),r.TgZ(13,"p"),r._uU(14),r.qZA(),r.qZA(),r.qZA()),2&G&&(r.Udp("display",he.hori?"block":"none"),r.Q6J("value",he.toCalendarDays(he.detailedDays)),r.xp6(1),r.Q6J("ngIf",!he.hori),r.xp6(1),r.Q6J("ngIf",he.hideForDesktop),r.xp6(3),r.Oqu(he.spanShowToday),r.xp6(6),r.Q6J("ngForOf",he.hoursperday),r.xp6(1),r.Udp("height",he.greenCardHeight,"px")("top",he.greenCardFromTop,"px"),r.xp6(2),r.hij(" ",he.bilan," "))},directives:[g.F,T.O5,T.sg],styles:['.page-content-with-tabs[_ngcontent-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden;touch-action:pan-y!important}.page-content-with-tabs[_ngcontent-%COMP%]{margin-top:150px;margin-top:calc(constant(safe-area-inset-top) + 150px);margin-top:calc(env(safe-area-inset-top) + 150px);margin-bottom:0;margin-bottom:calc(constant(safe-area-inset-bottom) + 0);margin-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(100vh - 220px - env(safe-area-inset-bottom))}.invert[_ngcontent-%COMP%]{filter:invert(1)}[_ngcontent-%COMP%]:root{--notification-size: $notification-size}[_nghost-%COMP%]{max-width:100%;font-family:"Roboto";color:#1e2843}.calendar[_ngcontent-%COMP%]{flex-flow:column;width:100%}.header-calendar[_ngcontent-%COMP%]{align-content:center;justify-content:space-between}.header-calendar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1e2843}.wrapper-calendar[_ngcontent-%COMP%]{margin:.25rem;border-radius:15px;box-shadow:#63636333 0 2px 8px;background-color:#fafafa;padding:10px}.wrapper-calendar[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{grid-row-gap:1rem;row-gap:1rem;list-style:none;display:grid;grid-template-columns:repeat(7,1fr);margin:0;padding:0}.wrapper-calendar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:1.5rem;width:1.5rem;font-size:.8rem;cursor:pointer;text-align:center;line-height:1.5rem;color:#1e2843}.day-name[_ngcontent-%COMP%]{font-size:14px;margin-bottom:2px;text-align:center}.calendar-action[_ngcontent-%COMP%]{justify-content:space-around}.calendar-action[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.5em}.header-calendar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:100%;font-size:14px}.header-calendar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;background-color:transparent;border:0}.unavailable[_ngcontent-%COMP%]{color:#fff!important;border-radius:50%}.unavailable[_ngcontent-%COMP%]{background-color:#1e2843}.sous-conditions[_ngcontent-%COMP%]:before, .disponible[_ngcontent-%COMP%]:before{content:"";display:inline-block;vertical-align:middle;margin-right:10px}.disponible[_ngcontent-%COMP%]:before{border-radius:50%;background-color:#b9edaf;width:1.2em;height:1.2em}.sous-conditions[_ngcontent-%COMP%]:before{border-radius:50%;background-color:#ffc425;width:1.2em;height:1.2em}.horizontal-calendar[_ngcontent-%COMP%]{overflow:auto;white-space:nowrap;margin-bottom:10px}.horizontal-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;display:inline-block;padding-bottom:20px}.horizontal-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block}.horizontal-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{align-items:center;margin:0 10px;border-radius:10px;width:47px;justify-content:center;background-color:#fff;border:1px solid #e1e1e1;flex-flow:column;font-weight:500;height:90px;box-shadow:#00000029 0 1px 4px}.horizontal-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .nameofday[_ngcontent-%COMP%]{font-size:14px;margin-bottom:5px}.horizontal-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .daynumber[_ngcontent-%COMP%]{font-weight:400!important;font-size:25px}.agenda[_ngcontent-%COMP%]{margin:1em 0;position:relative}.agenda[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:25px;padding:5px;font-size:12px;font-weight:600}.agenda-line[_ngcontent-%COMP%]{margin-left:20px;border-bottom:1px solid #E5E5E5;height:1px}.topthing[_ngcontent-%COMP%]{position:absolute;border-radius:7px;background:linear-gradient(#B9EDAF,#b0d8a8);opacity:.7;width:79%;color:#fff;left:15%;box-shadow:#b9edaf29 0 1px 4px;transition:all .3s ease-out 0s}.topthing[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:1em}.day-availibility[_ngcontent-%COMP%]{font-size:14px}.day-availibility[_ngcontent-%COMP%]   .selected-day[_ngcontent-%COMP%]{font-weight:500}.day-availibility[_ngcontent-%COMP%]   .selected-day-availibility[_ngcontent-%COMP%]{font-weight:200;align-items:center}.day-availibility[_ngcontent-%COMP%]   .selected-day-availibility[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-left:1em}.horiparent[_ngcontent-%COMP%]{display:grid}.changevue[_ngcontent-%COMP%]{font-size:12px;font-weight:200;text-align:right}'],changeDetection:0}),oe})()},6635:(ke,_e,D)=>{"use strict";D.d(_e,{l:()=>C});var b=D(3018),u=D(2958),r=D(6638),T=D(9358);const k=["map"];let C=(()=>{class I{constructor(W){this.store=W,this.mode="company",this._posts=[],this._companies=[],this.availabilities=[],this.center={longitude:2.349014,latitude:48.864716},this.postClick=new b.vpe,this.companyClick=new b.vpe,this.mapboxStyles="mapbox://styles/zeuschatoui/ckxj0zqovi9lf15p5gysrfax4",this.initialized=!1,this.aliveMarkers=[]}get posts(){return this._posts}set posts(W){this.mode="post",this._posts=W,this._companies=this.store.selectSnapshot(r.DW.getMany("Company",this.posts.map(oe=>oe.company))),this.initialized&&this.showPosts()}get companies(){return this._companies}set companies(W){this.mode="company",this._companies=W,this._posts=[],this.initialized&&this.showCompanies()}createPopup(){let W=document.createElement("span");W.classList.add("mapbox-popup-content"),W.innerText="",W.onclick=()=>{},this.popupContent=W}loadPopup(W,oe){return this.popupContent.innerHTML=`${W.name}`,this.popupContent.onclick=()=>{"post"==this.mode?this.postClick.emit(oe):this.companyClick.emit(W)},(new u.Popup).setDOMContent(this.popupContent)}createMarker(W="selected"){const oe=document.createElement("div");return oe.className="marker-icon",oe.style.backgroundImage=`url(assets/map/${W}.svg)`,oe.style.backgroundSize="100%",oe.style.width="70px",oe.style.height="70px",oe}ngOnInit(){this.mapbox=new u.Map({accessToken:"pk.eyJ1IjoiemV1c2NoYXRvdWkiLCJhIjoiY2t3c2h0Yjk0MGo2NDJvcWh3azNwNnF6ZSJ9.ZBbZHpP2RFSzCUPkjfEvMQ",container:this.view.nativeElement,style:this.mapboxStyles,zoom:5,center:[this.center.longitude,this.center.latitude],attributionControl:!1}),this.createPopup(),this.refresh(),this.initialized=!0}refresh(){this.reset(),"post"==this.mode?this.showPosts():this.showCompanies()}showPosts(){this.posts.forEach((W,oe)=>{if(null==W.latitude||null==W.longitude)return;let be=new u.Marker(this.createMarker()).setLngLat([W.longitude,W.latitude]).addTo(this.mapbox);return be.getElement().onclick=()=>{be.setPopup(this.loadPopup(this.companies[oe],W))},this.aliveMarkers.push(be),be})}showCompanies(){this.companies.forEach((W,oe)=>{if(null==W.latitude||null==W.longitude)return;let be=new u.Marker(this.createMarker(this.availabilities[oe])).setLngLat([W.longitude,W.latitude]).addTo(this.mapbox);return be.getElement().onclick=()=>{be.setPopup(this.loadPopup(W))},this.aliveMarkers.push(be),be})}reset(){this.mapbox.setZoom(5),this.mapbox.setCenter([this.center.longitude,this.center.latitude]);for(const W of this.aliveMarkers)W.remove();this.aliveMarkers.length=0}}return I.\u0275fac=function(W){return new(W||I)(b.Y36(T.yh))},I.\u0275cmp=b.Xpm({type:I,selectors:[["mapbox-batiuni"]],viewQuery:function(W,oe){if(1&W&&b.Gf(k,7,b.SBq),2&W){let be;b.iGM(be=b.CRH())&&(oe.view=be.first)}},inputs:{posts:"posts",companies:"companies",availabilities:"availabilities",center:"center"},outputs:{postClick:"postClick",companyClick:"companyClick"},decls:2,vars:0,consts:[[1,"map"],["map",""]],template:function(W,oe){1&W&&b._UZ(0,"div",0,1)},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}@media (min-width: 769px){[_nghost-%COMP%]{position:absolute;top:210px;left:400px;width:calc(100vw - 400px);height:calc(100vh - 220px)}}.map[_ngcontent-%COMP%]{width:100%;height:600px}@media (min-width: 769px){.map[_ngcontent-%COMP%]{height:100%}}.marker-icon[_ngcontent-%COMP%]{display:block;border:none;border-radius:50%;cursor:pointer;padding:0}"],changeDetection:0}),I})()},5145:(ke,_e,D)=>{"use strict";D.d(_e,{i:()=>he});var b=D(4762),u=D(3018),g=D(1052),r=D(9358),T=D(6215),k=D(6782),C=D(53),I=D(6638),U=D(4789),W=D(8583);function oe(ge,Ie){if(1&ge){const $e=u.EpF();u.TgZ(0,"li",3),u.NdJ("click",function(){const Ee=u.CHM($e).index;return u.oxw().changeRoute(Ee)}),u.ALo(1,"async"),u.TgZ(2,"a",4),u._UZ(3,"img",5),u._uU(4),u.qZA(),u.qZA()}if(2&ge){const $e=Ie.$implicit,j=Ie.index,Je=u.oxw();u.ekj("active",j==u.lcZ(1,6,Je.currentIndex)),u.xp6(3),u.Q6J("src",$e.src,u.LSH)("alt",$e.name)("title",$e.name),u.xp6(1),u.hij(" ",Je.mobileView?"":$e.name," ")}}const be=[{name:"Home",src:"assets/navigation/st/home.svg",route:""},{name:"Missions",src:"assets/navigation/st/missions.svg",route:"missions"},{name:"Availibity",src:"assets/navigation/st/availabilities.svg",route:"availabilities"},{name:"Profile",src:"assets/navigation/st/profile.svg",route:"profile"}],G=[{name:"Home",src:"assets/navigation/st/home.svg",route:""},{name:"Cr\xe9er une Annonce",src:"assets/navigation/pme/make.svg",route:"make"},{name:"SOS",src:"assets/navigation/pme/sos.svg",route:"sos"},{name:"Profile",src:"assets/navigation/st/profile.svg",route:"profile"}];class he extends C.gC{constructor(Ie,$e,j){super(),this.router=Ie,this.store=$e,this.currentIndex=new T.X(0),this.segments=[],this.mobileView=window.innerWidth<=768,this.routeChange=new u.vpe,this.menu=new T.X("PME"==this.store.selectSnapshot(I.an.view)?G:be),this.router.events.pipe((0,k.R)(this.destroy$)).subscribe(Je=>{if(!(Je instanceof g.m2))return;j.hide();let Ee=this.menu.getValue(),Pe=Je.urlAfterRedirects.split("/");if(this.segments=Pe.slice(3),Pe.length<2&&this.redirectHome(),2==Pe.length&&this.currentIndex.next(0),Pe.length>2){let lt=Pe[2],We=Ee.findIndex(Ke=>Ke.route==lt);this.segments=Pe.slice(3),We>=0?this.currentIndex.next(We):this.redirectHome()}})}changeRouteOnMenu(Ie,$e){let j=Ie[$e].route;this.routeChange.emit(j),this.router.navigate(j?["","home",j,...this.segments]:["","home"]),this.segments=[]}changeRoute(Ie){if(Ie==this.currentIndex.getValue())return;let $e=this.menu.getValue();this.changeRouteOnMenu($e,Ie)}getIndexFromUrl(Ie){let $e=this.menu.getValue(),j=Ie.split("/");if(this.segments=j.slice(3),j.length<2&&this.redirectHome(),2==j.length&&this.currentIndex.next(0),j.length>2){let Je=j[2],Ee=$e.findIndex(Pe=>Pe.route==Je);this.segments=j.slice(3),Ee>=0?this.currentIndex.next(Ee):this.redirectHome()}}ngOnInit(){this.navigationType$.pipe((0,k.R)(this.destroy$)).subscribe(Ie=>{this.menu.next("PME"==Ie?G:be),this.getIndexFromUrl(this.router.url)})}redirectHome(){this.router.navigate(["","home"])}}he.\u0275fac=function(Ie){return new(Ie||he)(u.Y36(g.F0),u.Y36(r.yh),u.Y36(U.C))},he.\u0275cmp=u.Xpm({type:he,selectors:[["navigation"]],outputs:{routeChange:"routeChange"},features:[u.qOj],decls:4,vars:3,consts:[[1,"full-width","flex","center-cross"],[1,"flex","row","center-cross","grow"],["class","flex center",3,"active","click",4,"ngFor","ngForOf"],[1,"flex","center",3,"click"],[1,"flex","center"],[3,"src","alt","title"]],template:function(Ie,$e){1&Ie&&(u.TgZ(0,"nav",0),u.TgZ(1,"ul",1),u.YNc(2,oe,5,8,"li",2),u.ALo(3,"async"),u.qZA(),u.qZA()),2&Ie&&(u.xp6(2),u.Q6J("ngForOf",u.lcZ(3,1,$e.menu)))},directives:[W.sg],pipes:[W.Ov],styles:['[_ngcontent-%COMP%]:root{--notification-size: $notification-size}.page-content-with-tabs[_ngcontent-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden;touch-action:pan-y!important}.page-content-with-tabs[_ngcontent-%COMP%]{margin-top:150px;margin-top:calc(constant(safe-area-inset-top) + 150px);margin-top:calc(env(safe-area-inset-top) + 150px);margin-bottom:0;margin-bottom:calc(constant(safe-area-inset-bottom) + 0);margin-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(100vh - 220px - env(safe-area-inset-bottom))}.invert[_ngcontent-%COMP%]{filter:invert(1)}@media (max-width: 768px){[_nghost-%COMP%]{display:block;width:100%;position:fixed;bottom:0;bottom:constant(safe-area-inset-bottom);bottom:env(safe-area-inset-bottom);z-index:10;background-color:#fff}nav[_ngcontent-%COMP%]{padding:10px 30px;height:70px;box-shadow:0 -3px 3px #eee}ul[_ngcontent-%COMP%]{list-style-type:none;justify-content:space-between}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block}li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px}li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(12%) sepia(96%) saturate(7052%) hue-rotate(180deg) brightness(78%) contrast(111%)}}@media (min-width: 769px){nav[_ngcontent-%COMP%]{width:50%}ul[_ngcontent-%COMP%]{list-style-type:none;justify-content:space-between}li[_ngcontent-%COMP%]{padding:0 2rem;border-right:2px solid #FFFFFF}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;white-space:nowrap;margin-right:.5rem}li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}li[_ngcontent-%COMP%]:last-child{content:""!important;display:block;border-right:none!important}li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{filter:invert(12%) sepia(96%) saturate(7052%) hue-rotate(180deg) brightness(78%) contrast(111%)}li.active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(12%) sepia(96%) saturate(7052%) hue-rotate(180deg) brightness(78%) contrast(111%)}}'],changeDetection:0}),(0,b.gn)([(0,r.Ph)(I.an.view)],he.prototype,"navigationType$",void 0)},2153:(ke,_e,D)=>{"use strict";D.d(_e,{T:()=>C});var b=D(6738),g=D(3018),r=D(8583);function T(I,U){if(1&I&&(g.TgZ(0,"div",3),g.TgZ(1,"div",4),g._UZ(2,"img",5),g.qZA(),g.TgZ(3,"span",6),g._uU(4),g.TgZ(5,"span",7),g._uU(6),g.qZA(),g.qZA(),g.qZA()),2&I){const W=U.$implicit,oe=U.index,be=g.oxw();g.xp6(2),g.Q6J("src",W.src,g.LSH),g.xp6(2),g.hij(" ",W.text," "),g.xp6(2),g.Oqu(be.timer[oe])}}function k(I,U){if(1&I&&(g.TgZ(0,"div",8),g.TgZ(1,"div",4),g._UZ(2,"img",5),g.qZA(),g.TgZ(3,"span",6),g._uU(4),g.qZA(),g.qZA()),2&I){const W=U.$implicit;g.xp6(2),g.Q6J("src",W.src,g.LSH),g.xp6(2),g.hij(" ",W.text," ")}}let C=(()=>{class I{constructor(){this.notification=[{id:1,date:new Date(Date.now()),src:"assets/PS1B.svg",text:"Vos horaires pour le chantier Lorem ipsum \xe0 \xe9t\xe9 modifier."},{id:2,date:"2022-01-03T00:00:00Z",src:"assets/PS1B.svg",text:"Vos horaires pour le chantier Lorem ipsum \xe0 \xe9t\xe9 modifier. "},{id:5,date:"2021-12-16T11:30:00Z",src:"assets/PS1B.svg",text:"Vos horaires pour le chantier Lorem ipsum \xe0 \xe9t\xe9 modifier. "},{id:3,date:"2021-12-15T00:00:00Z",src:"assets/PS1B.svg",text:"Vos horaires pour le chantier Lorem ipsum \xe0 \xe9t\xe9 modifier."},{id:4,date:"2021-12-16T00:00:00Z",src:"assets/PS1B.svg",text:"Vos horaires pour le chantier Lorem ipsum \xe0 \xe9t\xe9 modifier."}],this.timer=[]}ngOnInit(){let W=new Date(Date.now());this.month=this.notification.filter(oe=>b(b(W).format("L")).isAfter(b(oe.date).format("L"))),this.today=this.notification.filter(oe=>b(b(W).format("L")).isSame(b(oe.date).format("L")));for(let oe=0;oe<this.today.length;oe++)this.timer.push(b(b(this.today[oe].date)).startOf("hour").fromNow())}}return I.\u0275fac=function(W){return new(W||I)},I.\u0275cmp=g.Xpm({type:I,selectors:[["notifications"]],inputs:{notification:"notification"},decls:8,vars:2,consts:[[1,"text-emphasis"],["class","todays-notifications flex",4,"ngFor","ngForOf"],["class","monthly-notifications flex",4,"ngFor","ngForOf"],[1,"todays-notifications","flex"],[1,"offres-logo","flex","center"],[3,"src"],[1,"infos"],[1,"timer"],[1,"monthly-notifications","flex"]],template:function(W,oe){1&W&&(g.TgZ(0,"section"),g.TgZ(1,"span",0),g._uU(2,"Aujourd'hui"),g.qZA(),g.YNc(3,T,7,3,"div",1),g.qZA(),g.TgZ(4,"section"),g.TgZ(5,"span",0),g._uU(6,"Ce mois"),g.qZA(),g.YNc(7,k,5,2,"div",2),g.qZA()),2&W&&(g.xp6(3),g.Q6J("ngForOf",oe.today),g.xp6(4),g.Q6J("ngForOf",oe.month))},directives:[r.sg],styles:["[_ngcontent-%COMP%]:root{--notification-size: $notification-size}.page-content-with-tabs[_ngcontent-%COMP%], [_nghost-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden;touch-action:pan-y!important}[_nghost-%COMP%]{display:block;height:calc(100vh - 70px - env(safe-area-inset-bottom))}.page-content-with-tabs[_ngcontent-%COMP%]{margin-top:150px;margin-top:calc(constant(safe-area-inset-top) + 150px);margin-top:calc(env(safe-area-inset-top) + 150px);margin-bottom:0;margin-bottom:calc(constant(safe-area-inset-bottom) + 0);margin-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(100vh - 220px - env(safe-area-inset-bottom))}.invert[_ngcontent-%COMP%]{filter:invert(1)}[_nghost-%COMP%]{padding:20px!important;font-size:.9em}section[_ngcontent-%COMP%]{width:100%}.infos[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]{color:#999}.offres-logo[_ngcontent-%COMP%]{margin-right:.5em;height:51px;width:51px}.todays-notifications[_ngcontent-%COMP%], .monthly-notifications[_ngcontent-%COMP%]{padding-bottom:1em;padding-top:1em}.todays-notifications[_ngcontent-%COMP%]:not(:last-child), .monthly-notifications[_ngcontent-%COMP%]:not(:last-child){box-shadow:#0000000d 0 1px 2px}.infos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px}.infos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]{color:#ff0}.timer[_ngcontent-%COMP%]{font-size:12px;color:#999}"],changeDetection:0}),I})()},2734:(ke,_e,D)=>{"use strict";D.d(_e,{K:()=>W});var b=D(9765),u=D(5257),g=D(6638),r=D(3511),T=D(3018),k=D(9358),C=D(8389),I=D(8583);function U(oe,be){if(1&oe&&(T.ynx(0),T.TgZ(1,"div",1),T.TgZ(2,"div",2),T.TgZ(3,"p",3),T._uU(4),T.qZA(),T.TgZ(5,"p",4),T._uU(6),T.qZA(),T.TgZ(7,"p",5),T._uU(8),T.qZA(),T.TgZ(9,"p",6),T._uU(10),T.qZA(),T.qZA(),T.TgZ(11,"div",7),T._UZ(12,"img",8),T.qZA(),T.qZA(),T.BQk()),2&oe){const G=T.oxw();T.xp6(4),T.Oqu((null==G.company?null:G.company.name)||"Entreprise"),T.xp6(2),T.Oqu(null!=G.post&&G.post.manPower?"Man d'oeuvre":"Fourniture et Pose"),T.xp6(2),T.Oqu((null==G.post?null:G.post.address)||"addresse"),T.xp6(2),T.Oqu(null!=G.post&&G.post.dueDate?G.toLocateDate(G.post.dueDate):"19 Janvier 2038"),T.xp6(2),T.Q6J("src",G.src,T.LSH)}}let W=(()=>{class oe{constructor(G,he){this.store=G,this.popup=he,this.src="assets/confirmation.svg",this.deletable=!1,this.company=null}onPress(G){if(this.deletable){const he=new b.xQ;he.pipe((0,u.q)(1)).subscribe(ge=>{ge&&this.deletePost(),this.popup.hide()}),this.popup.openDeletePostDialog(he)}}get post(){return this._post}set post(G){this._post=G,this.company=G?this.store.selectSnapshot(g.DW.getById("Company",G.company)):null}deletePost(){this.store.dispatch(new r.x9(this.post.id))}toLocateDate(G){return G?new Date(G).toLocaleDateString("fr"):"(Non renseign\xe9)"}}return oe.\u0275fac=function(G){return new(G||oe)(T.Y36(k.yh),T.Y36(C.q))},oe.\u0275cmp=T.Xpm({type:oe,selectors:[["offer"]],hostBindings:function(G,he){1&G&&T.NdJ("press",function(){return he.onPress()})},inputs:{src:"src",deletable:"deletable",post:"post"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"container","grow","flex","center-cross","space-between"],[1,"offres-infos"],[1,"entreprise"],[1,"metier"],[1,"address"],[1,"date"],[1,"offres-logo","flex","center"],[3,"src"]],template:function(G,he){1&G&&T.YNc(0,U,13,5,"ng-container",0),2&G&&T.Q6J("ngIf",he.post)},directives:[I.O5],styles:[".page-content-with-tabs[_ngcontent-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden;touch-action:pan-y!important}.page-content-with-tabs[_ngcontent-%COMP%]{margin-top:150px;margin-top:calc(constant(safe-area-inset-top) + 150px);margin-top:calc(env(safe-area-inset-top) + 150px);margin-bottom:0;margin-bottom:calc(constant(safe-area-inset-bottom) + 0);margin-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(100vh - 220px - env(safe-area-inset-bottom))}.invert[_ngcontent-%COMP%]{filter:invert(1)}[_ngcontent-%COMP%]:root{--notification-size: $notification-size}[_nghost-%COMP%]{position:relative;right:0;display:flex}.address[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;text-overflow:ellipsis}.container[_ngcontent-%COMP%]{display:flex;background:white;box-shadow:0 5px 3px #959da533;padding:10px 20px;color:#999;border-radius:12px;justify-content:center;margin-bottom:1rem;flex-shrink:0;width:100%}.offres-infos[_ngcontent-%COMP%]{flex:1;white-space:nowrap;overflow:hidden}p[_ngcontent-%COMP%]{margin:.6em}.metier[_ngcontent-%COMP%], .date[_ngcontent-%COMP%]{color:#333}.adresse[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;font-weight:300}.showDesktopOption[_ngcontent-%COMP%]{padding:1rem;position:absolute;background-color:#fff;min-width:160px;overflow:auto;border-radius:12px;right:0;box-shadow:0 8px 16px #0003;z-index:1500}.showDesktopOption[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}"],changeDetection:0}),oe})()},6048:(ke,_e,D)=>{"use strict";D.d(_e,{Y:()=>$e});var b=D(3679),u=D(53),g=D(9222),r=D(3018),T=D(8583),k=D(3706),C=D(943);function I(j,Je){if(1&j){const Ee=r.EpF();r.TgZ(0,"li",8),r.NdJ("click",function(){const We=r.CHM(Ee).index;return r.oxw(2).onChange(["delete",We])}),r._uU(1),r.qZA()}if(2&j){const Ee=Je.$implicit;r.xp6(1),r.Oqu(Ee.name)}}function U(j,Je){if(1&j&&(r.TgZ(0,"ul",6),r.YNc(1,I,2,1,"li",7),r.qZA()),2&j){const Ee=r.oxw();r.ekj("multiple","checkbox"==Ee._type[0]),r.uIk("data-if-empty",Ee.ifEmpty),r.xp6(1),r.Q6J("ngForOf",Ee.value)}}function W(j,Je){if(1&j){const Ee=r.EpF();r.TgZ(0,"div",12),r.TgZ(1,"img",13),r.NdJ("click",function(){return r.CHM(Ee),r.oxw(2).showDropDown=!1}),r.qZA(),r.TgZ(2,"input",14),r.NdJ("input",function(lt){return r.CHM(Ee),r.oxw(2).filterOptions(lt)}),r.qZA(),r.qZA()}}function oe(j,Je){if(1&j){const Ee=r.EpF();r.TgZ(0,"li",19),r._uU(1),r.TgZ(2,"checkbox",20),r.NdJ("valueChange",function(){const We=r.CHM(Ee).$implicit;return r.oxw(4).onChange(["toggle",We.id])}),r.qZA(),r.qZA()}if(2&j){const Ee=Je.$implicit,Pe=r.oxw(4);r.xp6(1),r.hij(" ",Ee.name," "),r.xp6(1),r.Q6J("value",Pe.value.includes(Ee))}}function be(j,Je){if(1&j&&(r.TgZ(0,"ul"),r.YNc(1,oe,3,2,"li",18),r.qZA()),2&j){const Ee=r.oxw(3);r.xp6(1),r.Q6J("ngForOf",Ee.availableOptions)}}function G(j,Je){if(1&j){const Ee=r.EpF();r.TgZ(0,"li",19),r._uU(1),r.TgZ(2,"radiobox",21),r.NdJ("valueChange",function(){const We=r.CHM(Ee).$implicit;return r.oxw(4).onChange(["toggle",We.id])}),r.qZA(),r.qZA()}if(2&j){const Ee=Je.$implicit,Pe=r.oxw(4);r.xp6(1),r.hij(" ",Ee.name," "),r.xp6(1),r.Q6J("name",Pe._type[1])("value",Pe.value.includes(Ee))}}function he(j,Je){if(1&j&&(r.TgZ(0,"ul"),r.YNc(1,G,3,3,"li",18),r.qZA()),2&j){const Ee=r.oxw(3);r.xp6(1),r.Q6J("ngForOf",Ee.availableOptions)}}function ge(j,Je){if(1&j&&(r.TgZ(0,"div",15),r.YNc(1,be,2,1,"ul",16),r.YNc(2,he,2,1,"ng-template",null,17,r.W1O),r.qZA()),2&j){const Ee=r.MAs(3),Pe=r.oxw(2);r.xp6(1),r.Q6J("ngIf","checkbox"==Pe._type[0])("ngIfElse",Ee)}}function Ie(j,Je){if(1&j&&(r.TgZ(0,"div",9),r.YNc(1,W,3,0,"div",10),r.YNc(2,ge,4,2,"div",11),r.qZA()),2&j){const Ee=r.oxw();r.xp6(1),r.Q6J("ngIf",Ee.searchable),r.xp6(1),r.Q6J("ngIf",Ee.options.length)}}let $e=(()=>{class j extends u.cQ{constructor(Ee,Pe,lt){super(Pe),this.ref=Ee,this.cd=Pe,this.zone=lt,this.search="",this.showDropDown=!1,this._options=[],this.showChosenItems=!0,this.searchable=!0,this.ifEmpty="",this._type=["checkbox",""],this._value=[]}onToggle(Ee){this.showDropDown=!this.showDropDown,this.showDropDown&&setTimeout(()=>{const Pe=this.ref.nativeElement.querySelector("input[type=text]");null==Pe||Pe.scrollIntoView(!0)})}ngOnInit(){j.instances.push(this),j.listening||window.addEventListener("click",j.listener)}forceClose(){this.showDropDown=!1,this.cd.detectChanges()}get options(){return this._options}set options(Ee){this.search="",this._options=Ee,this.value=[]}set type(Ee){this._type="checkbox"==Ee?[Ee,""]:[Ee,(0,g.YO)(8)]}filterOptions(Ee){this.search=Ee.target.value}get availableOptions(){return this.options.filter(Ee=>Ee.name.toLowerCase().includes(this.search.toLowerCase()))}getInput(Ee){const Pe="checkbox"!=this._type[0];if("delete"==Ee[0]){let We=this.value[Ee[1]].id;return this.value.filter(Ke=>Ke.id!=We)}{let lt=Ee[1],We=this.options.find(Ke=>Ke.id==lt);return Pe?[We]:this.value.find(Ke=>Ke.id==lt)?this.value.filter(Ke=>Ke.id!=lt):[...this.value,We]}}ngOnDestroy(){const Ee=j.instances.indexOf(this);Ee>=0&&j.instances.splice(Ee,1),0==j.instances.length&&(window.removeEventListener("click",j.listener),j.listening=!1)}writeValue(Ee){const Pe=Ee.map(({id:lt})=>lt);this.value=(0,g.DZ)(this.options,lt=>Pe.includes(lt.id)?lt:null),this.cd.markForCheck()}}return j.instances=[],j.listener=Je=>{const Ee=Je.target;if((0,g.uR)(null,Ee))for(const lt of j.instances)if((0,g.uR)(lt.ref.nativeElement,Ee)){lt.forceClose();continue}},j.listening=!1,j.\u0275fac=function(Ee){return new(Ee||j)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(r.R0b))},j.\u0275cmp=r.Xpm({type:j,selectors:[["options"]],inputs:{options:"options",showChosenItems:"showChosenItems",searchable:"searchable",ifEmpty:"ifEmpty",type:"type"},features:[r._Bn([{provide:b.JU,multi:!0,useExisting:j}]),r.qOj],decls:6,vars:2,consts:[[1,"cover-parent","flex","column","center-cross"],[1,"form-select","full-width"],[1,"input-select","full-width","flex","row","center-cross"],["class","chosen-items",3,"multiple",4,"ngIf"],["src","assets/arrowdown.svg",3,"click"],["class","dropdown",4,"ngIf"],[1,"chosen-items"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"dropdown"],["class","dropdown-choices full-width flex row center-cross",4,"ngIf"],["class","dropdown-content",4,"ngIf"],[1,"dropdown-choices","full-width","flex","row","center-cross"],["src","assets/Rechercher.svg",3,"click"],["type","text","placeholder","Rechercher un m\xe9tier test",1,"form-search",3,"input"],[1,"dropdown-content"],[4,"ngIf","ngIfElse"],["radioMenu",""],["class","flex center-cross",4,"ngFor","ngForOf"],[1,"flex","center-cross"],[3,"value","valueChange"],[3,"name","value","valueChange"]],template:function(Ee,Pe){1&Ee&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.YNc(3,U,2,4,"ul",3),r.TgZ(4,"img",4),r.NdJ("click",function(We){return Pe.onToggle(We)}),r.qZA(),r.qZA(),r.YNc(5,Ie,3,2,"div",5),r.qZA(),r.qZA()),2&Ee&&(r.xp6(3),r.Q6J("ngIf",Pe.showChosenItems),r.xp6(2),r.Q6J("ngIf",Pe.showDropDown))},directives:[T.O5,T.sg,k.D,C.v],styles:['[_ngcontent-%COMP%]:root{--notification-size: $notification-size}.chosen-items[_ngcontent-%COMP%]:empty:after{position:absolute;top:0;left:0}.page-content-with-tabs[_ngcontent-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden;touch-action:pan-y!important}.page-content-with-tabs[_ngcontent-%COMP%]{margin-top:150px;margin-top:calc(constant(safe-area-inset-top) + 150px);margin-top:calc(env(safe-area-inset-top) + 150px);margin-bottom:0;margin-bottom:calc(constant(safe-area-inset-bottom) + 0);margin-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(100vh - 220px - env(safe-area-inset-bottom))}.invert[_ngcontent-%COMP%]{filter:invert(1)}[_nghost-%COMP%]{display:block;font-family:"Poppins";outline:none;min-width:120px}.input-select[_ngcontent-%COMP%]{position:relative;padding:5px;border-bottom:2px solid #cdcfd0;min-height:30px}.input-select[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;right:0;top:50%;transform:translateY(-50%);height:20px}.chosen-items[_ngcontent-%COMP%]:empty:after, .chosen-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin:4px;font-size:.75em}.chosen-items[_ngcontent-%COMP%]{list-style-type:none}.chosen-items[_ngcontent-%COMP%]:empty:after{content:attr(data-if-empty)}.chosen-items.multiple[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;border-radius:20px;border:1px solid #333}.dropdown-choices[_ngcontent-%COMP%]{padding:6px;min-height:40px}.dropdown-choices[_ngcontent-%COMP%]   .form-search[_ngcontent-%COMP%]{width:80%;height:100%;border:none!important;margin:0}.dropdown-choices[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:.5rem;height:15px}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100%}.dropdown-content[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;margin-top:.3rem;width:100%;box-shadow:0 4px 4px #ccc;padding:12px 16px;max-height:160px!important}.dropdown-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.85em;justify-content:space-between;margin:8px 0}.dropdown-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   checkbox[_ngcontent-%COMP%], .dropdown-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   radiobox[_ngcontent-%COMP%]{transform-origin:50% 50%;transform:scale(.75);flex-shrink:0}'],changeDetection:0}),j})()},6407:(ke,_e,D)=>{"use strict";D.d(_e,{q:()=>oe});var b=D(4762),u=D(5257),g=D(6638),r=D(53),T=D(3018),k=D(9358),C=D(7563),I=D(2881),U=D(8583);function W(be,G){1&be&&T._UZ(0,"div",3)}class oe extends r.gC{constructor(G,he,ge,Ie){super(),this.cd=G,this.store=he,this.imageGenerator=ge,this.downloader=Ie,this.image=null,this.src="",this.colorProfile="conic-gradient(#C95555 11.50%, white 11.50% 13.50%, #FFD375 13.5% 36.5%, white 36.50% 38.50%, #D2FFCB 38.50% 61.5%,white 61.50% 63.5%, #BBEFB1 63.5% 86.5%, white 86.5% 88.5%, #C95555 88.5%);",this.borders=!0}ngOnChanges(G){G.profile&&this.profile.pipe((0,u.q)(1)).subscribe(he=>{if(this.image=this.store.selectSnapshot(g.DW.getProfileImage(he.company.id)),this.image)this.downloader.downloadFile(this.image).subscribe(ge=>{this.src=this.downloader.toSecureBase64(ge),this.cd.markForCheck()});else{const ge=he.company.name[0].toUpperCase();this.src=this.imageGenerator.generate(ge),this.cd.markForCheck()}})}}oe.\u0275fac=function(G){return new(G||oe)(T.Y36(T.sBO),T.Y36(k.yh),T.Y36(C.u),T.Y36(I.V))},oe.\u0275cmp=T.Xpm({type:oe,selectors:[["profile-image"]],inputs:{profile:"profile",borders:"borders"},features:[T.qOj,T.TTD],decls:3,vars:2,consts:[[1,"image-container"],[3,"src"],["class","ticks position-absolute",4,"ngIf"],[1,"ticks","position-absolute"]],template:function(G,he){1&G&&(T.TgZ(0,"div",0),T._UZ(1,"img",1),T.qZA(),T.YNc(2,W,1,0,"div",2)),2&G&&(T.xp6(1),T.Q6J("src",he.src||"assets/profile.png",T.LSH),T.xp6(1),T.Q6J("ngIf",he.borders))},directives:[U.O5],styles:["[_ngcontent-%COMP%]:root{--notification-size: $notification-size}[_nghost-%COMP%]{display:block;position:relative;flex-shrink:0;width:134px;height:134px;border-radius:50%;transform:rotate(45deg);--color1: #C95555;--color2: #FFD375;--color3: #D2FFCB;--color4: #BBEFB1;background:conic-gradient(var(--color1) 11.5%,white 11.5% 13.5%,var(--color2) 13.5% 36.5%,white 36.5% 38.5%,var(--color3) 38.5% 61.5%,white 61.5% 63.5%,var(--color4) 63.5% 86.5%,white 86.5% 88.5%,var(--color1) 88.5%)}[_nghost-%COMP%], [_nghost-%COMP%]   .image-container[_ngcontent-%COMP%], [_nghost-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{overflow:hidden;top:8px;left:8px;position:absolute}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:118px;height:118px;object-fit:cover}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{transform:rotate(-45deg)}.ticks[_ngcontent-%COMP%]{width:134px;height:134px;top:-8px;left:-8px}.ticks[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%], .ticks[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{height:10px;width:3px}.ticks[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .ticks[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:10px;height:3px}.ticks[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{top:100%;transform:translateY(-100%)}.ticks[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{left:100%;transform:translate(-100%)}.ticks[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#fff}"],changeDetection:0}),(0,b.gn)([(0,g.N7)()],oe.prototype,"profile",void 0)},9817:(ke,_e,D)=>{"use strict";D.d(_e,{v:()=>Ie});var b=D(4762),u=D(3018),g=D(9358),r=D(6638),T=D(3511),k=D(6407),C=D(8583),I=D(6755),U=D(7836),W=D(7061);function oe($e,j){if(1&$e){const Je=u.EpF();u.TgZ(0,"img",5),u.NdJ("click",function(){return u.CHM(Je),u.oxw().changePicture.emit()}),u.qZA()}}function be($e,j){if(1&$e){const Je=u.EpF();u.TgZ(0,"switch",9),u.NdJ("valueChange",function(Pe){return u.CHM(Je),u.oxw(2).changeProfileType(Pe)}),u.ALo(1,"async"),u.qZA()}if(2&$e){const Je=u.oxw(2);u.Q6J("value","PME"==u.lcZ(1,2,Je.view$))("disabled",!Je.profile.user||3!==Je.profile.company.role||null)}}function G($e,j){if(1&$e){const Je=u.EpF();u.TgZ(0,"stars",10),u.NdJ("click",function(){return u.CHM(Je),u.oxw(2).ratingsClicked.emit()}),u.qZA()}}function he($e,j){if(1&$e&&(u.ynx(0),u.YNc(1,be,2,4,"switch",6),u.TgZ(2,"span",7),u._uU(3),u.ALo(4,"titlecase"),u.qZA(),u.TgZ(5,"span"),u._uU(6),u.qZA(),u.TgZ(7,"span"),u._uU(8),u.ALo(9,"space"),u.qZA(),u.YNc(10,G,1,0,"stars",8),u.BQk()),2&$e){const Je=u.oxw();u.xp6(1),u.Q6J("ngIf",Je.switch),u.xp6(2),u.Oqu(u.lcZ(4,5,Je.profile.user?Je.profile.user.firstName+" "+Je.profile.user.lastName:Je.profile.company.name)),u.xp6(3),u.Oqu(Je.profile.user.username),u.xp6(2),u.Oqu(u.Dn7(9,7,Je.profile.user.cellPhone,2,1)),u.xp6(2),u.Q6J("ngIf",Je.star)}}class Ie{constructor(j){this.store=j,this.switch=!0,this.showMore=!1,this.star=!0,this.canChangePicture=!1,this.ratingsClicked=new u.vpe,this.changePicture=new u.vpe,this.color1="#C95555",this.color2="#FFD375",this.color3="#D2FFCB",this.color4="#BBEFB1"}changeProfileType(j){this.store.dispatch(new T.Gh(j))}ngOnChanges(){const Je=this.profile.user,Ee=this.profile.company,Pe=Ee.files.map(tt=>this.store.selectSnapshot(r.DW.getById("File",tt))),lt=Pe.map(tt=>tt?tt.name:null),We=["URSSAF","Kbis","Trav. Dis","Imp\xf4ts","Cong\xe9s Pay\xe9s"].map(tt=>lt.includes(tt)),Ke=Pe.map(tt=>tt?tt.nature:null),Xe=Je.firstName&&Je.lastName&&Ee.amount&&Ee.address&&Ee.companyPhone&&Ee.siret&&Ee.jobs;let Ye="start";Xe&&(Ye="beginner"),Ke.includes("labels")&&(Ye="label"),Xe&&Ke.includes("labels")&&(Ye="medium"),Xe&&!We.includes(!1)&&(Ye="advanced"),Xe&&!We.includes(!1)&&Ke.includes("labels")&&(Ye="completed"),"start"==Ye?(this.color1="#aaa",this.color2="#aaa",this.color3="#C95555",this.color4="#aaa"):"beginner"==Ye?(this.color1="#aaa",this.color2="#aaa",this.color3="#FFD375",this.color4="#FFD375"):"label"==Ye?(this.color1="#aaa",this.color2="#D2FFCB",this.color3="#C95555",this.color4="#aaa"):"medium"==Ye?(this.color1="#aaa",this.color2="#D2FFCB",this.color3="#FFD375",this.color4="#FFD375"):"advanced"==Ye?(this.color1="#BBEFB1",this.color2="#aaa",this.color3="#BBEFB1",this.color4="#BBEFB1"):"completed"==Ye&&(this.color1="#BBEFB1",this.color2="#D2FFCB",this.color3="#BBEFB1",this.color4="#BBEFB1")}}Ie.\u0275fac=function(j){return new(j||Ie)(u.Y36(g.yh))},Ie.\u0275cmp=u.Xpm({type:Ie,selectors:[["profile-resume"]],inputs:{profile:"profile",switch:"switch",showMore:"showMore",star:"star",canChangePicture:"canChangePicture"},outputs:{ratingsClicked:"ratingsClicked",changePicture:"changePicture"},features:[u.TTD],ngContentSelectors:["*"],decls:6,vars:11,consts:[[1,"section"],[3,"profile"],["src","assets/icons/modify.svg","class","modify-icon image",3,"click",4,"ngIf"],[1,"quick-intro","flex","column","center-cross","small-space-children-margin"],[4,"ngIf"],["src","assets/icons/modify.svg",1,"modify-icon","image",3,"click"],["off","Profil ST","on","Profil PME","style","text-align: center;",3,"value","disabled","valueChange",4,"ngIf"],[1,"text-emphasis"],["value","3.9","disabled","",3,"click",4,"ngIf"],["off","Profil ST","on","Profil PME",2,"text-align","center",3,"value","disabled","valueChange"],["value","3.9","disabled","",3,"click"]],template:function(j,Je){1&j&&(u.F$t(),u.TgZ(0,"section",0),u._UZ(1,"profile-image",1),u.YNc(2,oe,1,0,"img",2),u.qZA(),u.TgZ(3,"section",3),u.YNc(4,he,11,11,"ng-container",4),u.qZA(),u.Hsn(5)),2&j&&(u.xp6(1),u.Udp("--color1",Je.color1)("--color2",Je.color2)("--color3",Je.color3)("--color4",Je.color4),u.Q6J("profile",Je.profile),u.xp6(1),u.Q6J("ngIf",Je.canChangePicture),u.xp6(2),u.Q6J("ngIf",Je.profile.user&&Je.showMore))},directives:[k.q,C.O5,I.i,U.I],pipes:[C.rS,W.D,C.Ov],styles:["[_ngcontent-%COMP%]:root{--notification-size: $notification-size}.page-content-with-tabs[_ngcontent-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden;touch-action:pan-y!important}.page-content-with-tabs[_ngcontent-%COMP%]{margin-top:150px;margin-top:calc(constant(safe-area-inset-top) + 150px);margin-top:calc(env(safe-area-inset-top) + 150px);margin-bottom:0;margin-bottom:calc(constant(safe-area-inset-bottom) + 0);margin-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(100vh - 220px - env(safe-area-inset-bottom))}.invert[_ngcontent-%COMP%]{filter:invert(1)}[_nghost-%COMP%]{display:block}@media (min-width: 769px){[_nghost-%COMP%]{background:white}[_nghost-%COMP%]   switch[_ngcontent-%COMP%]{display:none}}.blue[_ngcontent-%COMP%]{color:#0d6191}"],changeDetection:0}),(0,b.gn)([(0,g.Ph)(r.an.view)],Ie.prototype,"view$",void 0)},2384:(ke,_e,D)=>{"use strict";D.d(_e,{U:()=>g});var b=D(53),u=D(3018);let g=(()=>{class r extends b.cQ{constructor(k){super(k),this.placeholder="Recherche une annone",this.value=""}getInput(k){return k.target.value}}return r.\u0275fac=function(k){return new(k||r)(u.Y36(u.sBO))},r.\u0275cmp=u.Xpm({type:r,selectors:[["searchbar"]],inputs:{placeholder:"placeholder"},features:[u.qOj],decls:2,vars:1,consts:[["src","assets/Rechercher.svg"],[3,"placeholder","input"]],template:function(k,C){1&k&&(u._UZ(0,"img",0),u.TgZ(1,"input",1),u.NdJ("input",function(U){return C.onChange(U)}),u.qZA()),2&k&&(u.xp6(1),u.Q6J("placeholder",C.placeholder))},styles:["[_ngcontent-%COMP%]:root{--notification-size: $notification-size}[_nghost-%COMP%]{position:relative;display:inline-block;height:48px;border-radius:5px;z-index:100}@media (min-width: 769px){[_nghost-%COMP%]{box-shadow:0 2px 4px 1px #ddd}}img[_ngcontent-%COMP%]{position:absolute;width:24px;height:24px;left:12px;top:50%;transform:translateY(-50%)}input[_ngcontent-%COMP%]{font-size:1em;padding:16px 16px 16px 48px;border-radius:12px;width:100%;background-color:#fff}"],changeDetection:0}),r})()},5546:(ke,_e,D)=>{"use strict";D.d(_e,{Z:()=>he});var b=D(2692),u=D(3018),g=D(2881),r=D(9075),T=D(9358),k=D(6407),C=D(8583);function I(ge,Ie){if(1&ge){const $e=u.EpF();u.ynx(0),u.TgZ(1,"img",12),u.NdJ("click",function(){return u.CHM($e),u.oxw(2).slides.slide("left")}),u.qZA(),u.TgZ(2,"img",13),u.NdJ("click",function(){return u.CHM($e),u.oxw(2).slides.slide("right")}),u.qZA(),u.BQk()}if(2&ge){const $e=u.oxw(2);u.xp6(1),u.ekj("hidden",$e.slides.first),u.xp6(1),u.ekj("hidden",$e.slides.last)}}function U(ge,Ie){if(1&ge&&(u.TgZ(0,"div",9),u._UZ(1,"div",10),u.YNc(2,I,3,4,"ng-container",11),u.qZA()),2&ge){const $e=u.oxw(),j=u.MAs(13);u.xp6(1),u.Q6J("slide-template",j)("contexts",$e.supervision.files),u.xp6(1),u.Q6J("ngIf",$e.manyFiles)}}function W(ge,Ie){1&ge&&(u.TgZ(0,"div",14),u.Hsn(1),u.qZA())}function oe(ge,Ie){if(1&ge&&u._UZ(0,"img",15),2&ge){const $e=u.oxw();u.Q6J("src",$e.getImage($e.supervision.files)||"assets/unavailable.jpg",u.LSH)}}const be=[[["comment-suivi"]]],G=["comment-suivi"];let he=(()=>{class ge{constructor($e,j,Je){this.downloader=$e,this.sanitizer=j,this.store=Je,this.parentComment=null,this._supervision={id:-1,Supervisions:[],author:"Gabriel Dubois",date:-2019,comment:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore Lorem ipsum dolor sit amet, consectetur adipiscing elit.",files:[]}}get supervision(){return this._supervision}set supervision($e){this._supervision=$e}get manyFiles(){return this.supervision.files.length>1}slide($e){}getImage($e){return this.downloader.downloadFile($e[0]),null}}return ge.\u0275fac=function($e){return new($e||ge)(u.Y36(g.V),u.Y36(r.H7),u.Y36(T.yh))},ge.\u0275cmp=u.Xpm({type:ge,selectors:[["comment-suivi"]],contentQueries:function($e,j,Je){if(1&$e&&u.Suo(Je,ge,5,ge),2&$e){let Ee;u.iGM(Ee=u.CRH())&&(j.parentComment=Ee.first)}},viewQuery:function($e,j){if(1&$e&&u.Gf(b._,7,b._),2&$e){let Je;u.iGM(Je=u.CRH())&&(j.slides=Je.first)}},inputs:{supervision:"supervision"},ngContentSelectors:G,decls:14,vars:5,consts:[[1,"comment-provider","flex","center-cross"],[1,"user-image"],[1,"user-info"],[1,"user-name"],[1,"post-date"],["class","comment-image position-relative",4,"ngIf"],[1,"suivi-comment"],["class","parent-comment",4,"ngIf"],["image",""],[1,"comment-image","position-relative"],[1,"cover-parent",3,"slide-template","contexts"],[4,"ngIf"],["src","assets/arrowleft.svg",1,"position-absolute","left",3,"click"],["src","assets/arrowright.svg",1,"position-absolute","right",3,"click"],[1,"parent-comment"],[1,"main",3,"src"]],template:function($e,j){1&$e&&(u.F$t(be),u.TgZ(0,"div",0),u._UZ(1,"profile-image",1),u.TgZ(2,"div",2),u.TgZ(3,"span",3),u._uU(4),u.qZA(),u._UZ(5,"br"),u.TgZ(6,"span",4),u._uU(7),u.qZA(),u.qZA(),u.qZA(),u.YNc(8,U,3,3,"div",5),u.TgZ(9,"div",6),u._uU(10),u.qZA(),u.YNc(11,W,2,0,"div",7),u.YNc(12,oe,1,1,"ng-template",null,8,u.W1O)),2&$e&&(u.xp6(4),u.Oqu(j.supervision.author),u.xp6(3),u.hij("Le ",j.supervision.date,""),u.xp6(1),u.Q6J("ngIf",j.supervision.files.length>0),u.xp6(2),u.hij(" ",j.supervision.comment,"\n"),u.xp6(1),u.Q6J("ngIf",j.parentComment))},directives:[k.q,C.O5,b._],styles:["[_ngcontent-%COMP%]:root{--notification-size: $notification-size}.comment-image[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .comment-image[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.page-content-with-tabs[_ngcontent-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden;touch-action:pan-y!important}.page-content-with-tabs[_ngcontent-%COMP%]{margin-top:150px;margin-top:calc(constant(safe-area-inset-top) + 150px);margin-top:calc(env(safe-area-inset-top) + 150px);margin-bottom:0;margin-bottom:calc(constant(safe-area-inset-bottom) + 0);margin-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(100vh - 220px - env(safe-area-inset-bottom))}.invert[_ngcontent-%COMP%]{filter:invert(1)}[_nghost-%COMP%]{display:block;border:1px solid #C7C7C7;padding:0}.user-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;font-size:.9em}.user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.3em}.user-info[_ngcontent-%COMP%]   .post-date[_ngcontent-%COMP%]{font-weight:200}.comment-provider[_ngcontent-%COMP%]{height:100px}.user-image[_ngcontent-%COMP%]{transform:scale(.5) rotate(45deg);margin:0}.comment-image[_ngcontent-%COMP%]   img.main[_ngcontent-%COMP%]{height:225px;width:100%;object-fit:contain}.comment-image[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{left:8px}.comment-image[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{right:8px}.suivi-comment[_ngcontent-%COMP%], .parent-comment[_ngcontent-%COMP%]{border-bottom:inherit;padding:8px;line-height:1.5em}.parent-comment[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}.response[_ngcontent-%COMP%]{justify-content:space-between;padding:8px}.response[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80%;white-space:normal}.hidden[_ngcontent-%COMP%]{display:none}"],changeDetection:0}),ge})()},6755:(ke,_e,D)=>{"use strict";D.d(_e,{i:()=>C});var b=D(3679),u=D(53),g=D(3018),r=D(8583);function T(I,U){if(1&I&&(g.TgZ(0,"span"),g._uU(1),g.qZA()),2&I){const W=g.oxw();g.ekj("active",!W.value),g.xp6(1),g.Oqu(W.off)}}function k(I,U){if(1&I&&(g.TgZ(0,"span"),g._uU(1),g.qZA()),2&I){const W=g.oxw();g.ekj("active",W.value),g.xp6(1),g.Oqu(W.on)}}let C=(()=>{class I extends u.cQ{constructor(){super(...arguments),this.round=!0,this.off="",this.on=""}getInput(W){return W.target.checked}}return I.\u0275fac=function(){let U;return function(oe){return(U||(U=g.n5z(I)))(oe||I)}}(),I.\u0275cmp=g.Xpm({type:I,selectors:[["switch"]],inputs:{round:"round",off:"off",on:"on"},features:[g._Bn([{provide:b.JU,multi:!0,useExisting:I}]),g.qOj],decls:6,vars:6,consts:[[3,"active",4,"ngIf"],[1,"switch"],["type","checkbox",3,"checked","disabled","input"],["input",""],[1,"slider"]],template:function(W,oe){1&W&&(g.YNc(0,T,2,3,"span",0),g.TgZ(1,"label",1),g.TgZ(2,"input",2,3),g.NdJ("input",function(G){return oe.onChange(G)}),g.qZA(),g._UZ(4,"div",4),g.qZA(),g.YNc(5,k,2,3,"span",0)),2&W&&(g.Q6J("ngIf",oe.off),g.xp6(2),g.Q6J("checked",oe.value||null)("disabled",oe.isDisabled||null),g.xp6(2),g.ekj("round",oe.round),g.xp6(1),g.Q6J("ngIf",oe.on))},directives:[r.O5],styles:['[_ngcontent-%COMP%]:root{--notification-size: $notification-size}[_nghost-%COMP%]{display:inline-block}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}span[_ngcontent-%COMP%]{color:#aaa;margin:0 10px;transition:color .25s ease-out 0s}span.active[_ngcontent-%COMP%]{color:#000}input[_ngcontent-%COMP%]{display:none}.switch[_ngcontent-%COMP%]{position:relative;width:40px;height:20px}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;background-color:#ccc;top:0;bottom:0;left:0;right:0;transition:.25s ease-out}.slider[_ngcontent-%COMP%]:before{background-color:#fff;top:2px;left:2px;content:"";height:16px;position:absolute;transition:.4s;width:16px}.slider[_ngcontent-%COMP%]{background:linear-gradient(to right,#009BE0,#69F0AE)}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}.slider.round[_ngcontent-%COMP%]{border-radius:20px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}  switch.default input:checked+.slider{background:#0D6191}'],changeDetection:0}),I})()},2692:(ke,_e,D)=>{"use strict";D.d(_e,{_:()=>g});var b=D(53),u=D(3018);let g=(()=>{class r extends b.kW{constructor(k,C,I){super(k,C),this.factoryResolver=k,this.view=C,this.cd=I,this.ref={element:null,view:null},this.contexts=[],this.template=null}indexChanged(k){k>0?this.slide("left",k):this.slide("right",-k)}get length(){return this.contexts.length}ngOnInit(){!this.template||(this.ref=this.createTemplate(this.template,this.contexts[0]),console.log("slideTemplate",this.ref.view),this.view.insert(this.ref.view))}slideIn(k,C){!k.element||(this.animateWithClass(k.element,"slide-in-"+C),this.ref.element&&this.animateWithClass(this.ref.element,"slide-out-"+C,()=>{this.view.remove(0)}),this.ref=k)}slide(k,C=1){let I="left"==k?Math.min(this.contexts.length-1,this.index+C):Math.max(0,this.index-C);if(this.index==I)return;this._index=I;let U=this.createTemplate(this.template,this.contexts[this.index]);this.view.insert(U.view),this.slideIn(U,k)}get first(){return 0==this.index}get last(){return this.index==this.contexts.length-1}}return r.\u0275fac=function(k){return new(k||r)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(u.sBO))},r.\u0275dir=u.lG2({type:r,selectors:[["","slide-template",""]],inputs:{contexts:"contexts",template:["slide-template","template"]},features:[u.qOj]}),r})()},5757:(ke,_e,D)=>{"use strict";D.d(_e,{J:()=>g});var b=D(53),u=D(3018);let g=(()=>{class r extends b.GN{constructor(k,C,I){super(),this.factoryResolver=k,this.view=C,this.cd=I,this.componentRef={element:null,view:null},this.components=[],this._type="component",this.animate=!0}ngOnInit(){let k=this.componentRef=this.create(0);this.view.insert(k.view)}set slide(k){this.components=k}set type(k){this._type=k}create(k){return"component"==this._type?this.createComponent(k):this.createTemplate(k,{})}createComponent(k){let I=this.factoryResolver.resolveComponentFactory(this.components[k%this.components.length]),U=this.view.createComponent(I);return{element:U.location.nativeElement,view:U.hostView}}createTemplate(k,C){let U=this.components[k%this.components.length].createEmbeddedView(C);return{element:U.rootNodes[0],view:U}}animateWithClass(k,C,I){var U;null===(U=k.classList)||void 0===U||U.add(C);let W=k.onanimationend;k.onanimationend=oe=>{W&&W.call(k,oe),k.onanimationend=W,null==I||I(k,oe),k.classList.remove(C)}}slideIn(k,C){!k.element||(this.animateWithClass(k.element,"slide-in-"+C),this.componentRef&&this.animateWithClass(this.componentRef.element,"slide-out-"+C,()=>{this.view.remove(0)}))}indexChanged(k,C=this.animate,I){k>0?this.left(k,C,I):this.right(-k,C,I)}left(k=1,C=this.animate,I){let U=Math.min(this.components.length-1,this.index+k);if(this.index!=U){this._index=U;let W=this.create(this.index);C?this.slideIn(W,"left"):this.view.remove(0),this.componentRef=W,this.view.insert(W.view),this.cd.markForCheck(),I&&I()}}right(k=1,C=this.animate,I){let U=Math.max(0,this.index-k);if(this.index!=U){this._index=U;let W=this.create(this.index);C?this.slideIn(W,"right"):this.view.remove(0),this.componentRef=W,this.view.insert(W.view),this.cd.markForCheck(),I&&I()}}get first(){return 0==this.index}get last(){return this.index==this.components.length-1}}return r.\u0275fac=function(k){return new(k||r)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(u.sBO))},r.\u0275dir=u.lG2({type:r,selectors:[["","slides",""]],inputs:{slide:["slides","slide"],type:"type",animate:"animate"},features:[u.qOj]}),r})()},3123:(ke,_e,D)=>{"use strict";D.d(_e,{D:()=>Ke});var b=D(4762),u=D(3018),g=D(3679),r=D(5257),T=D(6638),k=D(3511),C=D(7530),I=D(7090),U=D(7541),W=D(9358),oe=D(4789),be=D(7414),G=D(6048),he=D(943),ge=D(8583),Ie=D(6755),$e=D(3706);const j=["0"],Je=["1"],Ee=["2"],Pe=["3"];function lt(Xe,Ye){if(1&Xe){const tt=u.EpF();u.TgZ(0,"li",39),u._UZ(1,"input",40),u.TgZ(2,"img",41),u.NdJ("click",function(){const dt=u.CHM(tt).index;return u.oxw().cancelDetail(dt)}),u.qZA(),u.qZA()}2&Xe&&u.Q6J("formGroupName",Ye.index)}function We(Xe,Ye){if(1&Xe){const tt=u.EpF();u.ynx(0,42),u.TgZ(1,"fileinput",43),u.NdJ("kill",function(){const dt=u.CHM(tt).index;return u.oxw().removeDocument(dt)}),u.qZA(),u.BQk()}if(2&Xe){const tt=Ye.$implicit;u.Q6J("formGroupName",Ye.index),u.xp6(1),u.Q6J("includeDate",!1)("editName",tt.get("name"))}}class Ke{constructor(Ye,tt){this.store=Ye,this.info=tt,this.page=!0,this.done=new u.vpe,this._post=null,this.currencies=["$","\u20ac","\xa3"].map((et,vt)=>({id:vt,name:et})),this.commonDocuments=["Plan","Document Technique","Descriptif du chantier","Calendrier d'\xe9xecution"],this.makeAdForm=new g.cw({dueDate:new g.NI("2022-01-24"),manPower:new g.NI(0),job:new g.NI([],[g.kI.required]),address:new g.NI("1 Rue Joliot Curie, 91190 Gif-sur-Yvette",[g.kI.required]),numberOfPeople:new g.NI(1),counterOffer:new g.NI(!1),hourlyStart:new g.NI("07:30:00"),hourlyEnd:new g.NI("17:30:00"),currency:new g.NI(this.currencies.filter(et=>"\u20ac"==et.name)),description:new g.NI(""),amount:new g.NI(1),documents:new g.Oe(this.commonDocuments.map(et=>new g.cw({name:new g.NI(et),fileData:new g.NI((0,U.O)("post"))}))),detailedPost:new g.Oe([]),calendar:new g.NI([])})}get post(){return this._post}set post(Ye){var tt,et,vt,dt,Mt,Rt,tn,nn,ln,It,mn,Nn,yn;if(!Ye||Ye==this._post)return;this._post=Ye;const yt=this.store.selectSnapshot(T.DW.getMany("DetailedPost",Ye.details)),Lt=this.store.selectSnapshot(T.DW.getMany("File",Ye.files));null===(tt=this.makeAdForm.get("dueDate"))||void 0===tt||tt.setValue(Ye.dueDate),null===(et=this.makeAdForm.get("manPower"))||void 0===et||et.setValue(Ye.manPower),null===(vt=this.makeAdForm.get("job"))||void 0===vt||vt.setValue(Ye.job?[{id:Ye.job}]:[]),null===(dt=this.makeAdForm.get("address"))||void 0===dt||dt.setValue(Ye.address),null===(Mt=this.makeAdForm.get("numberOfPeople"))||void 0===Mt||Mt.setValue(Ye.numberOfPeople),null===(Rt=this.makeAdForm.get("counterOffer"))||void 0===Rt||Rt.setValue(Ye.counterOffer),null===(tn=this.makeAdForm.get("hourlyStart"))||void 0===tn||tn.setValue(Ye.hourlyStart),null===(nn=this.makeAdForm.get("hourlyEnd"))||void 0===nn||nn.setValue(Ye.hourlyEnd),null===(ln=this.makeAdForm.get("currency"))||void 0===ln||ln.setValue(this.currencies.filter(zt=>zt.name==Ye.currency)),null===(It=this.makeAdForm.get("description"))||void 0===It||It.setValue(Ye.description),null===(mn=this.makeAdForm.get("amount"))||void 0===mn||mn.setValue(Ye.amount);const Ve=this.makeAdForm.get("detailedPost");Ve.clear();for(const zt of yt)Ve.push(new g.cw({description:new g.NI(zt.content)}));let Ge=[];Ye.dates.length&&(Ge="string"==typeof Ye.dates[0]?Ye.dates.map(zt=>({date:zt,availability:"selected"})):this.store.selectSnapshot(T.DW.getMany("DatePost",Ye.dates)).map(({name:zt})=>({date:zt,availability:"selected"}))),null===(Nn=this.makeAdForm.get("calendar"))||void 0===Nn||Nn.setValue(Ge),null===(yn=this.calendar)||void 0===yn||yn.viewCurrentDate();const wt=this.makeAdForm.get("documents");wt.clear();for(const zt of Lt)wt.push(new g.cw({name:new g.NI(zt.name),fileData:new g.NI(zt)}))}get invalid(){const Ye=this.makeAdForm.get("calendar");return!this.makeAdForm.valid||0==(null==Ye?void 0:Ye.value.length)}get documentsControls(){return this.makeAdForm.get("documents").controls}get detailedPostControls(){return this.makeAdForm.get("detailedPost").controls}addDocument(){this.makeAdForm.get("documents").push(new g.cw({name:new g.NI(""),fileData:new g.NI((0,U.O)("post"))}))}removeDocument(Ye){const tt=this.makeAdForm.get("documents"),et=tt.at(Ye).value.fileData;tt.removeAt(Ye),et.id&&this.store.dispatch(new k.Yx(et.id))}addDetail(){this.makeAdForm.get("detailedPost").push(new g.cw({description:new g.NI("",[(0,C.aH)()])}))}cancelDetail(Ye){this.makeAdForm.get("detailedPost").removeAt(Ye)}eraseDateIfNecessary(){console.log("eraseDateIfNecessary")}submit(Ye){if(this.post)if(Ye)this.info.show("info","Enregistrement de l'annonce...",1/0),this.store.dispatch(k.WM.fromPostForm(this.makeAdForm.value,Ye,this.post.id)).pipe((0,r.q)(1)).subscribe(()=>{this.info.show("info","Envoi de l'annonce...",1/0),this.info.show("success","Annonce Enregistr\xe9e",2e3),this.done.emit()},()=>{this.info.show("error","Echec de l'enregistrement",5e3)});else{this.info.show("info","Mise en ligne de l'annonce...",1/0);const tt=this.makeAdForm.touched?k.WM.fromPostForm(this.makeAdForm.value,Ye,this.post.id):new k.VP(this.post.id);this.store.dispatch(tt).pipe((0,r.q)(1)).subscribe(()=>{this.info.show("success","Annonce mise en ligne",2e3),this.done.emit()},()=>{this.info.show("error","Echec",5e3)})}else this.info.show("info","Envoi de l'annonce...",1/0),this.makeAdForm.get("calendar"),this.store.dispatch(k.WM.fromPostForm(this.makeAdForm.value,Ye)).pipe((0,r.q)(1)).subscribe(()=>{console.log("success"),this.info.show("success","Annonce Envoy\xe9e",2e3),this.done.emit()},()=>{console.log("success"),this.info.show("error","Echec de l'envoi",5e3)})}}Ke.\u0275fac=function(Ye){return new(Ye||Ke)(u.Y36(W.yh),u.Y36(oe.C))},Ke.\u0275cmp=u.Xpm({type:Ke,selectors:[["ad-form"]],viewQuery:function(Ye,tt){if(1&Ye&&(u.Gf(j,5),u.Gf(Je,5),u.Gf(Ee,5),u.Gf(Pe,5),u.Gf(I.F,5)),2&Ye){let et;u.iGM(et=u.CRH())&&(tt.first=et.first),u.iGM(et=u.CRH())&&(tt.second=et.first),u.iGM(et=u.CRH())&&(tt.third=et.first),u.iGM(et=u.CRH())&&(tt.last=et.first),u.iGM(et=u.CRH())&&(tt.calendar=et.first)}},hostVars:2,hostBindings:function(Ye,tt){2&Ye&&u.ekj("page",tt.page)},inputs:{page:"page",post:"post"},outputs:{done:"done"},decls:92,vars:14,consts:[[1,"full-width","form-control",3,"formGroup"],[1,"form-section-title"],["0",""],[1,"form-input"],["type","number","min","0","formControlName","numberOfPeople",1,"form-element"],["type","radio","formControlName","job",3,"options"],[1,"flex","row","radio-container"],[1,"radio-item"],["formControlName","manPower",1,"grow",3,"onselect"],["type","date","formControlName","dueDate",1,"form-element"],["src","assets/calendar.png"],["1",""],["type","text","formControlName","address",1,"form-element"],["formControlName","description","placeholder","...",1,"form-element"],[1,"position-relative"],["src","assets/icons/add.svg",1,"position-absolute","add-detail",3,"click"],["formArrayName","detailedPost",1,"prestation","big-space-children-margin"],["class","position-relative",3,"formGroupName",4,"ngFor","ngForOf"],[1,"center-text"],["on","Intervalle","off","Jour",3,"value","click"],["switch",""],["formControlName","calendar",3,"useEvents","mode"],[1,"flex","row","space-between"],["type","time","formControlName","hourlyStart",1,"form-element","time-picker"],["type","time","formControlName","hourlyEnd",1,"form-element","time-picker"],["2",""],[1,"flex","row","remuneration"],["type","number","min","0","placeholder","Montant","formControlName","amount",1,"grow","form-element",2,"max-height","51px"],[1,"option-container"],["type","radio","formControlName","currency",3,"searchable","options"],["formControlName","counterOffer"],["3",""],["formArrayName","documents"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"form-input","center-text","add-field",3,"click"],["src","assets/icons/add.svg"],[1,"flex","row","space-between","sticky-footer","full-width","submit-container",2,"background-color","white"],[1,"button","passive","font-Poppins","full-width",3,"disabled","click"],[1,"button","gradient","font-Poppins","full-width",3,"disabled","click"],[1,"position-relative",3,"formGroupName"],["type","text","formControlName","description",1,"full-width","form-element","detail"],["src","assets/X.svg",1,"cancel-detail",3,"click"],[3,"formGroupName"],["comment","","placeholder","","formControlName","fileData",3,"includeDate","editName","kill"]],template:function(Ye,tt){if(1&Ye&&(u.TgZ(0,"form",0),u.TgZ(1,"h2",1,2),u._uU(3,"Besoins de l'entreprise"),u.qZA(),u.TgZ(4,"div",3),u.TgZ(5,"label"),u._uU(6,"Je cherche"),u.qZA(),u._UZ(7,"input",4),u.qZA(),u.TgZ(8,"div",3),u.TgZ(9,"label"),u._uU(10,"M\xe9tier"),u.qZA(),u._UZ(11,"options",5),u.qZA(),u.TgZ(12,"div",3),u.TgZ(13,"label"),u._uU(14,"Type"),u.qZA(),u.TgZ(15,"div",6),u.TgZ(16,"div",7),u._UZ(17,"radiobox",8),u.TgZ(18,"span"),u._uU(19,"Main d'oeuvre"),u.qZA(),u.qZA(),u.TgZ(20,"div",7),u._UZ(21,"radiobox",8),u.TgZ(22,"span"),u._uU(23,"Fourniture et pose"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(24,"div",3),u.TgZ(25,"label"),u._uU(26,"Date d'\xe9ch\xe9ance de l'annonce"),u.qZA(),u._UZ(27,"input",9),u._UZ(28,"img",10),u.qZA(),u.TgZ(29,"h2",1,11),u._uU(31,"Infos chantiers"),u.qZA(),u.TgZ(32,"div",3),u.TgZ(33,"label"),u._uU(34,"Adresse"),u.qZA(),u._UZ(35,"input",12),u.qZA(),u.TgZ(36,"div",3),u.TgZ(37,"label"),u._uU(38,"Description du chantier"),u.qZA(),u._UZ(39,"textarea",13),u.qZA(),u.TgZ(40,"div",3),u.TgZ(41,"label",14),u._uU(42,"D\xe9tail de la prestation"),u.TgZ(43,"img",15),u.NdJ("click",function(){return tt.addDetail()}),u.qZA(),u.qZA(),u.TgZ(44,"ol",16),u.YNc(45,lt,3,1,"li",17),u.qZA(),u.qZA(),u.TgZ(46,"div",3),u.TgZ(47,"label"),u._uU(48,"Dates du chantier"),u.qZA(),u.TgZ(49,"div",18),u.TgZ(50,"switch",19,20),u.NdJ("click",function(){return tt.eraseDateIfNecessary()}),u.qZA(),u.qZA(),u._UZ(52,"calendar",21),u.qZA(),u.TgZ(53,"div",3),u.TgZ(54,"label"),u._uU(55,"Horaires du chantier"),u.qZA(),u.TgZ(56,"div",22),u.TgZ(57,"span"),u._uU(58," Du: "),u._UZ(59,"input",23),u.qZA(),u.TgZ(60,"span"),u._uU(61," Jusqu'\xe0: "),u._UZ(62,"input",24),u.qZA(),u.qZA(),u.qZA(),u.TgZ(63,"h2",1,25),u._uU(65,"R\xe9mun\xe9ration"),u.qZA(),u.TgZ(66,"div",3),u.TgZ(67,"label"),u._uU(68,"Montant"),u.qZA(),u.TgZ(69,"div",26),u._UZ(70,"input",27),u.TgZ(71,"div",28),u._UZ(72,"options",29),u.qZA(),u.qZA(),u.qZA(),u.TgZ(73,"div",3),u._UZ(74,"checkbox",30),u.TgZ(75,"span"),u._uU(76,"Autoriser une contre-offre"),u.qZA(),u.qZA(),u.TgZ(77,"h2",1,31),u._uU(79,"Documents \xe0 t\xe9l\xe9charger"),u.qZA(),u.ynx(80,32),u.YNc(81,We,2,3,"ng-container",33),u.BQk(),u.TgZ(82,"div",3),u.TgZ(83,"div",34),u.NdJ("click",function(){return tt.addDocument()}),u._UZ(84,"img",35),u.TgZ(85,"span"),u._uU(86,"Ajouter un document"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(87,"footer",36),u.TgZ(88,"button",37),u.NdJ("click",function(){return tt.submit(!0)}),u._uU(89),u.qZA(),u.TgZ(90,"button",38),u.NdJ("click",function(){return tt.submit(!1)}),u._uU(91," Passer en ligne "),u.qZA(),u.qZA()),2&Ye){const et=u.MAs(51);u.Q6J("formGroup",tt.makeAdForm),u.xp6(11),u.Q6J("options",tt.allJobs),u.xp6(6),u.Q6J("onselect",!0),u.xp6(4),u.Q6J("onselect",!1),u.xp6(24),u.Q6J("ngForOf",tt.detailedPostControls),u.xp6(5),u.Q6J("value",!1),u.xp6(2),u.Q6J("useEvents",!1)("mode",et.value?"range":"single"),u.xp6(20),u.Q6J("searchable",!1)("options",tt.currencies),u.xp6(9),u.Q6J("ngForOf",tt.documentsControls),u.xp6(7),u.Q6J("disabled",tt.invalid),u.xp6(1),u.hij(" ",tt.post?"Enregistrer":"Brouillon"," "),u.xp6(1),u.Q6J("disabled",tt.invalid)}},directives:[g._Y,g.JL,g.sg,g.qQ,g.wV,g.Fj,g.JJ,g.u,be.kH,G.Y,he.v,he.t,g.CE,ge.sg,Ie.i,I.F,$e.D,g.x0,U.u],styles:["[_ngcontent-%COMP%]:root{--notification-size: $notification-size}.page-content-with-tabs[_ngcontent-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden;touch-action:pan-y!important}.page-content-with-tabs[_ngcontent-%COMP%]{margin-top:150px;margin-top:calc(constant(safe-area-inset-top) + 150px);margin-top:calc(env(safe-area-inset-top) + 150px);margin-bottom:0;margin-bottom:calc(constant(safe-area-inset-bottom) + 0);margin-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(100vh - 220px - env(safe-area-inset-bottom))}.invert[_ngcontent-%COMP%]{filter:invert(1)}[_nghost-%COMP%]{display:block;width:100%;height:100%}.remuneration[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:45%}textarea[_ngcontent-%COMP%]{border:1px dashed #ccc;outline:none}.option-container[_ngcontent-%COMP%]{margin-left:30px;width:100px}.time-picker[_ngcontent-%COMP%]{margin-left:20px}.submit-container[_ngcontent-%COMP%]{height:70px;padding-left:10px;padding-right:10px;padding-top:10px}.submit-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{max-width:45%}.add-detail[_ngcontent-%COMP%]{right:20px;top:5px}.detail[_ngcontent-%COMP%]{font:inherit}.page[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{bottom:70px;bottom:calc(constant(safe-area-inset-bottom) + 70px);bottom:calc(env(safe-area-inset-bottom) + 70px)}ol[_ngcontent-%COMP%]{list-style:none}.cancel-detail[_ngcontent-%COMP%]{position:absolute;top:0px;right:5px;transform-origin:center;transform:scale(.7)}"],changeDetection:0}),(0,b.gn)([(0,T.Ou)("Job")],Ke.prototype,"allJobs",void 0)},5549:(ke,_e,D)=>{"use strict";D.d(_e,{x:()=>T});var b=D(3018),u=D(3679),g=D(7530),r=D(7414);let T=(()=>{class k{constructor(){this.submit=new b.vpe,this.form=new u.cw({oldPwd:new u.NI("",[(0,g.kc)()]),newPwd:new u.NI("",[(0,g.kc)()]),newPwdConfirmation:new u.NI("",[(0,g.UQ)("newPwd")])},{})}onSubmit(){this.submit.emit(this.form)}}return k.\u0275fac=function(I){return new(I||k)},k.\u0275cmp=b.Xpm({type:k,selectors:[["modify-password-form"]],outputs:{submit:"submit"},decls:16,vars:2,consts:[[1,"form-control",2,"height","100%",3,"formGroup"],[1,"form-input"],["type","password","formControlName","oldPwd",1,"form-element"],["type","password","formControlName","newPwd",1,"form-element"],["type","password","formControlName","newPwdConfirmation",1,"form-element"],[1,"sticky-footer"],[1,"button","gradient","full-width",3,"disabled","click"]],template:function(I,U){1&I&&(b.TgZ(0,"form",0),b.TgZ(1,"div",1),b.TgZ(2,"label"),b._uU(3,"Ancien mot de passe"),b.qZA(),b._UZ(4,"input",2),b.qZA(),b.TgZ(5,"div",1),b.TgZ(6,"label"),b._uU(7,"Nouveau mot de passe"),b.qZA(),b._UZ(8,"input",3),b.qZA(),b.TgZ(9,"div",1),b.TgZ(10,"label"),b._uU(11,"Confirmation nouveau mot de passe"),b.qZA(),b._UZ(12,"input",4),b.qZA(),b.qZA(),b.TgZ(13,"div",5),b.TgZ(14,"button",6),b.NdJ("click",function(){return U.onSubmit()}),b._uU(15," Enregistrer "),b.qZA(),b.qZA()),2&I&&(b.Q6J("formGroup",U.form),b.xp6(14),b.Q6J("disabled",U.form.invalid||null))},directives:[u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u,r.kH],styles:["[_ngcontent-%COMP%]:root{--notification-size: $notification-size}.page-content-with-tabs[_ngcontent-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden;touch-action:pan-y!important}.sticky-footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;padding:10px 30px;width:100vw;height:calc(70px + env(safe-area-inset-bottom));padding-bottom:calc(constant(safe-area-inset-bottom) + 10px);padding-bottom:calc(env(safe-area-inset-bottom) + 10px)}.page-content-with-tabs[_ngcontent-%COMP%]{margin-top:150px;margin-top:calc(constant(safe-area-inset-top) + 150px);margin-top:calc(env(safe-area-inset-top) + 150px);margin-bottom:0;margin-bottom:calc(constant(safe-area-inset-bottom) + 0);margin-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(100vh - 220px - env(safe-area-inset-bottom))}.invert[_ngcontent-%COMP%]{filter:invert(1)}[_nghost-%COMP%]{width:100%}.sticky-footer[_ngcontent-%COMP%]{box-shadow:0 -3px 3px #ddd;background-color:#fff}"],changeDetection:0}),k})()},8209:(ke,_e,D)=>{"use strict";D.d(_e,{r:()=>tt});var b=D(8239),u=D(4762),g=D(3018),r=D(3679),T=D(7673),k=D(5757),C=D(7541),I=D(7530),U=D(6638),W=D(7061),oe=D(9358),be=D(7414),G=D(8583),he=D(943),ge=D(664),Ie=D(53);let $e=(()=>{class et extends Ie.cQ{constructor(dt){super(dt),this.min=0,this.max=1/0,this.valueChange=new g.vpe,this._value=this.min+(this.max+this.min)/2}ngOnInit(){}getInput(dt){return Math.min(this.max,Math.max(this.min,this.value+dt))}}return et.\u0275fac=function(dt){return new(dt||et)(g.Y36(g.sBO))},et.\u0275cmp=g.Xpm({type:et,selectors:[["number"]],inputs:{min:"min",max:"max"},outputs:{valueChange:"valueChange"},features:[g._Bn([{provide:r.JU,multi:!0,useExisting:et}]),g.qOj],decls:3,vars:1,consts:[["src","assets/icons/minus.svg",3,"click"],["min","0","type","number","disabled","",1,"center-text",3,"value"],["src","assets/icons/plus.svg",3,"click"]],template:function(dt,Mt){1&dt&&(g.TgZ(0,"img",0),g.NdJ("click",function(){return Mt.onChange(-1)}),g.qZA(),g._UZ(1,"input",1),g.TgZ(2,"img",2),g.NdJ("click",function(){return Mt.onChange(1)}),g.qZA()),2&dt&&(g.xp6(1),g.Q6J("value",Mt.value))},styles:["[_ngcontent-%COMP%]:root{--notification-size: $notification-size}[_nghost-%COMP%]{display:inline-block}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{vertical-align:middle}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]{-moz-appearance:textfield;border:none!important;outline:none!important;width:20px}img[_ngcontent-%COMP%]{width:25px;height:25px}"],changeDetection:0}),et})();var j=D(6048);function Je(et,vt){if(1&et&&(g.TgZ(0,"section",8),g.TgZ(1,"form",9),g.TgZ(2,"h3",10),g._uU(3," Infos personelles: "),g.qZA(),g.TgZ(4,"div",11),g.TgZ(5,"label"),g._uU(6,"Nom du contact"),g.qZA(),g._UZ(7,"input",12),g.qZA(),g.TgZ(8,"div",11),g.TgZ(9,"label"),g._uU(10,"Pr\xe9nom du contact"),g.qZA(),g._UZ(11,"input",13),g.qZA(),g.TgZ(12,"div",11),g.TgZ(13,"label"),g._uU(14,"Adresse e-mail contact"),g.qZA(),g._UZ(15,"input",14),g.qZA(),g.TgZ(16,"div",11),g.TgZ(17,"label"),g._uU(18,"T\xe9l\xe9phone de l'entreprise"),g.qZA(),g._UZ(19,"input",15),g.qZA(),g.TgZ(20,"div",11),g.TgZ(21,"label"),g._uU(22,"T\xe9l\xe9phone portable"),g.qZA(),g._UZ(23,"input",16),g.qZA(),g.TgZ(24,"div",11),g.TgZ(25,"label"),g._uU(26,"Fonction dans l'entreprise"),g.qZA(),g._UZ(27,"input",17),g.qZA(),g.qZA(),g.qZA()),2&et){const dt=g.oxw();g.xp6(1),g.Q6J("formGroup",dt.form)}}function Ee(et,vt){if(1&et&&(g.TgZ(0,"span",49),g.ynx(1,50),g.TgZ(2,"span",51),g._uU(3),g.qZA(),g.TgZ(4,"div",52),g._UZ(5,"number",53),g.qZA(),g.BQk(),g.qZA()),2&et){const dt=vt.$implicit,Mt=vt.index;g.xp6(1),g.Q6J("formGroupName",Mt),g.xp6(2),g.Oqu(dt.get("job").value.name)}}function Pe(et,vt){if(1&et){const dt=g.EpF();g.ynx(0),g.TgZ(1,"label"),g._uU(2,"M\xe9tiers"),g.qZA(),g.ynx(3,45),g.YNc(4,Ee,6,2,"span",46),g.BQk(),g.TgZ(5,"div",47),g.NdJ("click",function(){return g.CHM(dt),g.oxw(2).addingField=!0}),g._UZ(6,"img",48),g.TgZ(7,"span"),g._uU(8,"Ajouter un m\xe9tier"),g.qZA(),g.qZA(),g.BQk()}if(2&et){const dt=g.oxw(2);g.xp6(4),g.Q6J("ngForOf",dt.companyJobsControls)}}function lt(et,vt){if(1&et){const dt=g.EpF();g.TgZ(0,"label"),g._uU(1,"Ajoutez des m\xe9tiers"),g.qZA(),g._UZ(2,"options",54,55),g.TgZ(4,"div",56),g.TgZ(5,"button",57),g.NdJ("click",function(){g.CHM(dt);const Rt=g.MAs(3);return g.oxw(2).updateJobs(Rt.value)}),g._uU(6," Terminer "),g.qZA(),g.qZA()}if(2&et){const dt=g.oxw(2);g.xp6(2),g.Q6J("options",dt.allJobs)("value",dt.selectedJobs)}}function We(et,vt){if(1&et&&(g.TgZ(0,"section",8),g.TgZ(1,"form",18),g.TgZ(2,"h3",10),g._uU(3," Infos entreprise: "),g.qZA(),g.TgZ(4,"div",11),g.TgZ(5,"label"),g._uU(6,"Nom de l'entreprise"),g.qZA(),g._UZ(7,"input",19),g.qZA(),g.TgZ(8,"div",11),g.TgZ(9,"label"),g._uU(10,"N SIRET"),g.qZA(),g._UZ(11,"input",20),g.qZA(),g.TgZ(12,"div",21),g.YNc(13,Pe,9,1,"ng-container",22),g.YNc(14,lt,7,2,"ng-template",null,23,g.W1O),g.qZA(),g.TgZ(16,"div",11),g.TgZ(17,"label"),g._uU(18,"\xcates vous une entreprise TCE"),g.qZA(),g.TgZ(19,"div",24),g.TgZ(20,"div",25),g._UZ(21,"radiobox",26),g.TgZ(22,"span"),g._uU(23,"Non"),g.qZA(),g.qZA(),g.TgZ(24,"div",25),g._UZ(25,"radiobox",26),g.TgZ(26,"span"),g._uU(27,"Oui"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(28,"div",11),g.TgZ(29,"label"),g._uU(30,"\xcates-vous disponible pour des missions les samedis"),g.qZA(),g.TgZ(31,"div",24),g.TgZ(32,"div",25),g._UZ(33,"radiobox",27),g.TgZ(34,"span"),g._uU(35,"Non"),g.qZA(),g.qZA(),g.TgZ(36,"div",25),g._UZ(37,"radiobox",27),g.TgZ(38,"span"),g._uU(39,"Oui"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(40,"div",11),g.TgZ(41,"label"),g._uU(42,"Site internet"),g.qZA(),g._UZ(43,"input",28),g.qZA(),g.TgZ(44,"div",11),g.TgZ(45,"label"),g._uU(46,"Chiffres d'affaires"),g.qZA(),g._UZ(47,"input",29),g.qZA(),g.TgZ(48,"div",11),g.TgZ(49,"label"),g._uU(50,"Capital"),g.qZA(),g._UZ(51,"input",30),g.qZA(),g.TgZ(52,"div",11),g.TgZ(53,"label"),g._uU(54,"Taux horaire moyen"),g.qZA(),g._UZ(55,"input",31),g.qZA(),g.ynx(56,32),g.TgZ(57,"fileinput",33),g._UZ(58,"file-svg",34),g.qZA(),g.TgZ(59,"fileinput",35),g._UZ(60,"file-svg",36),g.qZA(),g.TgZ(61,"fileinput",37),g._UZ(62,"file-svg",38),g.qZA(),g.TgZ(63,"fileinput",39),g._UZ(64,"file-svg",40),g.qZA(),g.TgZ(65,"fileinput",41),g._UZ(66,"file-svg",42),g.qZA(),g.TgZ(67,"fileinput",43),g._UZ(68,"file-svg",44),g.qZA(),g.BQk(),g.qZA(),g.qZA()),2&et){const dt=g.MAs(15),Mt=g.oxw();g.xp6(1),g.Q6J("formGroup",Mt.form),g.xp6(12),g.Q6J("ngIf",!Mt.addingField)("ngIfElse",dt),g.xp6(8),g.Q6J("onselect",!1),g.xp6(4),g.Q6J("onselect",!0),g.xp6(8),g.Q6J("onselect",!1),g.xp6(4),g.Q6J("onselect",!0),g.xp6(20),g.Q6J("showtitle",!1),g.xp6(2),g.Q6J("showtitle",!1),g.xp6(2),g.Q6J("showtitle",!1),g.xp6(2),g.Q6J("showtitle",!1),g.xp6(2),g.Q6J("showtitle",!1),g.xp6(2),g.Q6J("showtitle",!1)}}function Ke(et,vt){if(1&et&&(g.TgZ(0,"span",62),g.ynx(1,50),g.TgZ(2,"fileinput",63),g._UZ(3,"file-svg",64),g.qZA(),g.BQk(),g.qZA()),2&et){const dt=vt.$implicit,Mt=vt.index;g.xp6(1),g.Q6J("formGroupName",Mt),g.xp6(1),g.Q6J("showtitle",!1)("filename",dt.get("label").value.name),g.xp6(1),g.Q6J("name",dt.get("label").value.name)}}function Xe(et,vt){if(1&et){const dt=g.EpF();g.TgZ(0,"section",8),g.TgZ(1,"form",18),g.TgZ(2,"h3",10),g._uU(3," Certifications & labels: "),g.qZA(),g.TgZ(4,"div",11),g.TgZ(5,"label"),g._uU(6,"Vos labels"),g.qZA(),g.TgZ(7,"options",58,59),g.NdJ("valueChange",function(Rt){return g.CHM(dt),g.oxw().updateLabels(Rt)}),g.qZA(),g.qZA(),g.ynx(9,60),g.YNc(10,Ke,4,4,"span",61),g.BQk(),g.qZA(),g.qZA()}if(2&et){const dt=g.oxw();g.xp6(1),g.Q6J("formGroup",dt.form),g.xp6(6),g.Q6J("options",dt.allLabels)("value",dt.selectedLabels),g.xp6(3),g.Q6J("ngForOf",dt.companyLabelControls)}}const Ye=function(et,vt,dt){return[et,vt,dt]};class tt{constructor(vt){this.store=vt,this.submit=new g.vpe,this.index=0,this.animate=!0,this.form=new r.cw({"UserProfile.lastName":new r.NI("",[]),"UserProfile.firstName":new r.NI("",[]),"UserProfile.userName":new r.NI("",[]),"UserProfile.cellPhone":new r.NI("",[(0,I.fS)("phone")]),"UserProfile.function":new r.NI("",[]),"UserProfile.Company.JobForCompany":new r.Oe([]),"UserProfile.Company.name":new r.NI("",[]),"UserProfile.Company.siret":new r.NI("",[(0,I.fS)("number",["un num\xe9ro de SIRET"])]),"UserProfile.Company.capital":new r.NI("",[(0,I.fS)("number")]),"UserProfile.Company.revenue":new r.NI("",[(0,I.fS)("number")]),"UserProfile.Company.amount":new r.NI("",[(0,I.fS)("number")]),"UserProfile.Company.allQualifications":new r.NI("",[]),"UserProfile.Company.saturdayDisponibility":new r.NI("",[]),"UserProfile.Company.webSite":new r.NI("",[(0,I.fS)("url")]),"UserProfile.Company.companyPhone":new r.NI("",[(0,I.fS)("phone")]),"UserProfile.Company.LabelForCompany":new r.Oe([]),"UserProfile.Company.admin":new r.cw({Kbis:new r.NI((0,C.O)("admin")),"Trav. Dis":new r.NI((0,C.O)("admin")),"RC + DC":new r.NI((0,C.O)("admin")),URSSAF:new r.NI((0,C.O)("admin")),Imp\u00f4ts:new r.NI((0,C.O)("admin")),"Cong\xe9s Pay\xe9s":new r.NI((0,C.O)("admin"))})}),this.addingField=!1}onSwipeLeft(){this.slider.left()}onSwipeRight(){this.slider.right()}onSubmit(){this.submit.emit(this.form)}get companyJobsControls(){return this.form.controls["UserProfile.Company.JobForCompany"].controls}get companyLabelControls(){return this.form.controls["UserProfile.Company.LabelForCompany"].controls}ngOnInit(){return(0,b.Z)(function*(){let vt=yield T.V1.checkPermissions();if("granted"!=vt.camera||"granted"!=vt.photos)try{yield T.V1.requestPermissions({permissions:["camera","photos"]})}catch(dt){}})()}ngOnChanges(vt){vt.profile&&this.reload()}space(vt,dt=2,Mt=1){return W.D.prototype.transform(vt,dt,Mt)}reload(){var vt,dt,Mt,Rt,tn,nn,ln,It,mn,Nn,yn,yt,Lt,Ve;const{user:Ge,company:wt}=this.profile;console.log("reload",wt.saturdayDisponibility),this.companyFiles=this.store.selectSnapshot(U.DW.getMany("File",this.profile.company.files)),this.companyLabels=this.store.selectSnapshot(U.DW.getMany("LabelForCompany",this.profile.company.labels)),this.companyJobs=this.store.selectSnapshot(U.DW.getMany("JobForCompany",this.profile.company.jobs));const zt=new Map,Cn=new Map;this.selectedJobs=[],this.allJobs.forEach(En=>{const Sn=this.companyJobs.find(pi=>pi.job==En.id);Sn&&(zt.set(Sn.id,En),this.selectedJobs.push(En))}),this.selectedLabels=[],this.allLabels.forEach(En=>{const Sn=this.companyLabels.find(pi=>pi.label==En.id);Sn&&(Cn.set(Sn.id,En),this.selectedLabels.push(En))}),console.log("> selected",this.selectedLabels);const Dn=this.form.controls["UserProfile.Company.admin"];this.companyFiles.forEach(({name:En})=>{var Sn;null===(Sn=Dn.get(En))||void 0===Sn||Sn.patchValue({name:En})}),null===(vt=this.form.controls["UserProfile.lastName"])||void 0===vt||vt.setValue(Ge.lastName),null===(dt=this.form.controls["UserProfile.firstName"])||void 0===dt||dt.setValue(Ge.firstName),null===(Mt=this.form.controls["UserProfile.userName"])||void 0===Mt||Mt.setValue(Ge.username),null===(Rt=this.form.controls["UserProfile.cellPhone"])||void 0===Rt||Rt.setValue(this.space(Ge.cellPhone)),null===(tn=this.form.controls["UserProfile.function"])||void 0===tn||tn.setValue(Ge.function),null===(nn=this.form.controls["UserProfile.Company.name"])||void 0===nn||nn.setValue(wt.name),null===(ln=this.form.controls["UserProfile.Company.siret"])||void 0===ln||ln.setValue(wt.siret),null===(It=this.form.controls["UserProfile.Company.revenue"])||void 0===It||It.setValue(wt.revenue),null===(mn=this.form.controls["UserProfile.Company.capital"])||void 0===mn||mn.setValue(wt.capital),null===(Nn=this.form.controls["UserProfile.Company.amount"])||void 0===Nn||Nn.setValue(wt.amount),null===(yn=this.form.controls["UserProfile.Company.allQualifications"])||void 0===yn||yn.setValue(wt.allQualifications),null===(yt=this.form.controls["UserProfile.Company.saturdayDisponibility"])||void 0===yt||yt.setValue(wt.saturdayDisponibility),null===(Lt=this.form.controls["UserProfile.Company.webSite"])||void 0===Lt||Lt.setValue(wt.webSite),null===(Ve=this.form.controls["UserProfile.Company.companyPhone"])||void 0===Ve||Ve.setValue(this.space(wt.companyPhone));const bi=this.form.controls["UserProfile.Company.JobForCompany"];bi.clear();for(let En of this.companyJobs){const Sn=zt.get(En.id);bi.push(new r.cw({job:new r.NI(Sn),number:new r.NI(En.number)}))}const Ht=this.form.controls["UserProfile.Company.LabelForCompany"];Ht.clear();for(let En of this.companyLabels){const Sn=Cn.get(En.id);Ht.push(new r.cw({label:new r.NI(Sn),fileData:new r.NI((0,C.O)(Sn.name,En.date,`Fichier "${Sn.name}" pris en compte`))}))}}updateJobs(vt){this.addingField=!1;const Mt=vt,Rt=new Set(this.selectedJobs.map(({id:It})=>It)),tn=Mt.filter(It=>Rt.has(It.id)),nn=Mt.filter(It=>!Rt.has(It.id));let ln=this.form.controls["UserProfile.Company.JobForCompany"];ln.clear();for(const It of nn)ln.push(new r.cw({job:new r.NI(It),number:new r.NI(1)}));for(const It of tn){const mn=this.companyJobs.find(Nn=>Nn.job==It.id);ln.push(new r.cw({job:new r.NI(It),number:new r.NI(mn.number)}))}this.selectedJobs=vt,ln.markAsDirty()}updateLabels(vt){this.addingField=!1;const dt=vt;let Mt=this.form.controls["UserProfile.Company.LabelForCompany"];Mt.clear();for(const Rt of dt){const tn=this.companyLabels.find(nn=>nn.label==Rt.id);Mt.push(new r.cw({label:new r.NI(Rt),fileData:new r.NI((0,C.O)(Rt.name,(null==tn?void 0:tn.date)||"","Veillez t\xe9l\xe9charger un document."))}))}this.selectedLabels=vt,Mt.markAsDirty()}}tt.\u0275fac=function(vt){return new(vt||tt)(g.Y36(oe.yh))},tt.\u0275cmp=g.Xpm({type:tt,selectors:[["modify-profile-form"]],viewQuery:function(vt,dt){if(1&vt&&g.Gf(k.J,5),2&vt){let Mt;g.iGM(Mt=g.CRH())&&(dt.slider=Mt.first)}},hostBindings:function(vt,dt){1&vt&&g.NdJ("swipeleft",function(){return dt.onSwipeLeft()})("swiperight",function(){return dt.onSwipeRight()})},inputs:{index:"index",animate:"animate",profile:"profile",user:"user"},outputs:{submit:"submit"},features:[g.TTD],decls:14,vars:14,consts:[["type","template",3,"slides","index","animate","indexChange"],["modifyPage1",""],["modifyPage2",""],["modifyPage3",""],[1,"mid-sticky-footer"],[1,"form-step"],[3,"click"],[1,"button","gradient","full-width",3,"disabled","click"],[1,"full-width","section"],[1,"form-control",3,"formGroup"],[1,"form-title","font-Roboto"],[1,"form-input"],["type","text","formControlName","UserProfile.lastName",1,"form-element"],["type","text","formControlName","UserProfile.firstName",1,"form-element"],["type","email","formControlName","UserProfile.userName",1,"form-element"],["type","tel","formControlName","UserProfile.Company.companyPhone",1,"form-element"],["type","tel","formControlName","UserProfile.cellPhone",1,"form-element"],["type","text","formControlName","UserProfile.function",1,"form-element"],[1,"full-width","form-control",3,"formGroup"],["type","text","formControlName","UserProfile.Company.name",1,"form-element"],["type","text","formControlName","UserProfile.Company.siret",1,"form-element"],[1,"form-input","metiers"],[4,"ngIf","ngIfElse"],["addfield_tpl",""],[1,"flex","row","radio-container"],[1,"radio-item"],["formControlName","UserProfile.Company.allQualifications",1,"grow",3,"onselect"],["formControlName","UserProfile.Company.saturdayDisponibility",1,"grow",3,"onselect"],["type","text","formControlName","UserProfile.Company.webSite",1,"form-element"],["type","text","formControlName","UserProfile.Company.capital",1,"form-element"],["type","text","formControlName","UserProfile.Company.revenue",1,"form-element"],["type","text","formControlName","UserProfile.Company.amount",1,"form-element"],["formGroupName","UserProfile.Company.admin"],["filename","Kbis","formControlName","Kbis",3,"showtitle"],["name","Kbis","color","#156C9D","image",""],["filename","Attestation travail dissimul\xe9","formControlName","Trav. Dis",3,"showtitle"],["name","Trav. Dis","color","#054162","image",""],["filename","Attestation RC + DC","formControlName","RC + DC",3,"showtitle"],["name","RC + DC","color","#999999","image",""],["filename","URSSAF","formControlName","URSSAF",3,"showtitle"],["name","URSSAF","color","#F9C067","image",""],["filename","Imp\xf4ts","formControlName","Imp\xf4ts",3,"showtitle"],["name","Imp\xf4ts","color","#52D1BD","image",""],["filename","Cong\xe9s pay\xe9s","formControlName","Cong\xe9s Pay\xe9s",3,"showtitle"],["name","Cong\xe9s Pay\xe9s","color","#32A290","image",""],["formArrayName","UserProfile.Company.JobForCompany"],["class","position-relative number form-element",4,"ngFor","ngForOf"],[1,"center-text","add-field",3,"click"],["src","assets/icons/add.svg"],[1,"position-relative","number","form-element"],[3,"formGroupName"],[1,"number-name"],[1,"position-absolute","number-container"],["formControlName","number"],[3,"options","value"],["jobOptions",""],[1,"form-input","center-text"],[1,"button","gradient",2,"display","inline","width","80%","padding","5px",3,"click"],[3,"options","value","valueChange"],["labelOptions",""],["formArrayName","UserProfile.Company.LabelForCompany"],["class","position-relative",4,"ngFor","ngForOf"],[1,"position-relative"],["formControlName","fileData",3,"showtitle","filename"],["image","",3,"name"]],template:function(vt,dt){if(1&vt&&(g.ynx(0,0),g.NdJ("indexChange",function(Rt){return dt.index=Rt}),g.BQk(),g.YNc(1,Je,28,1,"ng-template",null,1,g.W1O),g.YNc(3,We,69,13,"ng-template",null,2,g.W1O),g.YNc(5,Xe,11,4,"ng-template",null,3,g.W1O),g.TgZ(7,"div",4),g.TgZ(8,"div",5),g.TgZ(9,"div",6),g.NdJ("click",function(){return dt.slider.index=0}),g.qZA(),g.TgZ(10,"div",6),g.NdJ("click",function(){return dt.slider.index=1}),g.qZA(),g.TgZ(11,"div",6),g.NdJ("click",function(){return dt.slider.index=2}),g.qZA(),g.qZA(),g.TgZ(12,"button",7),g.NdJ("click",function(){return dt.onSubmit()}),g._uU(13," Enregistrer "),g.qZA(),g.qZA()),2&vt){const Mt=g.MAs(2),Rt=g.MAs(4),tn=g.MAs(6);g.Q6J("slides",g.kEZ(10,Ye,Mt,Rt,tn))("index",dt.index)("animate",dt.animate),g.xp6(9),g.ekj("active",!dt.slider||0==dt.slider.index),g.xp6(1),g.ekj("active",dt.slider&&1==dt.slider.index),g.xp6(1),g.ekj("active",dt.slider&&2==dt.slider.index),g.xp6(1),g.Q6J("disabled",dt.form.invalid||null)}},directives:[k.J,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,be.kH,G.O5,he.v,he.t,r.x0,C.u,ge.a,r.CE,G.sg,$e,j.Y],styles:["[_ngcontent-%COMP%]:root{--notification-size: $notification-size}.section[_ngcontent-%COMP%], .page-content-with-tabs[_ngcontent-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden;touch-action:pan-y!important}.mid-sticky-footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;padding:10px 30px;width:100vw;height:calc(70px + env(safe-area-inset-bottom));padding-bottom:calc(constant(safe-area-inset-bottom) + 10px);padding-bottom:calc(env(safe-area-inset-bottom) + 10px)}.page-content-with-tabs[_ngcontent-%COMP%]{margin-top:150px;margin-top:calc(constant(safe-area-inset-top) + 150px);margin-top:calc(env(safe-area-inset-top) + 150px);margin-bottom:0;margin-bottom:calc(constant(safe-area-inset-bottom) + 0);margin-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(100vh - 220px - env(safe-area-inset-bottom))}.invert[_ngcontent-%COMP%]{filter:invert(1)}[_nghost-%COMP%]{position:relative;width:100%;display:flex;flex-flow:column nowrap;flex-shrink:0}.form-title[_ngcontent-%COMP%], .form-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em}.metiers[_ngcontent-%COMP%]   options[_ngcontent-%COMP%]{margin-bottom:20px}.number-name[_ngcontent-%COMP%]{display:block;white-space:pre;text-overflow:ellipsis;overflow:hidden;width:calc(100% - 90px)}.form-input[_ngcontent-%COMP%]   .number-container[_ngcontent-%COMP%]{position:absolute;right:0;top:0}.section[_ngcontent-%COMP%]{flex:1;background-color:#fff}@media (min-width: 769px){.section[_ngcontent-%COMP%]{background:transparent}}.mid-sticky-footer[_ngcontent-%COMP%]{box-shadow:0 -3px 3px #ddd;background-color:#fff;height:calc(100px + env(safe-area-inset-bottom));padding:10px 30px;padding-bottom:calc(constant(safe-area-inset-bottom) + 10px);padding-bottom:calc(env(safe-area-inset-bottom) + 10px)}.metiers[_ngcontent-%COMP%] > .form-element[_ngcontent-%COMP%]{border-bottom:2px solid #cdcfd0!important}.metiers[_ngcontent-%COMP%]   .form-element[_ngcontent-%COMP%]:focus-within{border-bottom-color:#2980b9!important}"],changeDetection:0}),(0,u.gn)([(0,U.Ou)("Label")],tt.prototype,"allLabels",void 0),(0,u.gn)([(0,U.Ou)("Job")],tt.prototype,"allJobs",void 0)},8990:(ke,_e,D)=>{"use strict";D.d(_e,{Q:()=>k});var b=D(3018),u=D(3679),g=D(6048),r=D(943),T=D(6755);let k=(()=>{class C{constructor(){this.target="r\xe9ponses"}}return C.\u0275fac=function(U){return new(U||C)},C.\u0275cmp=b.Xpm({type:C,selectors:[["online-filter-form"]],inputs:{target:"target"},decls:33,vars:1,consts:[[1,"form-control","full-width"],[1,"form-input"],["type","date",1,"form-element"],["src","assets/calendar.png"],[1,"flex","row","radio-container"],[1,"radio-item"],["name","job-type",1,"grow"],[1,"form-input","space-children-margin"],[1,"switch-container","flex","center-cross"],[1,"criteria"],[1,"default"]],template:function(U,W){1&U&&(b.TgZ(0,"form",0),b.TgZ(1,"div",1),b.TgZ(2,"label"),b._uU(3,"Date de mission"),b.qZA(),b._UZ(4,"input",2),b._UZ(5,"img",3),b.qZA(),b.TgZ(6,"div",1),b.TgZ(7,"label"),b._uU(8,"Adresse de chantier"),b.qZA(),b._UZ(9,"input",2),b.qZA(),b.TgZ(10,"div",1),b.TgZ(11,"label"),b._uU(12,"M\xe9tier"),b.qZA(),b._UZ(13,"options"),b.qZA(),b.TgZ(14,"div",1),b.TgZ(15,"label"),b._uU(16,"Type"),b.qZA(),b.TgZ(17,"div",4),b.TgZ(18,"div",5),b._UZ(19,"radiobox",6),b.TgZ(20,"span"),b._uU(21,"Main d'oeuvre"),b.qZA(),b.qZA(),b.TgZ(22,"div",5),b._UZ(23,"radiobox",6),b.TgZ(24,"span"),b._uU(25,"Fourniture et pose"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(26,"div",7),b.TgZ(27,"label"),b._uU(28,"R\xe9organiser la liste selon"),b.qZA(),b.TgZ(29,"div",8),b.TgZ(30,"span",9),b._uU(31),b.qZA(),b._UZ(32,"switch",10),b.qZA(),b.qZA(),b.qZA()),2&U&&(b.xp6(31),b.hij("Annonces contentant des ",W.target," en premier"))},directives:[u._Y,u.JL,g.Y,r.v,T.i],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}switch[_ngcontent-%COMP%]  .slider{background:#ccc}"],changeDetection:0}),C})()},5827:(ke,_e,D)=>{"use strict";D.d(_e,{_:()=>W});var b=D(3018),u=D(8583),g=D(3679),r=D(6048),T=D(943),k=D(6755),C=D(8990);function I(oe,be){1&oe&&(b.TgZ(0,"form",3),b.TgZ(1,"div",4),b.TgZ(2,"label",5),b._uU(3,"Date de mission"),b.qZA(),b._UZ(4,"input",6),b._UZ(5,"img",7),b.qZA(),b.TgZ(6,"div",4),b.TgZ(7,"label"),b._uU(8,"Adresse de chantier"),b.qZA(),b._UZ(9,"input",8),b.qZA(),b.TgZ(10,"div",9),b.TgZ(11,"label"),b._uU(12,"M\xe9tier"),b.qZA(),b._UZ(13,"options"),b.qZA(),b.TgZ(14,"div",9),b.TgZ(15,"label",5),b._uU(16,"Type"),b.qZA(),b.TgZ(17,"div",10),b.TgZ(18,"div",11),b._UZ(19,"radiobox",12),b.TgZ(20,"span"),b._uU(21,"Main d'oeuvre"),b.qZA(),b.qZA(),b.TgZ(22,"div",11),b._UZ(23,"radiobox",12),b.TgZ(24,"span"),b._uU(25,"Fourniture et pose"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(26,"div",13),b.TgZ(27,"label",14),b._uU(28,"R\xe9organiser la liste selon"),b.qZA(),b.TgZ(29,"div",15),b.TgZ(30,"span",16),b._uU(31,"Les brouillons les plus anciens"),b.qZA(),b._UZ(32,"switch",17),b.qZA(),b.TgZ(33,"div",15),b.TgZ(34,"span",16),b._uU(35,"Les brouillons les plus complets"),b.qZA(),b._UZ(36,"switch",17),b.qZA(),b.qZA(),b.qZA())}function U(oe,be){if(1&oe&&b._UZ(0,"online-filter-form",18),2&oe){const G=b.oxw();b.Q6J("target",1==G.activeView?"r\xe9ponses":"notifications")}}let W=(()=>{class oe{constructor(){this.activeView=0}}return oe.\u0275fac=function(G){return new(G||oe)},oe.\u0275cmp=b.Xpm({type:oe,selectors:[["pme-filter-form"]],inputs:{activeView:"activeView"},decls:3,vars:2,consts:[[3,"ngSwitch"],["class","form-control full-width",4,"ngSwitchCase"],[3,"target",4,"ngSwitchDefault"],[1,"form-control","full-width"],[1,"form-input"],[2,"margin-bottom","1rem"],["type","date",1,"form-element"],["src","assets/calendar.png"],["type","text",1,"form-element"],[1,"form-input",2,"margin-bottom","3rem"],[1,"flex","row","radio-container"],[1,"radio-item"],["name","job-type",1,"grow"],[1,"form-input","space-children-margin"],[2,"margin-bottom","2rem"],[1,"switch-container","flex","center-cross"],[1,"criteria"],[1,"default"],[3,"target"]],template:function(G,he){1&G&&(b.ynx(0,0),b.YNc(1,I,37,0,"form",1),b.YNc(2,U,1,1,"online-filter-form",2),b.BQk()),2&G&&(b.Q6J("ngSwitch",he.activeView),b.xp6(1),b.Q6J("ngSwitchCase",0))},directives:[u.RF,u.n9,u.ED,g._Y,g.JL,r.Y,T.v,k.i,C.Q],styles:["[_nghost-%COMP%]{display:block;width:100%}switch[_ngcontent-%COMP%]  .slider{background:#ccc}"],changeDetection:0}),oe})()},3172:(ke,_e,D)=>{"use strict";D.d(_e,{A:()=>I});var b=D(3526),u=D(3018),g=D(3679),r=D(6048),T=D(2554),k=D(943),C=D(6755);let I=(()=>{class U{constructor(){this.imports={DistanceSliderConfig:b.J,SalarySliderConfig:b.Q}}}return U.\u0275fac=function(oe){return new(oe||U)},U.\u0275cmp=u.Xpm({type:U,selectors:[["sos-filter-form"]],decls:44,vars:4,consts:[[1,"form-control","full-width"],[1,"form-input"],["type","text"],[3,"options"],[1,"flex","row","radio-container"],[1,"radio-item"],["name","job-type",1,"grow"],[3,"options","value","highValue"],[1,"form-input","space-children-margin"],[1,"switch-container","flex","center-cross"],[1,"criteria"],[1,"default"]],template:function(oe,be){1&oe&&(u.TgZ(0,"form",0),u.TgZ(1,"div",1),u.TgZ(2,"label"),u._uU(3,"M\xe9tier"),u.qZA(),u._UZ(4,"options"),u.qZA(),u.TgZ(5,"div",1),u.TgZ(6,"label"),u._uU(7,"Adresse de chantier"),u.qZA(),u._UZ(8,"input",2),u.qZA(),u.TgZ(9,"div",1),u.TgZ(10,"label"),u._uU(11,"Dans un rayon autour de:"),u.qZA(),u._UZ(12,"ngx-slider",3),u.qZA(),u.TgZ(13,"div",1),u.TgZ(14,"label"),u._uU(15,"Type"),u.qZA(),u.TgZ(16,"div",4),u.TgZ(17,"div",5),u._UZ(18,"radiobox",6),u.TgZ(19,"span"),u._uU(20,"Main d'oeuvre"),u.qZA(),u.qZA(),u.TgZ(21,"div",5),u._UZ(22,"radiobox",6),u.TgZ(23,"span"),u._uU(24,"Fourniture et pose"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(25,"div",1),u.TgZ(26,"label"),u._uU(27,"Estimation de salaire:"),u.qZA(),u._UZ(28,"ngx-slider",7),u.qZA(),u.TgZ(29,"div",8),u.TgZ(30,"label"),u._uU(31,"R\xe9organiser la liste selon"),u.qZA(),u.TgZ(32,"div",9),u.TgZ(33,"span",10),u._uU(34,"La meilleur note \xe0 la moins bonne"),u.qZA(),u._UZ(35,"switch",11),u.qZA(),u.TgZ(36,"div",9),u.TgZ(37,"span",10),u._uU(38,"Les profils les plus complets"),u.qZA(),u._UZ(39,"switch",11),u.qZA(),u.TgZ(40,"div",9),u.TgZ(41,"span",10),u._uU(42,"Les profils affich\xe9s comme disponibles"),u.qZA(),u._UZ(43,"switch",11),u.qZA(),u.qZA(),u.qZA()),2&oe&&(u.xp6(12),u.Q6J("options",be.imports.DistanceSliderConfig),u.xp6(16),u.Q6J("options",be.imports.SalarySliderConfig)("value",0)("highValue",1e4))},directives:[g._Y,g.JL,r.Y,T.w5,k.v,C.i],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}switch[_ngcontent-%COMP%]  .slider{background:#ccc}"],changeDetection:0}),U})()},2094:(ke,_e,D)=>{"use strict";D.d(_e,{Q:()=>$e});var b=D(8239),u=D(3679),g=D(5257),r=D(53),T=D(1170),k=D(7530),C=D(3018),I=D(1052),U=D(9358),W=D(7414),oe=D(8583);function be(j,Je){1&j&&(C.TgZ(0,"div",11),C._uU(1,"Format invalide."),C.qZA())}function G(j,Je){if(1&j&&(C.TgZ(0,"div",12),C._uU(1),C.qZA()),2&j){const Ee=C.oxw();C.xp6(1),C.hij(" ",null==Ee.loginForm.get("email").errors?null:Ee.loginForm.get("email").errors.server," ")}}function he(j,Je){if(1&j&&(C.TgZ(0,"div",12),C._uU(1),C.qZA()),2&j){const Ee=C.oxw();C.xp6(1),C.hij(" ",null==Ee.loginForm.errors?null:Ee.loginForm.errors.server," ")}}const ge=function(){return["","mail"]},Ie=function(){return["","register"]};let $e=(()=>{class j extends r.gC{constructor(Ee,Pe,lt){super(),this.router=Ee,this.store=Pe,this.cd=lt,this.loginForm=new u.cw({email:new u.NI("",[u.kI.required]),password:new u.NI("",[u.kI.required])},{}),this._errors=[]}get errors(){return this._errors}onSubmit(Ee){var Pe=this;return(0,b.Z)(function*(){let{email:lt,password:We}=Pe.loginForm.value;Pe.store.dispatch(new T.m3(lt,We)).pipe((0,g.q)(1)).subscribe(function(){var Ke=(0,b.Z)(function*(Xe){(yield Pe.router.navigate(["","home"]))||((0,k.B$)(Pe.loginForm,{all:"Erreur inattendue. (500 ?)"}),Pe.cd.markForCheck())});return function(Xe){return Ke.apply(this,arguments)}}(),Ke=>{(0,k.B$)(Pe.loginForm,Ke),Pe.cd.markForCheck()})})()}}return j.\u0275fac=function(Ee){return new(Ee||j)(C.Y36(I.F0),C.Y36(U.yh),C.Y36(C.sBO))},j.\u0275cmp=C.Xpm({type:j,selectors:[["connexion-form"]],features:[C.qOj],decls:21,vars:9,consts:[[1,"full-height","form-control","curved-border",3,"formGroup","ngSubmit"],[1,"form-title"],[1,"form-input"],["type","email","formControlName","email",1,"form-element"],["class","error",4,"ngIf"],["class","server-error",4,"ngIf"],["type","password","formControlName","password",1,"form-element"],[1,"external-links","form-links","block","text-right",3,"routerLink"],[1,"form-action",2,"margin-top","auto"],[1,"button","discover","gradient",2,"width","250px",3,"disabled"],[1,"external-links","form-links","block","center-text",3,"routerLink"],[1,"error"],[1,"server-error"]],template:function(Ee,Pe){1&Ee&&(C.TgZ(0,"form",0),C.NdJ("ngSubmit",function(We){return Pe.onSubmit(We)}),C.TgZ(1,"h3",1),C._uU(2,"Je me connecte"),C.qZA(),C.TgZ(3,"div",2),C.TgZ(4,"label"),C._uU(5,"Adresse e-mail contact"),C.qZA(),C._UZ(6,"input",3),C.YNc(7,be,2,0,"div",4),C.YNc(8,G,2,1,"div",5),C.qZA(),C.TgZ(9,"div",2),C.TgZ(10,"label"),C._uU(11,"Mot de passe"),C.qZA(),C._UZ(12,"input",6),C.qZA(),C.TgZ(13,"a",7),C._uU(14," Mot de passe oubli\xe9 ! "),C.qZA(),C.TgZ(15,"div",8),C.YNc(16,he,2,1,"div",5),C.TgZ(17,"button",9),C._uU(18,"Se connecter"),C.qZA(),C.qZA(),C.TgZ(19,"a",10),C._uU(20," Je cr\xe9e un compte ! "),C.qZA(),C.qZA()),2&Ee&&(C.Q6J("formGroup",Pe.loginForm),C.xp6(7),C.Q6J("ngIf",null==Pe.loginForm.get("email").errors?null:Pe.loginForm.get("email").errors.email),C.xp6(1),C.Q6J("ngIf",null==Pe.loginForm.get("email").errors?null:Pe.loginForm.get("email").errors.server),C.xp6(5),C.Q6J("routerLink",C.DdM(7,ge)),C.xp6(3),C.Q6J("ngIf",null==Pe.loginForm.errors?null:Pe.loginForm.errors.server),C.xp6(1),C.Q6J("disabled",!Pe.loginForm.touched||"INVALID"===Pe.loginForm.status),C.xp6(2),C.Q6J("routerLink",C.DdM(8,Ie)))},directives:[u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u,W.kH,oe.O5,I.yS],styles:[""],changeDetection:0}),j})()},5968:(ke,_e,D)=>{"use strict";D.d(_e,{L:()=>$e});var b=D(8239),u=D(3679),g=D(1170),r=D(5257),T=D(7530),k=D(3018),C=D(1052),I=D(9358),U=D(7414),W=D(8583);function oe(j,Je){1&j&&(k.TgZ(0,"div",8),k._uU(1,"Doit contenir au moins 8 caract\xe8res"),k.qZA())}function be(j,Je){1&j&&(k.TgZ(0,"div",8),k._uU(1,"Doit contenir au moins une lettre en majuscule"),k.qZA())}function G(j,Je){1&j&&(k.TgZ(0,"div",8),k._uU(1,"Doit contenir au moins une lettre en miniscule"),k.qZA())}function he(j,Je){1&j&&(k.TgZ(0,"div",8),k._uU(1,"Doit contenir au moins 8 caract\xe8res"),k.qZA())}function ge(j,Je){1&j&&(k.TgZ(0,"div",8),k._uU(1,"Doit contenir au moins une lettre en majuscule"),k.qZA())}function Ie(j,Je){1&j&&(k.TgZ(0,"div",8),k._uU(1,"Doit contenir au moins une lettre en miniscule"),k.qZA())}let $e=(()=>{class j{constructor(Ee,Pe,lt,We){this.route=Ee,this.router=Pe,this.cd=lt,this.store=We,this.forgotPassword=new u.cw({password:new u.NI("",[(0,T.kc)()]),confirmedPassword:new u.NI("",[(0,T.UQ)("password","Le mot de passe")])})}ngOnInit(){this.token=this.route.snapshot.params.token}onSubmit(Ee){var Pe=this;return(0,b.Z)(function*(){let{password:lt}=Pe.forgotPassword.value;Pe.store.dispatch(new g.oP(Pe.token,lt)).pipe((0,r.q)(1)).subscribe(function(){var We=(0,b.Z)(function*(Ke){(yield Pe.router.navigate(["","connexion"]))||((0,T.B$)(Pe.forgotPassword,{all:"Erreur inattendue. (500 ?)"}),Pe.cd.markForCheck())});return function(Ke){return We.apply(this,arguments)}}(),We=>{(0,T.B$)(Pe.forgotPassword,We),Pe.cd.markForCheck()})})()}}return j.\u0275fac=function(Ee){return new(Ee||j)(k.Y36(C.gz),k.Y36(C.F0),k.Y36(k.sBO),k.Y36(I.yh))},j.\u0275cmp=k.Xpm({type:j,selectors:[["forgot-password-form"]],decls:20,vars:8,consts:[[1,"full-height","form-control","curved-border",3,"formGroup","ngSubmit"],[1,"form-title"],[1,"form-input"],["type","password","formControlName","password",1,"form-element"],["class","error",4,"ngIf"],["type","password","formControlName","confirmedPassword",1,"form-element"],[1,"form-action"],[1,"button","discover","gradient",2,"width","250px",3,"disabled"],[1,"error"]],template:function(Ee,Pe){1&Ee&&(k.TgZ(0,"form",0),k.NdJ("ngSubmit",function(We){return Pe.onSubmit(We)}),k.TgZ(1,"h3",1),k._uU(2,"Modifier le mot de passe"),k.qZA(),k.TgZ(3,"div",2),k.TgZ(4,"label"),k._uU(5,"Nouveau mot de passe"),k.qZA(),k._UZ(6,"input",3),k.YNc(7,oe,2,0,"div",4),k.YNc(8,be,2,0,"div",4),k.YNc(9,G,2,0,"div",4),k.qZA(),k.TgZ(10,"div",2),k.TgZ(11,"label"),k._uU(12,"Confirmation de mot de passe"),k.qZA(),k._UZ(13,"input",5),k.YNc(14,he,2,0,"div",4),k.YNc(15,ge,2,0,"div",4),k.YNc(16,Ie,2,0,"div",4),k.qZA(),k.TgZ(17,"div",6),k.TgZ(18,"button",7),k._uU(19,"Valider"),k.qZA(),k.qZA(),k.qZA()),2&Ee&&(k.Q6J("formGroup",Pe.forgotPassword),k.xp6(7),k.Q6J("ngIf",Pe.forgotPassword.get("password").touched&&(null==Pe.forgotPassword.get("password").errors?null:Pe.forgotPassword.get("password").errors.minlength)),k.xp6(1),k.Q6J("ngIf",Pe.forgotPassword.get("password").touched&&(null==Pe.forgotPassword.get("password").errors?null:Pe.forgotPassword.get("password").errors.uppercase)),k.xp6(1),k.Q6J("ngIf",Pe.forgotPassword.get("password").touched&&(null==Pe.forgotPassword.get("password").errors?null:Pe.forgotPassword.get("password").errors.lowercase)),k.xp6(5),k.Q6J("ngIf",Pe.forgotPassword.get("confirmedPassword").touched&&(null==Pe.forgotPassword.get("confirmedPassword").errors?null:Pe.forgotPassword.get("confirmedPassword").errors.minlength)),k.xp6(1),k.Q6J("ngIf",Pe.forgotPassword.get("confirmedPassword").touched&&(null==Pe.forgotPassword.get("confirmedPassword").errors?null:Pe.forgotPassword.get("confirmedPassword").errors.uppercase)),k.xp6(1),k.Q6J("ngIf",Pe.forgotPassword.get("confirmedPassword").touched&&(null==Pe.forgotPassword.get("confirmedPassword").errors?null:Pe.forgotPassword.get("confirmedPassword").errors.lowercase)),k.xp6(2),k.Q6J("disabled",!Pe.forgotPassword.touched||"INVALID"===Pe.forgotPassword.status))},directives:[u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u,U.kH,W.O5],styles:["[_ngcontent-%COMP%]:root{--notification-size: $notification-size}.page-content-with-tabs[_ngcontent-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden;touch-action:pan-y!important}.page-content-with-tabs[_ngcontent-%COMP%]{margin-top:150px;margin-top:calc(constant(safe-area-inset-top) + 150px);margin-top:calc(env(safe-area-inset-top) + 150px);margin-bottom:0;margin-bottom:calc(constant(safe-area-inset-bottom) + 0);margin-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(100vh - 220px - env(safe-area-inset-bottom))}.invert[_ngcontent-%COMP%]{filter:invert(1)}"],changeDetection:0}),j})()},7957:(ke,_e,D)=>{"use strict";D.d(_e,{F:()=>U});var b=D(3679),u=D(5257),g=D(7530),r=D(2028),T=D(3018),k=D(6858),C=D(4789),I=D(7414);let U=(()=>{class W{constructor(be,G,he){this.http=be,this.info=G,this.cd=he,this.mailsent=!1,this.mailSender=new b.cw({email:new b.NI("",[b.kI.required,(0,r.G)()])})}onSubmit(be){this.info.show("info","Envoi du mail....",2e3,"paging"),this.http.get("initialize",{email:this.mailSender.value.email,action:"forgetPassword"}).pipe((0,u.q)(1)).subscribe(he=>{"work in progress"==(null==he?void 0:he.messages)?this.info.show("success","V\xe9rifier votre mail",3e3,"paging"):((0,g.B$)(this.mailSender,{email:"L'adresse n'est pas reconnue"}),this.cd.markForCheck())},he=>{console.log(he),(0,g.B$)(this.mailSender,he),this.cd.markForCheck()})}}return W.\u0275fac=function(be){return new(be||W)(T.Y36(k.O),T.Y36(C.C),T.Y36(T.sBO))},W.\u0275cmp=T.Xpm({type:W,selectors:[["mail-form"]],decls:10,vars:2,consts:[[1,"full-height","form-control","curved-border",3,"formGroup","ngSubmit"],[1,"form-title"],[1,"form-input"],["type","mail","formControlName","email","placeholder","email@email.com",1,"form-element"],[1,"form-action"],[1,"button","discover","gradient",2,"width","250px",3,"disabled"]],template:function(be,G){1&be&&(T.TgZ(0,"form",0),T.NdJ("ngSubmit",function(ge){return G.onSubmit(ge)}),T.TgZ(1,"h3",1),T._uU(2,"R\xe9cup\xe9rer votre mot de passe"),T.qZA(),T.TgZ(3,"div",2),T.TgZ(4,"label"),T._uU(5,"Votre adresse mail "),T.qZA(),T._UZ(6,"input",3),T.qZA(),T.TgZ(7,"div",4),T.TgZ(8,"button",5),T._uU(9,"Valider"),T.qZA(),T.qZA(),T.qZA()),2&be&&(T.Q6J("formGroup",G.mailSender),T.xp6(8),T.Q6J("disabled",!G.mailSender.valid))},directives:[b._Y,b.JL,b.sg,b.Fj,b.JJ,b.u,I.kH],styles:["[_ngcontent-%COMP%]:root{--notification-size: $notification-size}.page-content-with-tabs[_ngcontent-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden;touch-action:pan-y!important}.page-content-with-tabs[_ngcontent-%COMP%]{margin-top:150px;margin-top:calc(constant(safe-area-inset-top) + 150px);margin-top:calc(env(safe-area-inset-top) + 150px);margin-bottom:0;margin-bottom:calc(constant(safe-area-inset-bottom) + 0);margin-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(100vh - 220px - env(safe-area-inset-bottom))}.invert[_ngcontent-%COMP%]{filter:invert(1)}"],changeDetection:0}),W})()},1118:(ke,_e,D)=>{"use strict";D.d(_e,{B:()=>yt});var b=D(4762),u=D(3679),g=D(7393);class T{constructor(Ve,Ge){this.bufferSize=Ve,this.startBufferEvery=Ge,this.subscriberClass=Ge&&Ve!==Ge?C:k}call(Ve,Ge){return Ge.subscribe(new this.subscriberClass(Ve,this.bufferSize,this.startBufferEvery))}}class k extends g.L{constructor(Ve,Ge){super(Ve),this.bufferSize=Ge,this.buffer=[]}_next(Ve){const Ge=this.buffer;Ge.push(Ve),Ge.length==this.bufferSize&&(this.destination.next(Ge),this.buffer=[])}_complete(){const Ve=this.buffer;Ve.length>0&&this.destination.next(Ve),super._complete()}}class C extends g.L{constructor(Ve,Ge,wt){super(Ve),this.bufferSize=Ge,this.startBufferEvery=wt,this.buffers=[],this.count=0}_next(Ve){const{bufferSize:Ge,startBufferEvery:wt,buffers:zt,count:Cn}=this;this.count++,Cn%wt==0&&zt.push([]);for(let Dn=zt.length;Dn--;){const bi=zt[Dn];bi.push(Ve),bi.length===Ge&&(zt.splice(Dn,1),this.destination.next(bi))}}_complete(){const{buffers:Ve,destination:Ge}=this;for(;Ve.length>0;){let wt=Ve.shift();wt.length>0&&Ge.next(wt)}super._complete()}}var I=D(5257),U=D(6782),W=D(8002),oe=D(4395),be=D(1170),G=D(7530),he=D(5757),ge=D(2028),Ie=D(9765),$e=D(6682),j=D(3018),Je=D(6638),Ee=D(9358),Pe=D(8583);function lt(Lt,Ve){if(1&Lt){const Ge=j.EpF();j.TgZ(0,"li",2),j.NdJ("click",function(){const Cn=j.CHM(Ge).$implicit;return j.oxw(3).choose(Cn)}),j.TgZ(1,"b"),j._uU(2),j.qZA(),j._uU(3,", "),j.TgZ(4,"em"),j._uU(5),j.qZA(),j.qZA()}if(2&Lt){const Ge=Ve.$implicit;j.xp6(2),j.Oqu(Ge.name),j.xp6(3),j.Oqu(Ge.address)}}function We(Lt,Ve){if(1&Lt&&(j.TgZ(0,"ul"),j.YNc(1,lt,6,2,"li",1),j.qZA()),2&Lt){const Ge=j.oxw().ngIf;j.xp6(1),j.Q6J("ngForOf",Ge)}}function Ke(Lt,Ve){if(1&Lt&&(j.ynx(0),j.YNc(1,We,2,1,"ul",0),j.BQk()),2&Lt){const Ge=Ve.ngIf,wt=j.oxw();j.xp6(1),j.Q6J("ngIf",wt.showSuggestions&&Ge.length)}}class Xe{constructor(Ve,Ge){this.store=Ve,this.cd=Ge,this.query="",this.showSuggestions=!1,this.choice=new j.vpe,this.picked=!1}get nonFocusable(){return-1}set setQuery(Ve){!Ve||(this.picked=!1,this.query=Ve,this.store.dispatch(new this.action(Ve)).subscribe(()=>{!this.picked&&!this.showSuggestions&&(this.showSuggestions=!0,this.cd.markForCheck())}))}choose(Ve){this.showSuggestions=!1,this.picked=!0,this.choice.emit(Ve),this.store.dispatch(new Je.UZ("Establishments"))}hideSuggestions(){this.showSuggestions=!1,this.cd.markForCheck()}cancel(){this.hideSuggestions(),this.picked=!1}}Xe.\u0275fac=function(Ve){return new(Ve||Xe)(j.Y36(Ee.yh),j.Y36(j.sBO))},Xe.\u0275cmp=j.Xpm({type:Xe,selectors:[["suggestion-box"]],hostVars:1,hostBindings:function(Ve,Ge){2&Ve&&j.uIk("tabindex",Ge.nonFocusable)},inputs:{setQuery:["query","setQuery"],action:"action"},outputs:{choice:"choice"},decls:2,vars:3,consts:[[4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(Ve,Ge){1&Ve&&(j.YNc(0,Ke,2,1,"ng-container",0),j.ALo(1,"async")),2&Ve&&j.Q6J("ngIf",j.lcZ(1,1,Ge.suggestions$))},directives:[Pe.O5,Pe.sg],pipes:[Pe.Ov],styles:["[_ngcontent-%COMP%]:root{--notification-size: $notification-size}[_nghost-%COMP%]{width:100%;position:absolute;z-index:10;max-height:300px;overflow:hidden auto;background:white}ul[_ngcontent-%COMP%]{margin:3px;padding:20px 0;box-shadow:0 4px 6px #ccc}li[_ngcontent-%COMP%]{padding:5px 20px}li[_ngcontent-%COMP%]:hover{background:#0D6191;color:#fff}"],changeDetection:0}),(0,b.gn)([(0,Je.$q)("Establishments")],Xe.prototype,"suggestions$",void 0);var Ye=D(53),tt=D(2222),et=D(1052),vt=D(7414),dt=D(6048);function Mt(Lt,Ve){if(1&Lt){const Ge=j.EpF();j.TgZ(0,"button",15),j.NdJ("click",function(){return j.CHM(Ge),j.oxw(2).slider.left()}),j._uU(1,"Etape suivante"),j.qZA()}}function Rt(Lt,Ve){if(1&Lt){const Ge=j.EpF();j.TgZ(0,"div",16),j._UZ(1,"div",17),j.TgZ(2,"div",18),j.NdJ("click",function(){return j.CHM(Ge),j.oxw(2).slider.left()}),j.qZA(),j.qZA()}}function tn(Lt,Ve){if(1&Lt&&(j.TgZ(0,"form",3),j.TgZ(1,"h3",4),j._uU(2,"Cr\xe9er un compte !"),j.qZA(),j.TgZ(3,"h4",5),j._uU(4,"Informations contact"),j.qZA(),j.TgZ(5,"div",6),j.TgZ(6,"label"),j._uU(7,"Nom du contact"),j.qZA(),j._UZ(8,"input",7),j.qZA(),j.TgZ(9,"div",6),j.TgZ(10,"label"),j._uU(11,"Pr\xe9nom du contact"),j.qZA(),j._UZ(12,"input",8),j.qZA(),j.TgZ(13,"div",6),j.TgZ(14,"label"),j._uU(15,"Adresse e-mail contact"),j.qZA(),j._UZ(16,"input",9),j.qZA(),j.TgZ(17,"div",6),j.TgZ(18,"label"),j._uU(19,"V\xe9rification addresse e-mail"),j.qZA(),j._UZ(20,"input",10),j.qZA(),j.TgZ(21,"div",6),j.TgZ(22,"label"),j._uU(23,"Mot de passe"),j.qZA(),j._UZ(24,"input",11),j.qZA(),j.TgZ(25,"div",12),j.YNc(26,Mt,2,0,"button",13),j.qZA(),j.YNc(27,Rt,3,0,"div",14),j.qZA()),2&Lt){const Ge=j.oxw();j.Q6J("formGroup",Ge.registerForm),j.xp6(26),j.Q6J("ngIf",Ge.showSubmitButton),j.xp6(1),j.Q6J("ngIf",Ge.showSteps)}}function nn(Lt,Ve){if(1&Lt){const Ge=j.EpF();j.TgZ(0,"img",32),j.NdJ("click",function(){j.CHM(Ge),j.oxw();const zt=j.MAs(15);return j.oxw().cancelCompany()&&zt.focus()}),j.qZA()}}function ln(Lt,Ve){if(1&Lt&&(j.TgZ(0,"div",33),j.TgZ(1,"button",34),j._uU(2,"Valider"),j.qZA(),j.qZA()),2&Lt){const Ge=j.oxw(2);j.xp6(1),j.Q6J("disabled",!Ge.registerForm.valid&&!Ge.pending)}}function It(Lt,Ve){if(1&Lt&&(j.TgZ(0,"div",35),j._uU(1),j.qZA()),2&Lt){const Ge=j.oxw(2);j.xp6(1),j.hij(" ",null==Ge.registerForm.errors?null:Ge.registerForm.errors.server," ")}}function mn(Lt,Ve){if(1&Lt){const Ge=j.EpF();j.TgZ(0,"div",16),j.TgZ(1,"div",18),j.NdJ("click",function(){return j.CHM(Ge),j.oxw(2).slider.right()}),j.qZA(),j._UZ(2,"div",17),j.qZA()}}function Nn(Lt,Ve){if(1&Lt){const Ge=j.EpF();j.TgZ(0,"form",19),j.NdJ("ngSubmit",function(zt){return j.CHM(Ge),j.oxw().onSubmit(zt)}),j.TgZ(1,"h3",4),j._uU(2,"Cr\xe9er un compte !"),j.qZA(),j.TgZ(3,"h4",5),j._uU(4,"Informations contact"),j.qZA(),j.TgZ(5,"div",6),j.TgZ(6,"label"),j._uU(7,"Je suis"),j.qZA(),j._UZ(8,"options",20),j.qZA(),j.TgZ(9,"div",6),j.TgZ(10,"label"),j._uU(11,"Nom de l'entreprise"),j.qZA(),j._UZ(12,"input",21),j.TgZ(13,"span",22),j.TgZ(14,"input",23,24),j.NdJ("input",function(zt){return j.CHM(Ge),j.oxw().onCompanySearch(zt)}),j.qZA(),j.YNc(16,nn,1,0,"img",25),j.qZA(),j.TgZ(17,"suggestion-box",26),j.NdJ("choice",function(zt){return j.CHM(Ge),j.oxw().onChoice(zt)}),j.ALo(18,"async"),j.qZA(),j.qZA(),j.TgZ(19,"div",6),j.TgZ(20,"label"),j._uU(21,"M\xe9tier"),j.qZA(),j._UZ(22,"options",27),j.qZA(),j.TgZ(23,"div",28),j.TgZ(24,"label"),j._uU(25,"Code parrain ?"),j.qZA(),j._UZ(26,"input",29),j.qZA(),j.YNc(27,ln,3,1,"div",30),j.YNc(28,It,2,1,"div",31),j.YNc(29,mn,3,0,"div",14),j.qZA()}if(2&Lt){const Ge=j.oxw();j.Q6J("formGroup",Ge.registerForm),j.xp6(8),j.Q6J("options",Ge.roles)("searchable",!1),j.xp6(6),j.Q6J("novalidate",!0),j.xp6(2),j.Q6J("ngIf",Ge.suggestionBox&&Ge.suggestionBox.picked),j.xp6(1),j.Q6J("query",j.lcZ(18,11,Ge.searchQuery))("action",Ge.actions.GetCompanies),j.xp6(5),j.Q6J("options",Ge.jobs),j.xp6(5),j.Q6J("ngIf",Ge.showSubmitButton),j.xp6(1),j.Q6J("ngIf",null==Ge.registerForm.errors?null:Ge.registerForm.errors.server),j.xp6(1),j.Q6J("ngIf",Ge.showSteps)}}const yn=function(Lt,Ve){return[Lt,Ve]};class yt extends Ye.gC{constructor(Ve,Ge,wt){super(),this.store=Ve,this.router=Ge,this.cd=wt,this.onMobile=window.innerWidth<=768,this.showSteps=!0,this.showSubmitButton=!0,this.pending=!1,this.registerForm=new u.cw({lastname:new u.NI("",[u.kI.required]),firstname:new u.NI("",[u.kI.required]),email:new u.NI("",[u.kI.required,(0,ge.G)()]),emailVerification:new u.NI("",[u.kI.required,(0,G.UQ)("email","email",!0)]),password:new u.NI("",[(0,G.kc)()]),proposer:new u.NI(""),role:new u.NI([],[u.kI.required]),company:new u.NI("",[u.kI.required,(0,G.Ai)("object","MESSAGE","Veuillez choisir une entreprise de la liste."),(0,G.r6)("companyName")]),companyName:new u.NI(""),jobs:new u.NI([],[u.kI.required])},{}),this.searchQuery=new Ie.xQ,this.searchEvent=new Ie.xQ,this.actions={GetCompanies:tt.M}}get classes(){return"hosted-page flex column"}onSubmit(Ve){this.pending=!this.pending,this.store.dispatch(be.aX.fromFormGroup(this.registerForm)).pipe((0,I.q)(1)).subscribe(Ge=>{this.router.navigate(["","success"])},Ge=>{this.pending=!this.pending,Ge.email&&(Ge.all=Ge.all?Ge.all+"\n"+Ge.email:Ge.email),(0,G.B$)(this.registerForm,Ge),this.cd.markForCheck()})}ngOnInit(){const Ve=this.searchEvent.pipe((0,U.R)(this.destroy$)),Ge=Ve.pipe(function(Lt,Ve=null){return function(wt){return wt.lift(new T(Lt,Ve))}}(4),(0,W.U)(Cn=>Cn[Cn.length-1])),wt=Ve.pipe((0,oe.b)(1e3));let zt="";(0,$e.T)(Ge,wt).subscribe(Cn=>{const Dn=Cn.target.value;Dn!==zt&&(zt=Dn,this.searchQuery.next(Dn))})}onNavigate(Ve,Ge){Ve>0?this.slider.left():this.slider.right()}onCompanySearch(Ve){var Ge,wt;const zt=Ve.target.value;zt||null===(Ge=this.suggestionBox)||void 0===Ge||Ge.hideSuggestions(),this.searchEvent.next(Ve),null===(wt=this.registerForm.get("company"))||void 0===wt||wt.setValue(zt)}onChoice(Ve){var Ge,wt;null===(Ge=this.registerForm.get("company"))||void 0===Ge||Ge.setValue(Ve),null===(wt=this.registerForm.get("companyName"))||void 0===wt||wt.setValue(Ve.name)}cancelCompany(){var Ve,Ge;return null===(Ve=this.registerForm.get("company"))||void 0===Ve||Ve.setValue(""),null===(Ge=this.registerForm.get("companyName"))||void 0===Ge||Ge.setValue(""),this.suggestionBox&&this.suggestionBox.cancel(),!0}}yt.\u0275fac=function(Ve){return new(Ve||yt)(j.Y36(Ee.yh),j.Y36(et.F0),j.Y36(j.sBO))},yt.\u0275cmp=j.Xpm({type:yt,selectors:[["register-form"]],viewQuery:function(Ve,Ge){if(1&Ve&&(j.Gf(Xe,5),j.Gf(he.J,7)),2&Ve){let wt;j.iGM(wt=j.CRH())&&(Ge.suggestionBox=wt.first),j.iGM(wt=j.CRH())&&(Ge.slider=wt.first)}},hostVars:2,hostBindings:function(Ve,Ge){2&Ve&&j.Tol(Ge.classes)},inputs:{showSteps:"showSteps",showSubmitButton:"showSubmitButton"},features:[j.qOj],decls:5,vars:5,consts:[["type","template",1,"content",3,"slides","animate"],["page1",""],["page2",""],[1,"full-width","form-control","curved-border",3,"formGroup"],[1,"form-title"],[1,"form-subtitle"],[1,"form-input"],["type","text","formControlName","lastname"],["type","text","formControlName","firstname"],["type","email","formControlName","email"],["type","email","formControlName","emailVerification"],["type","password","formControlName","password"],[1,"form-action"],["class","button discover gradient","style","width: 250px",3,"click",4,"ngIf"],["class","form-step",4,"ngIf"],[1,"button","discover","gradient",2,"width","250px",3,"click"],[1,"form-step"],[1,"active"],[3,"click"],[1,"full-width","grow","form-control","curved-border",3,"formGroup","ngSubmit"],["formControlName","role","type","radio","ifEmpty","...",3,"options","searchable"],["type","text","formControlName","company",1,"form-element",2,"display","none"],[1,"position-relative"],["type","text","autocomplete","off","formControlName","companyName",1,"form-element",3,"novalidate","input"],["search",""],["src","assets/X.svg","class","cancel-company",3,"click",4,"ngIf"],[3,"query","action","choice"],["formControlName","jobs",3,"options"],[1,"form-input","parrain"],["type","password","formControlName","proposer",1,"form-element"],["class","form-action","style","margin-top: auto;",4,"ngIf"],["class","server-error center-text",4,"ngIf"],["src","assets/X.svg",1,"cancel-company",3,"click"],[1,"form-action",2,"margin-top","auto"],[1,"button","discover","gradient",2,"width","250px",3,"disabled"],[1,"server-error","center-text"]],template:function(Ve,Ge){if(1&Ve&&(j._UZ(0,"div",0),j.YNc(1,tn,28,3,"ng-template",null,1,j.W1O),j.YNc(3,Nn,30,13,"ng-template",null,2,j.W1O)),2&Ve){const wt=j.MAs(2),zt=j.MAs(4);j.Q6J("slides",j.WLB(2,yn,wt,zt))("animate",Ge.onMobile)}},directives:[he.J,u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u,vt.kH,Pe.O5,dt.Y,Xe],pipes:[Pe.Ov],styles:["[_ngcontent-%COMP%]:root{--notification-size: $notification-size}.page-content-with-tabs[_ngcontent-%COMP%], .mobile-view[_nghost-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden;touch-action:pan-y!important}.mobile-view[_nghost-%COMP%]{margin-top:87px;margin-top:calc(constant(safe-area-inset-top) + 87px);margin-top:calc(env(safe-area-inset-top) + 87px);height:calc(100vh - 227px - env(safe-area-inset-bottom))}.page-content-with-tabs[_ngcontent-%COMP%]{margin-top:150px;margin-top:calc(constant(safe-area-inset-top) + 150px);margin-top:calc(env(safe-area-inset-top) + 150px);margin-bottom:0;margin-bottom:calc(constant(safe-area-inset-bottom) + 0);margin-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(100vh - 220px - env(safe-area-inset-bottom))}.invert[_ngcontent-%COMP%]{filter:invert(1)}[_nghost-%COMP%]:not(.mobile-view){max-height:768px;align-self:center}.parrain[_ngcontent-%COMP%]{align-self:flex-end;max-width:50vw}.suggestion-list[_ngcontent-%COMP%]{position:absolute;z-index:10;max-height:100px;overflow:hidden auto;background:white;box-shadow:0 4px 4px #ccc}.cancel-company[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:5px;transform-origin:center;transform:scale(.7)}"],changeDetection:0}),(0,b.gn)([(0,Je.Ou)("Job")],yt.prototype,"jobs",void 0),(0,b.gn)([(0,Je.Ou)("Role")],yt.prototype,"roles",void 0)},7330:(ke,_e,D)=>{"use strict";D.d(_e,{E:()=>r,j:()=>T});var b=D(7574),u=D(5917),g=D(3018);let r=(()=>{class k{transform(I,...U){return I instanceof b.y?I:(0,u.of)(I)}}return k.\u0275fac=function(I){return new(I||k)},k.\u0275pipe=g.Yjl({name:"cast",type:k,pure:!0}),k})(),T=(()=>{class k{transform(I,...U){return I}}return k.\u0275fac=function(I){return new(I||k)},k.\u0275pipe=g.Yjl({name:"snapshot",type:k,pure:!0}),k})()},7061:(ke,_e,D)=>{"use strict";D.d(_e,{D:()=>u});var b=D(3018);let u=(()=>{class g{transform(T,k=2,C=1){const I=(T||"").toString().replace(/\s/g,"");let U="";for(let W=0;W<I.length-1;W++)U+=I[W],(W+1)%k==0&&(U+=" ".repeat(C));return I&&(U+=I[I.length-1]),U}}return g.\u0275fac=function(T){return new(T||g)},g.\u0275pipe=b.Yjl({name:"space",type:g,pure:!0}),g})()},390:(ke,_e,D)=>{"use strict";D.d(_e,{t:()=>We});var b=D(7574),u=D(3637),g=D(9796);function k(Ke){const{subscriber:Xe,counter:Ye,period:tt}=Ke;Xe.next(Ye),this.schedule({subscriber:Xe,counter:Ye+1,period:tt},tt)}var C=D(6693),I=D(5197),U=D(509);class oe{call(Xe,Ye){return Ye.subscribe(new be(Xe))}}class be extends I.L{constructor(Xe){super(Xe),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(Xe){this.observables.push(Xe)}_complete(){const Xe=this.observables,Ye=Xe.length;if(0===Ye)this.destination.complete();else{for(let tt=0;tt<Ye&&!this.hasFirst;tt++){const vt=(0,U.D)(this,Xe[tt],void 0,tt);this.subscriptions&&this.subscriptions.push(vt),this.add(vt)}this.observables=null}}notifyNext(Xe,Ye,tt){if(!this.hasFirst){this.hasFirst=!0;for(let et=0;et<this.subscriptions.length;et++)if(et!==tt){let vt=this.subscriptions[et];vt.unsubscribe(),this.remove(vt)}this.subscriptions=null}this.destination.next(Ye)}}var G=D(6782),he=D(53),ge=D(1170),Ie=D(3018),$e=D(9358),j=D(1052),Je=D(8583);const Ee=function(){return["","connexion"]};function Pe(Ke,Xe){1&Ke&&(Ie.ynx(0),Ie.TgZ(1,"div",3),Ie._UZ(2,"img",4),Ie.qZA(),Ie.TgZ(3,"p"),Ie._uU(4,"Votre profil \xe0 bien \xe9t\xe9 confirm\xe9 !"),Ie.qZA(),Ie.TgZ(5,"button",5),Ie._uU(6,"Commencer"),Ie.qZA(),Ie.BQk()),2&Ke&&(Ie.xp6(5),Ie.Q6J("routerLink",Ie.DdM(1,Ee)))}function lt(Ke,Xe){if(1&Ke&&(Ie.TgZ(0,"div",6),Ie._UZ(1,"div"),Ie._UZ(2,"div"),Ie.qZA(),Ie.TgZ(3,"p",7),Ie._uU(4),Ie.qZA()),2&Ke){const Ye=Ie.oxw();Ie.xp6(4),Ie.AsE("",Ye.content," ",Ye.points,"")}}let We=(()=>{class Ke extends he.gC{constructor(Ye,tt,et){super(),this.store=Ye,this.cd=tt,this.route=et,this.confirmed=!1,this.content="Confirmation en cours",this.points=".";const dt=this.store.dispatch(new ge.Ge(this.route.snapshot.params.token));(function(Ke=0,Xe=u.P){return(!function(Ke){return!(0,g.k)(Ke)&&Ke-parseFloat(Ke)+1>=0}(Ke)||Ke<0)&&(Ke=0),(!Xe||"function"!=typeof Xe.schedule)&&(Xe=u.P),new b.y(Ye=>(Ye.add(Xe.schedule(k,Ke,{subscriber:Ye,counter:0,period:Ke})),Ye))})(500).pipe((0,G.R)(function(...Ke){if(1===Ke.length){if(!(0,g.k)(Ke[0]))return Ke[0];Ke=Ke[0]}return(0,C.n)(Ke,void 0).lift(new oe)}(this.destroy$,dt))).subscribe(Mt=>{this.points=this.points.length>=5?".":this.points+=".",this.cd.markForCheck()},Mt=>{this.content="Echec en raison de:",this.points="Token invalide.",this.cd.markForCheck()},()=>{this.confirmed=!0,this.cd.markForCheck()})}}return Ke.\u0275fac=function(Ye){return new(Ye||Ke)(Ie.Y36($e.yh),Ie.Y36(Ie.sBO),Ie.Y36(j.gz))},Ke.\u0275cmp=Ie.Xpm({type:Ke,selectors:[["email-confirmed"]],features:[Ie.qOj],decls:4,vars:2,consts:[[1,"confirmation-pages","cover-parent","flex","column","center"],[4,"ngIf","ngIfElse"],["waiting_tpl",""],[1,"success-circle","flex","center"],["src","assets/confirmation.svg"],[3,"routerLink"],[1,"ripple"],[1,"confirmed-with-success"]],template:function(Ye,tt){if(1&Ye&&(Ie.TgZ(0,"div",0),Ie.YNc(1,Pe,7,2,"ng-container",1),Ie.qZA(),Ie.YNc(2,lt,5,2,"ng-template",null,2,Ie.W1O)),2&Ye){const et=Ie.MAs(3);Ie.xp6(1),Ie.Q6J("ngIf",tt.confirmed)("ngIfElse",et)}},directives:[Je.O5,j.rH],styles:['[_ngcontent-%COMP%]:root{--notification-size: $notification-size}[_nghost-%COMP%]{position:absolute;left:0;top:0;right:0;bottom:0}.page-content-with-tabs[_ngcontent-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden;touch-action:pan-y!important}.page-content-with-tabs[_ngcontent-%COMP%]{margin-top:150px;margin-top:calc(constant(safe-area-inset-top) + 150px);margin-top:calc(env(safe-area-inset-top) + 150px);margin-bottom:0;margin-bottom:calc(constant(safe-area-inset-bottom) + 0);margin-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(100vh - 220px - env(safe-area-inset-bottom))}.invert[_ngcontent-%COMP%]{filter:invert(1)}@keyframes ripple{0%{top:36px;left:36px;width:0;height:0;opacity:1}to{top:0px;left:0px;width:72px;height:72px;opacity:0}}.ripple[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.ripple[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;border:4px solid #fff;opacity:1;border-radius:50%;animation:ripple 1s cubic-bezier(0,.2,.8,1) infinite}.ripple[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.5s}[_nghost-%COMP%]{font-family:"Poppins";background-color:#0d6191}.confirmation-pages[_ngcontent-%COMP%]   .success-circle[_ngcontent-%COMP%]{border-radius:50%;background-color:#fff;width:80px;height:80px;box-shadow:#00000040 0 70px 55px,#0000001f 0 -12px 30px,#0000001f 0 4px 6px,#0000002b 0 12px 13px,#00000017 0 -3px 5px;text-align:center}button[_ngcontent-%COMP%]{background-color:#52d1bd;color:#fff;width:60%;max-width:200px}p[_ngcontent-%COMP%]{color:#fff;margin-top:25px;margin-bottom:100px}'],changeDetection:0}),Ke})()},1877:(ke,_e,D)=>{"use strict";D.d(_e,{M:()=>k});var b=D(310),u=D(3018),g=D(9358),r=D(1052);const T=function(){return["","home"]};let k=(()=>{class C{constructor(U){this.store=U;const W=this.store.selectSnapshot(b.j);this.userEmail=W.pendingEmail}}return C.\u0275fac=function(U){return new(U||C)(u.Y36(g.yh))},C.\u0275cmp=u.Xpm({type:C,selectors:[["success"]],decls:17,vars:3,consts:[[1,"overlap"],[1,"content","center-text","flex","column","center-main","space-children-margin"],[1,"email"],[1,"image-container"],["src","assets/ImageConfirmationMail.svg"],[1,"help"],[1,"external-links"],[1,"external-links",3,"routerLink"]],template:function(U,W){1&U&&(u._UZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"p"),u._uU(3,"Un mail de confirmation vous a \xe9t\xe9 envoy\xe9 sur l\u2019adresse mail"),u.qZA(),u.TgZ(4,"p"),u.TgZ(5,"span",2),u._uU(6),u.qZA(),u.qZA(),u.TgZ(7,"p"),u._uU(8," Veuillez cliquer sur le lien dans votre mail pour valider votre compte est acc\xe9der aux fonctionnalit\xe9s de l\u2019application "),u.qZA(),u.TgZ(9,"div",3),u._UZ(10,"img",4),u.qZA(),u.TgZ(11,"div",5),u.TgZ(12,"a",6),u._uU(13,"Je n\u2019ai pas re\xe7u le mail ? Envoyer un deuxi\xe8me mail"),u.qZA(),u._UZ(14,"br"),u.TgZ(15,"a",7),u._uU(16,"V\xe9rifier mes informations !"),u.qZA(),u.qZA(),u.qZA()),2&U&&(u.xp6(6),u.Oqu(W.userEmail),u.xp6(9),u.Q6J("routerLink",u.DdM(2,T)))},directives:[r.yS],styles:['[_ngcontent-%COMP%]:root{--notification-size: $notification-size}.page-content-with-tabs[_ngcontent-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden;touch-action:pan-y!important}.page-content-with-tabs[_ngcontent-%COMP%]{margin-top:150px;margin-top:calc(constant(safe-area-inset-top) + 150px);margin-top:calc(env(safe-area-inset-top) + 150px);margin-bottom:0;margin-bottom:calc(constant(safe-area-inset-bottom) + 0);margin-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(100vh - 220px - env(safe-area-inset-bottom))}.invert[_ngcontent-%COMP%]{filter:invert(1)}[_nghost-%COMP%]{font-family:"Poppins";display:flex;background-color:#fff;text-align:center;width:100vw;height:100vh;overflow:hidden;position:relative}p[_ngcontent-%COMP%]{font-size:1em}.help[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9em}.image-container[_ngcontent-%COMP%]{margin-left:-20px}.email[_ngcontent-%COMP%]{color:#52d1bd}.overlap[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]{padding:30px}.overlap[_ngcontent-%COMP%]{flex:1;display:none}.content[_ngcontent-%COMP%]{flex:1;max-width:500px;margin:0 auto}@media (min-width: 768px){img[_ngcontent-%COMP%]{left:25%;top:50%;transform:translate(-50%,-50%);position:absolute}.content[_ngcontent-%COMP%]{background-color:#f7f7f7;max-width:unset}.overlap[_ngcontent-%COMP%]{display:block}}'],changeDetection:0}),C})()},2028:(ke,_e,D)=>{"use strict";D.d(_e,{G:()=>u});var b=D(9163);const u=()=>{let r=null;return T=>{let k=T.value,C={};return r===k&&T.errors&&(C=T.errors),r=k,k?(k.match(b.Do)||(C.INVALID_FORMAT=["e-mail"]),Object.keys(C).length?C:null):null}}},9163:(ke,_e,D)=>{"use strict";D.d(_e,{vl:()=>b,Lw:()=>u,Rx:()=>g,Do:()=>T,m7:()=>k,HQ:()=>C});const b=/[a-z]/,u=/[A-Z]/,g=/[0-9]/,T=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,k=/^(\+\d{1,3}|0|00\d{2})?[1-9]\d{8}$/,C=/^((ftp|http|https):\/\/)?(www.)?(?!.*(ftp|http|https|www.))[a-zA-Z0-9_-]+(\.[a-zA-Z]+)+((\/)[\w#]+)*(\/\w+\?[a-zA-Z0-9_]+=\w+(&[a-zA-Z0-9_]+=\w+)*)?$/},7530:(ke,_e,D)=>{"use strict";D.d(_e,{UQ:()=>u,aH:()=>g,kc:()=>r,Ai:()=>T,fS:()=>C,r6:()=>I,B$:()=>U});var b=D(9163);const u=(W,oe=W,be=!1)=>G=>{var he;const ge=null===(he=G.parent)||void 0===he?void 0:he.get(W),Ie=ge&&(be?ge.value.toLowerCase():ge.value),$e=be?G.value.toLowerCase():G.value;return ge&&Ie==$e?null:{FIELD_MISMATCH:[oe]}},g=(W="")=>oe=>{let G={};return(null==oe?void 0:oe.value)||(G.REQUIRED_FIELD=W?[W]:[]),Object.keys(G).length?G:null},r=()=>W=>{let oe=null==W?void 0:W.value,be={};return oe.length<8&&(be.MIN_LENGTH=[]),oe.match(b.vl)?oe.match(b.Lw)||(be.CASE=["majuscule"]):be.CASE=["miniscule"],Object.keys(be).length?be:null},T=(W,oe,...be)=>G=>{let ge={};return typeof G.value!=W&&(ge[oe]=be),Object.keys(ge).length?ge:null},C=(W,oe)=>be=>{let G=be.value,he={};return G?("number"==W?"number"==typeof G||G.match(b.Rx)||(he.FIELD_TYPE=oe||["un nombre"]):"phone"==W?G.replace(/\s/g,"").match(b.m7)||(he.FIELD_TYPE=oe||["un num\xe9ro de t\xe9l\xe9phone"]):G.match(b.HQ)||(he.FIELD_TYPE=oe||["un site web"]),Object.keys(he).length?he:null):be.errors},I=W=>oe=>{var be;const G=null===(be=oe.parent)||void 0===be?void 0:be.get(W);return G&&G.setErrors(oe.errors),null},U=(W,oe)=>{var be;if(!oe)return;oe.all&&W.setErrors({server:oe.all});let G=Object.keys(oe).filter(he=>"all"!=he);for(let he of G)null===(be=W.get(he))||void 0===be||be.setErrors({MESSAGE:[oe[he]]})}},6700:(ke,_e,D)=>{var b={"./af":6431,"./af.js":6431,"./ar":1286,"./ar-dz":1616,"./ar-dz.js":1616,"./ar-kw":9759,"./ar-kw.js":9759,"./ar-ly":3160,"./ar-ly.js":3160,"./ar-ma":2551,"./ar-ma.js":2551,"./ar-sa":9989,"./ar-sa.js":9989,"./ar-tn":6962,"./ar-tn.js":6962,"./ar.js":1286,"./az":5887,"./az.js":5887,"./be":4572,"./be.js":4572,"./bg":3276,"./bg.js":3276,"./bm":3344,"./bm.js":3344,"./bn":8985,"./bn-bd":3990,"./bn-bd.js":3990,"./bn.js":8985,"./bo":4391,"./bo.js":4391,"./br":6728,"./br.js":6728,"./bs":5536,"./bs.js":5536,"./ca":1043,"./ca.js":1043,"./cs":420,"./cs.js":420,"./cv":3513,"./cv.js":3513,"./cy":6771,"./cy.js":6771,"./da":1548,"./da.js":1548,"./de":6061,"./de-at":5204,"./de-at.js":5204,"./de-ch":2653,"./de-ch.js":2653,"./de.js":6061,"./dv":85,"./dv.js":85,"./el":8579,"./el.js":8579,"./en-au":5724,"./en-au.js":5724,"./en-ca":525,"./en-ca.js":525,"./en-gb":2847,"./en-gb.js":2847,"./en-ie":7216,"./en-ie.js":7216,"./en-il":9305,"./en-il.js":9305,"./en-in":3364,"./en-in.js":3364,"./en-nz":9130,"./en-nz.js":9130,"./en-sg":1161,"./en-sg.js":1161,"./eo":802,"./eo.js":802,"./es":328,"./es-do":5551,"./es-do.js":5551,"./es-mx":5615,"./es-mx.js":5615,"./es-us":4790,"./es-us.js":4790,"./es.js":328,"./et":6389,"./et.js":6389,"./eu":2961,"./eu.js":2961,"./fa":6151,"./fa.js":6151,"./fi":7997,"./fi.js":7997,"./fil":8898,"./fil.js":8898,"./fo":7779,"./fo.js":7779,"./fr":8174,"./fr-ca":3287,"./fr-ca.js":3287,"./fr-ch":8867,"./fr-ch.js":8867,"./fr.js":8174,"./fy":452,"./fy.js":452,"./ga":5014,"./ga.js":5014,"./gd":4127,"./gd.js":4127,"./gl":2124,"./gl.js":2124,"./gom-deva":6444,"./gom-deva.js":6444,"./gom-latn":7953,"./gom-latn.js":7953,"./gu":6604,"./gu.js":6604,"./he":1222,"./he.js":1222,"./hi":4235,"./hi.js":4235,"./hr":622,"./hr.js":622,"./hu":7735,"./hu.js":7735,"./hy-am":402,"./hy-am.js":402,"./id":9187,"./id.js":9187,"./is":536,"./is.js":536,"./it":5007,"./it-ch":4667,"./it-ch.js":4667,"./it.js":5007,"./ja":2093,"./ja.js":2093,"./jv":59,"./jv.js":59,"./ka":6870,"./ka.js":6870,"./kk":880,"./kk.js":880,"./km":1083,"./km.js":1083,"./kn":8785,"./kn.js":8785,"./ko":1721,"./ko.js":1721,"./ku":7851,"./ku.js":7851,"./ky":1727,"./ky.js":1727,"./lb":346,"./lb.js":346,"./lo":3002,"./lo.js":3002,"./lt":4035,"./lt.js":4035,"./lv":6927,"./lv.js":6927,"./me":5634,"./me.js":5634,"./mi":4173,"./mi.js":4173,"./mk":6320,"./mk.js":6320,"./ml":1705,"./ml.js":1705,"./mn":1062,"./mn.js":1062,"./mr":2805,"./mr.js":2805,"./ms":1341,"./ms-my":9900,"./ms-my.js":9900,"./ms.js":1341,"./mt":7734,"./mt.js":7734,"./my":9034,"./my.js":9034,"./nb":9324,"./nb.js":9324,"./ne":6495,"./ne.js":6495,"./nl":673,"./nl-be":6272,"./nl-be.js":6272,"./nl.js":673,"./nn":2486,"./nn.js":2486,"./oc-lnc":6219,"./oc-lnc.js":6219,"./pa-in":2829,"./pa-in.js":2829,"./pl":8444,"./pl.js":8444,"./pt":3170,"./pt-br":6117,"./pt-br.js":6117,"./pt.js":3170,"./ro":6587,"./ro.js":6587,"./ru":9264,"./ru.js":9264,"./sd":2135,"./sd.js":2135,"./se":5366,"./se.js":5366,"./si":3379,"./si.js":3379,"./sk":6143,"./sk.js":6143,"./sl":196,"./sl.js":196,"./sq":1082,"./sq.js":1082,"./sr":1621,"./sr-cyrl":8963,"./sr-cyrl.js":8963,"./sr.js":1621,"./ss":1404,"./ss.js":1404,"./sv":5685,"./sv.js":5685,"./sw":3872,"./sw.js":3872,"./ta":4106,"./ta.js":4106,"./te":9204,"./te.js":9204,"./tet":3692,"./tet.js":3692,"./tg":6361,"./tg.js":6361,"./th":1735,"./th.js":1735,"./tk":1568,"./tk.js":1568,"./tl-ph":6129,"./tl-ph.js":6129,"./tlh":3759,"./tlh.js":3759,"./tr":1644,"./tr.js":1644,"./tzl":875,"./tzl.js":875,"./tzm":6878,"./tzm-latn":1041,"./tzm-latn.js":1041,"./tzm.js":6878,"./ug-cn":4357,"./ug-cn.js":4357,"./uk":4810,"./uk.js":4810,"./ur":6794,"./ur.js":6794,"./uz":8966,"./uz-latn":7959,"./uz-latn.js":7959,"./uz.js":8966,"./vi":5386,"./vi.js":5386,"./x-pseudo":3156,"./x-pseudo.js":3156,"./yo":8028,"./yo.js":8028,"./zh-cn":9330,"./zh-cn.js":9330,"./zh-hk":9380,"./zh-hk.js":9380,"./zh-mo":874,"./zh-mo.js":874,"./zh-tw":6508,"./zh-tw.js":6508};function u(r){var T=g(r);return D(T)}function g(r){if(!D.o(b,r)){var T=new Error("Cannot find module '"+r+"'");throw T.code="MODULE_NOT_FOUND",T}return b[r]}u.keys=function(){return Object.keys(b)},u.resolve=g,ke.exports=u,u.id=6700}}]);